<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 17 Old - Transform | Reporting with Data in R</title>
  <meta name="description" content="Chapter 17 Old - Transform | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 17 Old - Transform | Reporting with Data in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 17 Old - Transform | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  <meta name="github-repo" content="utdata/rwdir" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 17 Old - Transform | Reporting with Data in R" />
  
  <meta name="twitter:description" content="Chapter 17 Old - Transform | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  

<meta name="author" content="Christian McDonald" />


<meta name="date" content="2021-07-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="old-importing-data.html"/>
<link rel="next" href="old-summarize.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<style type="text/css">
  p.caption {
    color: #777;
    margin-top: 10px;
  }
  p code, pre, pre code, li code {
    background-color: #DCDCDC !important;
  }
</style>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Reporting with Data in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this book</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-my-philosphy"><i class="fa fa-check"></i>About my philosphy</a></li>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#tips-on-my-writing-style"><i class="fa fa-check"></i><b>0.1</b> Tips on my writing style</a><ul>
<li class="chapter" data-level="0.1.1" data-path="index.html"><a href="index.html#things-to-do"><i class="fa fa-check"></i><b>0.1.1</b> Things to do</a></li>
<li class="chapter" data-level="0.1.2" data-path="index.html"><a href="index.html#notes-some-important"><i class="fa fa-check"></i><b>0.1.2</b> Notes, some important</a></li>
<li class="chapter" data-level="0.1.3" data-path="index.html"><a href="index.html#copy-code-blocks"><i class="fa fa-check"></i><b>0.1.3</b> Copy code blocks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other resources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Install Party</a><ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#mac-vs-pc"><i class="fa fa-check"></i><b>1.1</b> Mac vs PC</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="install.html"><a href="install.html#class-project-folder"><i class="fa fa-check"></i><b>1.4</b> Class project folder</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#rstudio-tour"><i class="fa fa-check"></i><b>2.1</b> RStudio tour</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#updating-preferences"><i class="fa fa-check"></i><b>2.2</b> Updating preferences</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#starting-a-new-project"><i class="fa fa-check"></i><b>2.3</b> Starting a new Project</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#using-r-notebooks"><i class="fa fa-check"></i><b>2.4</b> Using R Notebooks</a><ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#create-your-first-notebook"><i class="fa fa-check"></i><b>2.4.1</b> Create your first notebook</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro.html"><a href="intro.html#save-the-.rmd-file"><i class="fa fa-check"></i><b>2.4.2</b> Save the .Rmd file</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro.html"><a href="intro.html#run-the-notebook"><i class="fa fa-check"></i><b>2.4.3</b> Run the notebook</a></li>
<li class="chapter" data-level="2.4.4" data-path="intro.html"><a href="intro.html#adding-new-code-chunks"><i class="fa fa-check"></i><b>2.4.4</b> Adding new code chunks</a></li>
<li class="chapter" data-level="2.4.5" data-path="intro.html"><a href="intro.html#practice-adding-code-chunks"><i class="fa fa-check"></i><b>2.4.5</b> Practice adding code chunks</a></li>
<li class="chapter" data-level="2.4.6" data-path="intro.html"><a href="intro.html#preview-the-report"><i class="fa fa-check"></i><b>2.4.6</b> Preview the report</a></li>
<li class="chapter" data-level="2.4.7" data-path="intro.html"><a href="intro.html#the-toolbar"><i class="fa fa-check"></i><b>2.4.7</b> The toolbar</a></li>
<li class="chapter" data-level="2.4.8" data-path="intro.html"><a href="intro.html#knit-the-final-workbook"><i class="fa fa-check"></i><b>2.4.8</b> Knit the final workbook</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#turning-in-our-projects"><i class="fa fa-check"></i><b>2.5</b> Turning in our projects</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="import.html"><a href="import.html"><i class="fa fa-check"></i><b>3</b> Importing data</a><ul>
<li class="chapter" data-level="3.1" data-path="import.html"><a href="import.html#goals-for-this-section"><i class="fa fa-check"></i><b>3.1</b> Goals for this section</a></li>
<li class="chapter" data-level="3.2" data-path="import.html"><a href="import.html#our-project-data"><i class="fa fa-check"></i><b>3.2</b> Our project data</a></li>
<li class="chapter" data-level="3.3" data-path="import.html"><a href="import.html#about-data-sources"><i class="fa fa-check"></i><b>3.3</b> About data sources</a><ul>
<li class="chapter" data-level="3.3.1" data-path="import.html"><a href="import.html#what-is-clean-data"><i class="fa fa-check"></i><b>3.3.1</b> What is clean data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="import.html"><a href="import.html#create-a-new-project"><i class="fa fa-check"></i><b>3.4</b> Create a new project</a><ul>
<li class="chapter" data-level="3.4.1" data-path="import.html"><a href="import.html#the-r-package-environment"><i class="fa fa-check"></i><b>3.4.1</b> The R Package environment</a></li>
<li class="chapter" data-level="3.4.2" data-path="import.html"><a href="import.html#installing-and-using-packages"><i class="fa fa-check"></i><b>3.4.2</b> Installing and using packages</a></li>
<li class="chapter" data-level="3.4.3" data-path="import.html"><a href="import.html#load-the-libraries"><i class="fa fa-check"></i><b>3.4.3</b> Load the libraries</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="import.html"><a href="import.html#downloading-raw-data"><i class="fa fa-check"></i><b>3.5</b> Downloading raw data</a><ul>
<li class="chapter" data-level="3.5.1" data-path="import.html"><a href="import.html#create-a-directory-for-your-data"><i class="fa fa-check"></i><b>3.5.1</b> Create a directory for your data</a></li>
<li class="chapter" data-level="3.5.2" data-path="import.html"><a href="import.html#lets-get-some-data"><i class="fa fa-check"></i><b>3.5.2</b> Let’s get some data</a></li>
<li class="chapter" data-level="3.5.3" data-path="import.html"><a href="import.html#peek-at-the-data-file"><i class="fa fa-check"></i><b>3.5.3</b> Peek at the data file</a></li>
<li class="chapter" data-level="3.5.4" data-path="import.html"><a href="import.html#import-csv-as-data"><i class="fa fa-check"></i><b>3.5.4</b> Import csv as data</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="import.html"><a href="import.html#assign-our-import-to-a-data-frame"><i class="fa fa-check"></i><b>3.6</b> Assign our import to a data frame</a><ul>
<li class="chapter" data-level="3.6.1" data-path="import.html"><a href="import.html#print-a-peek-to-the-screen"><i class="fa fa-check"></i><b>3.6.1</b> Print a peek to the screen</a></li>
<li class="chapter" data-level="3.6.2" data-path="import.html"><a href="import.html#glimpse-the-data"><i class="fa fa-check"></i><b>3.6.2</b> Glimpse the data</a></li>
<li class="chapter" data-level="3.6.3" data-path="import.html"><a href="import.html#about-the-pipe"><i class="fa fa-check"></i><b>3.6.3</b> About the pipe %&gt;%</a></li>
<li class="chapter" data-level="3.6.4" data-path="import.html"><a href="import.html#creating-consistent-column-names"><i class="fa fa-check"></i><b>3.6.4</b> Creating consistent column names</a></li>
<li class="chapter" data-level="3.6.5" data-path="import.html"><a href="import.html#import-other-data-frames"><i class="fa fa-check"></i><b>3.6.5</b> Import other data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="import.html"><a href="import.html#prepare-data-for-joining"><i class="fa fa-check"></i><b>3.7</b> Prepare data for joining</a><ul>
<li class="chapter" data-level="3.7.1" data-path="import.html"><a href="import.html#prepare-the-directory-data"><i class="fa fa-check"></i><b>3.7.1</b> Prepare the directory data</a></li>
<li class="chapter" data-level="3.7.2" data-path="import.html"><a href="import.html#prepare-cstud-data"><i class="fa fa-check"></i><b>3.7.2</b> Prepare CSTUD data</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="import.html"><a href="import.html#joining-the-data-together"><i class="fa fa-check"></i><b>3.8</b> Joining the data together</a></li>
<li class="chapter" data-level="3.9" data-path="import.html"><a href="import.html#exporting-data"><i class="fa fa-check"></i><b>3.9</b> Exporting data</a><ul>
<li class="chapter" data-level="3.9.1" data-path="import.html"><a href="import.html#single-notebook-philosophy"><i class="fa fa-check"></i><b>3.9.1</b> Single-notebook philosophy</a></li>
<li class="chapter" data-level="3.9.2" data-path="import.html"><a href="import.html#exporting-as-rds"><i class="fa fa-check"></i><b>3.9.2</b> Exporting as rds</a></li>
</ul></li>
<li class="chapter" data-level="3.10" data-path="import.html"><a href="import.html#review-of-what-weve-learned-so-far"><i class="fa fa-check"></i><b>3.10</b> Review of what we’ve learned so far</a></li>
<li class="chapter" data-level="3.11" data-path="import.html"><a href="import.html#resources"><i class="fa fa-check"></i><b>3.11</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>4</b> Transform</a><ul>
<li class="chapter" data-level="4.1" data-path="transform.html"><a href="transform.html#rewite-tasks"><i class="fa fa-check"></i><b>4.1</b> Rewite tasks</a></li>
<li class="chapter" data-level="4.2" data-path="transform.html"><a href="transform.html#goals-for-the-section"><i class="fa fa-check"></i><b>4.2</b> Goals for the section</a></li>
<li class="chapter" data-level="4.3" data-path="transform.html"><a href="transform.html#introducing-dplyr"><i class="fa fa-check"></i><b>4.3</b> Introducing dplyr</a></li>
<li class="chapter" data-level="4.4" data-path="transform.html"><a href="transform.html#start-a-new-r-notebook"><i class="fa fa-check"></i><b>4.4</b> Start a new R Notebook</a></li>
<li class="chapter" data-level="4.5" data-path="transform.html"><a href="transform.html#record-our-goals"><i class="fa fa-check"></i><b>4.5</b> Record our goals</a></li>
<li class="chapter" data-level="4.6" data-path="transform.html"><a href="transform.html#setup"><i class="fa fa-check"></i><b>4.6</b> Setup</a><ul>
<li class="chapter" data-level="4.6.1" data-path="transform.html"><a href="transform.html#naming-our-chunks"><i class="fa fa-check"></i><b>4.6.1</b> Naming our chunks</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="transform.html"><a href="transform.html#import-our-data"><i class="fa fa-check"></i><b>4.7</b> Import our data</a></li>
<li class="chapter" data-level="4.8" data-path="transform.html"><a href="transform.html#explore-instruction-type"><i class="fa fa-check"></i><b>4.8</b> Explore instruction type</a></li>
<li class="chapter" data-level="4.9" data-path="transform.html"><a href="transform.html#filter"><i class="fa fa-check"></i><b>4.9</b> Filter()</a><ul>
<li class="chapter" data-level="4.9.1" data-path="transform.html"><a href="transform.html#filter-for-regular-instructional-schools"><i class="fa fa-check"></i><b>4.9.1</b> Filter for Regular Instructional schools</a></li>
<li class="chapter" data-level="4.9.2" data-path="transform.html"><a href="transform.html#logical-tests"><i class="fa fa-check"></i><b>4.9.2</b> Logical tests</a></li>
<li class="chapter" data-level="4.9.3" data-path="transform.html"><a href="transform.html#common-mistakes-with-filter"><i class="fa fa-check"></i><b>4.9.3</b> Common mistakes with filter</a></li>
</ul></li>
<li class="chapter" data-level="4.10" data-path="transform.html"><a href="transform.html#combining-filters"><i class="fa fa-check"></i><b>4.10</b> Combining filters</a><ul>
<li class="chapter" data-level="4.10.1" data-path="transform.html"><a href="transform.html#common-mistakes-with-combining-filters"><i class="fa fa-check"></i><b>4.10.1</b> Common mistakes with combining filters</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="transform.html"><a href="transform.html#select"><i class="fa fa-check"></i><b>4.11</b> Select()</a></li>
<li class="chapter" data-level="4.12" data-path="transform.html"><a href="transform.html#how-to-describe-the-change"><i class="fa fa-check"></i><b>4.12</b> How to describe the change</a><ul>
<li class="chapter" data-level="4.12.1" data-path="transform.html"><a href="transform.html#describing-the-count-changes"><i class="fa fa-check"></i><b>4.12.1</b> Describing the count changes</a></li>
<li class="chapter" data-level="4.12.2" data-path="transform.html"><a href="transform.html#describing-percentage-differences"><i class="fa fa-check"></i><b>4.12.2</b> Describing percentage differences</a></li>
</ul></li>
<li class="chapter" data-level="4.13" data-path="transform.html"><a href="transform.html#mutate"><i class="fa fa-check"></i><b>4.13</b> Mutate()</a><ul>
<li class="chapter" data-level="4.13.1" data-path="transform.html"><a href="transform.html#simple-change-of-counts"><i class="fa fa-check"></i><b>4.13.1</b> Simple change of counts</a></li>
<li class="chapter" data-level="4.13.2" data-path="transform.html"><a href="transform.html#calculate-percent-change"><i class="fa fa-check"></i><b>4.13.2</b> Calculate percent change</a></li>
<li class="chapter" data-level="4.13.3" data-path="transform.html"><a href="transform.html#calculate-percentage-point-difference"><i class="fa fa-check"></i><b>4.13.3</b> Calculate percentage point difference</a></li>
<li class="chapter" data-level="4.13.4" data-path="transform.html"><a href="transform.html#calculating-our-special-education-threshold"><i class="fa fa-check"></i><b>4.13.4</b> Calculating our special education threshold</a></li>
</ul></li>
<li class="chapter" data-level="4.14" data-path="transform.html"><a href="transform.html#export-your-computations"><i class="fa fa-check"></i><b>4.14</b> Export your computations</a></li>
<li class="chapter" data-level="4.15" data-path="transform.html"><a href="transform.html#more-dplyr-in-next-lesson"><i class="fa fa-check"></i><b>4.15</b> More dplyr in next lesson</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="summarize.html"><a href="summarize.html"><i class="fa fa-check"></i><b>5</b> Summarize</a><ul>
<li class="chapter" data-level="5.1" data-path="summarize.html"><a href="summarize.html#new-task-new-notebook"><i class="fa fa-check"></i><b>5.1</b> New task, new notebook</a><ul>
<li class="chapter" data-level="5.1.1" data-path="summarize.html"><a href="summarize.html#create-analysis-notebook"><i class="fa fa-check"></i><b>5.1.1</b> Create analysis notebook</a></li>
<li class="chapter" data-level="5.1.2" data-path="summarize.html"><a href="summarize.html#import-1"><i class="fa fa-check"></i><b>5.1.2</b> Import</a></li>
<li class="chapter" data-level="5.1.3" data-path="summarize.html"><a href="summarize.html#filter-to-austin-isd"><i class="fa fa-check"></i><b>5.1.3</b> Filter to Austin ISD</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="summarize.html"><a href="summarize.html#sorting-with-arrange"><i class="fa fa-check"></i><b>5.2</b> Sorting with arrange()</a><ul>
<li class="chapter" data-level="5.2.1" data-path="summarize.html"><a href="summarize.html#about-arrange"><i class="fa fa-check"></i><b>5.2.1</b> About arrange</a></li>
<li class="chapter" data-level="5.2.2" data-path="summarize.html"><a href="summarize.html#most-new-special-education-students"><i class="fa fa-check"></i><b>5.2.2</b> Most new special education students</a></li>
<li class="chapter" data-level="5.2.3" data-path="summarize.html"><a href="summarize.html#the-head-command"><i class="fa fa-check"></i><b>5.2.3</b> The head() command</a></li>
<li class="chapter" data-level="5.2.4" data-path="summarize.html"><a href="summarize.html#highest-share-of-special-education-students-in-2020"><i class="fa fa-check"></i><b>5.2.4</b> Highest share of special education students in 2020</a></li>
<li class="chapter" data-level="5.2.5" data-path="summarize.html"><a href="summarize.html#greatest-change-in-share-of-special-education-students"><i class="fa fa-check"></i><b>5.2.5</b> Greatest change in share of special education students</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="summarize.html"><a href="summarize.html#aggregates-with-summarize"><i class="fa fa-check"></i><b>5.3</b> Aggregates with summarize()</a></li>
<li class="chapter" data-level="5.4" data-path="summarize.html"><a href="summarize.html#group_by"><i class="fa fa-check"></i><b>5.4</b> Group_by()</a><ul>
<li class="chapter" data-level="5.4.1" data-path="summarize.html"><a href="summarize.html#group-and-count"><i class="fa fa-check"></i><b>5.4.1</b> Group and count</a></li>
<li class="chapter" data-level="5.4.2" data-path="summarize.html"><a href="summarize.html#the-count-function-shortcut"><i class="fa fa-check"></i><b>5.4.2</b> The count() function shortcut</a></li>
<li class="chapter" data-level="5.4.3" data-path="summarize.html"><a href="summarize.html#comparing-thresholds-for-2015-and-2020"><i class="fa fa-check"></i><b>5.4.3</b> Comparing thresholds for 2015 and 2020</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="summarize.html"><a href="summarize.html#more-on-summarize"><i class="fa fa-check"></i><b>5.5</b> More on summarize</a><ul>
<li class="chapter" data-level="5.5.1" data-path="summarize.html"><a href="summarize.html#ignoring-na-values"><i class="fa fa-check"></i><b>5.5.1</b> Ignoring NA values</a></li>
</ul></li>
<li class="chapter" data-level="5.6" data-path="summarize.html"><a href="summarize.html#review-what-we-learned"><i class="fa fa-check"></i><b>5.6</b> Review what we learned</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="review-data-wrangling.html"><a href="review-data-wrangling.html"><i class="fa fa-check"></i><b>6</b> Review - Data wrangling</a><ul>
<li class="chapter" data-level="6.1" data-path="review-data-wrangling.html"><a href="review-data-wrangling.html#start-a-new-project"><i class="fa fa-check"></i><b>6.1</b> Start a new project</a></li>
<li class="chapter" data-level="6.2" data-path="review-data-wrangling.html"><a href="review-data-wrangling.html#downloading-our-data"><i class="fa fa-check"></i><b>6.2</b> Downloading our data</a></li>
<li class="chapter" data-level="6.3" data-path="review-data-wrangling.html"><a href="review-data-wrangling.html#importing-from-an-excel-spreadsheet"><i class="fa fa-check"></i><b>6.3</b> Importing from an Excel spreadsheet</a></li>
<li class="chapter" data-level="6.4" data-path="review-data-wrangling.html"><a href="review-data-wrangling.html#a-quick-look-at-our-data"><i class="fa fa-check"></i><b>6.4</b> A quick look at our data</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="cleaning.html"><a href="cleaning.html"><i class="fa fa-check"></i><b>7</b> Cleaning</a><ul>
<li class="chapter" data-level="7.1" data-path="cleaning.html"><a href="cleaning.html#in-mid-update"><i class="fa fa-check"></i><b>7.1</b> IN MID-UPDATE</a></li>
<li class="chapter" data-level="7.2" data-path="cleaning.html"><a href="cleaning.html#goals-for-this-section-1"><i class="fa fa-check"></i><b>7.2</b> Goals for this section</a><ul>
<li class="chapter" data-level="7.2.1" data-path="cleaning.html"><a href="cleaning.html#resources-1"><i class="fa fa-check"></i><b>7.2.1</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="cleaning.html"><a href="cleaning.html#explain-thyself"><i class="fa fa-check"></i><b>7.3</b> Explain thyself</a></li>
<li class="chapter" data-level="7.4" data-path="cleaning.html"><a href="cleaning.html#syntax-etiquette"><i class="fa fa-check"></i><b>7.4</b> Syntax etiquette</a></li>
<li class="chapter" data-level="7.5" data-path="cleaning.html"><a href="cleaning.html#recode-the-apd_race-column"><i class="fa fa-check"></i><b>7.5</b> Recode the <code>apd_race</code> column</a></li>
<li class="chapter" data-level="7.6" data-path="cleaning.html"><a href="cleaning.html#filter-out-data-we-dont-need"><i class="fa fa-check"></i><b>7.6</b> Filter out data we don’t need</a><ul>
<li class="chapter" data-level="7.6.1" data-path="cleaning.html"><a href="cleaning.html#about-marijuana-charges"><i class="fa fa-check"></i><b>7.6.1</b> About marijuana charges</a></li>
<li class="chapter" data-level="7.6.2" data-path="cleaning.html"><a href="cleaning.html#filter-out-delivery-charges"><i class="fa fa-check"></i><b>7.6.2</b> Filter out delivery charges</a></li>
<li class="chapter" data-level="7.6.3" data-path="cleaning.html"><a href="cleaning.html#remove-controlled-substance"><i class="fa fa-check"></i><b>7.6.3</b> Remove controlled substance</a></li>
<li class="chapter" data-level="7.6.4" data-path="cleaning.html"><a href="cleaning.html#remove-drug-free-zones"><i class="fa fa-check"></i><b>7.6.4</b> Remove drug free zones</a></li>
<li class="chapter" data-level="7.6.5" data-path="cleaning.html"><a href="cleaning.html#remove-request-to-apprehend"><i class="fa fa-check"></i><b>7.6.5</b> Remove request to apprehend</a></li>
<li class="chapter" data-level="7.6.6" data-path="cleaning.html"><a href="cleaning.html#removing-more-unwated-records"><i class="fa fa-check"></i><b>7.6.6</b> Removing more unwated records</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="cleaning.html"><a href="cleaning.html#finding-just-b-misdemeanors"><i class="fa fa-check"></i><b>7.7</b> Finding just B misdemeanors</a></li>
<li class="chapter" data-level="7.8" data-path="cleaning.html"><a href="cleaning.html#export-your-updated-data-frame"><i class="fa fa-check"></i><b>7.8</b> Export your updated data frame</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="plots.html"><a href="plots.html"><i class="fa fa-check"></i><b>8</b> Plots</a><ul>
<li class="chapter" data-level="8.1" data-path="plots.html"><a href="plots.html#updates-needed"><i class="fa fa-check"></i><b>8.1</b> UPDATES NEEDED</a></li>
<li class="chapter" data-level="8.2" data-path="plots.html"><a href="plots.html#goals-for-this-section-2"><i class="fa fa-check"></i><b>8.2</b> Goals for this section</a></li>
<li class="chapter" data-level="8.3" data-path="plots.html"><a href="plots.html#introduction-ggplot"><i class="fa fa-check"></i><b>8.3</b> Introduction ggplot</a></li>
<li class="chapter" data-level="8.4" data-path="plots.html"><a href="plots.html#the-basic-ggplot-template"><i class="fa fa-check"></i><b>8.4</b> The basic ggplot template</a></li>
<li class="chapter" data-level="8.5" data-path="plots.html"><a href="plots.html#lets-plot"><i class="fa fa-check"></i><b>8.5</b> Let’s plot!</a><ul>
<li class="chapter" data-level="8.5.1" data-path="plots.html"><a href="plots.html#set-up-our-notebook"><i class="fa fa-check"></i><b>8.5.1</b> Set up our Notebook</a></li>
<li class="chapter" data-level="8.5.2" data-path="plots.html"><a href="plots.html#scatterplot"><i class="fa fa-check"></i><b>8.5.2</b> Scatterplot</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="plots.html"><a href="plots.html#plotting-our-wells-data"><i class="fa fa-check"></i><b>8.6</b> Plotting our wells data</a><ul>
<li class="chapter" data-level="8.6.1" data-path="plots.html"><a href="plots.html#total-wells-per-county"><i class="fa fa-check"></i><b>8.6.1</b> Total wells per county</a></li>
<li class="chapter" data-level="8.6.2" data-path="plots.html"><a href="plots.html#add-a-layer-of-text-labels"><i class="fa fa-check"></i><b>8.6.2</b> Add a layer of text labels</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="plots.html"><a href="plots.html#wells-per-county-over-time"><i class="fa fa-check"></i><b>8.7</b> Wells per county over time</a><ul>
<li class="chapter" data-level="8.7.1" data-path="plots.html"><a href="plots.html#work-up-the-data-frame"><i class="fa fa-check"></i><b>8.7.1</b> Work up the data frame</a></li>
<li class="chapter" data-level="8.7.2" data-path="plots.html"><a href="plots.html#draw-the-plot"><i class="fa fa-check"></i><b>8.7.2</b> Draw the plot</a></li>
<li class="chapter" data-level="8.7.3" data-path="plots.html"><a href="plots.html#your-turn-add-layers"><i class="fa fa-check"></i><b>8.7.3</b> Your turn: Add layers</a></li>
<li class="chapter" data-level="8.7.4" data-path="plots.html"><a href="plots.html#dates-as-numbers-and-the-problems-they-cause"><i class="fa fa-check"></i><b>8.7.4</b> Dates as numbers and the problems they cause</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="plots.html"><a href="plots.html#your-turn-build-a-line-chart"><i class="fa fa-check"></i><b>8.8</b> Your turn: Build a line chart</a></li>
<li class="chapter" data-level="8.9" data-path="plots.html"><a href="plots.html#review-of-ggplot"><i class="fa fa-check"></i><b>8.9</b> Review of ggplot</a></li>
<li class="chapter" data-level="8.10" data-path="plots.html"><a href="plots.html#plotly-for-more-interactive-graphics"><i class="fa fa-check"></i><b>8.10</b> Plotly for more interactive graphics</a><ul>
<li class="chapter" data-level="8.10.1" data-path="plots.html"><a href="plots.html#ggplotly"><i class="fa fa-check"></i><b>8.10.1</b> ggplotly</a></li>
<li class="chapter" data-level="8.10.2" data-path="plots.html"><a href="plots.html#more-with-plot_ly-function"><i class="fa fa-check"></i><b>8.10.2</b> More with <code>plot_ly()</code> function</a></li>
<li class="chapter" data-level="8.10.3" data-path="plots.html"><a href="plots.html#plotlys-freemium-model"><i class="fa fa-check"></i><b>8.10.3</b> Plotly’s freemium model</a></li>
</ul></li>
<li class="chapter" data-level="8.11" data-path="plots.html"><a href="plots.html#resources-2"><i class="fa fa-check"></i><b>8.11</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tidy.html"><a href="tidy.html"><i class="fa fa-check"></i><b>9</b> Tidy data</a><ul>
<li class="chapter" data-level="9.1" data-path="tidy.html"><a href="tidy.html#updates-needed-1"><i class="fa fa-check"></i><b>9.1</b> UPDATES NEEDED</a></li>
<li class="chapter" data-level="9.2" data-path="tidy.html"><a href="tidy.html#goals-for-this-section-3"><i class="fa fa-check"></i><b>9.2</b> Goals for this section</a></li>
<li class="chapter" data-level="9.3" data-path="tidy.html"><a href="tidy.html#what-is-tidy-data"><i class="fa fa-check"></i><b>9.3</b> What is tidy data</a></li>
<li class="chapter" data-level="9.4" data-path="tidy.html"><a href="tidy.html#tidyr-package"><i class="fa fa-check"></i><b>9.4</b> Tidyr package</a></li>
<li class="chapter" data-level="9.5" data-path="tidy.html"><a href="tidy.html#the-tidyr-verbs"><i class="fa fa-check"></i><b>9.5</b> The tidyr verbs</a></li>
<li class="chapter" data-level="9.6" data-path="tidy.html"><a href="tidy.html#set-up-the-mixbev-project"><i class="fa fa-check"></i><b>9.6</b> Set up the mixbev project</a></li>
<li class="chapter" data-level="9.7" data-path="tidy.html"><a href="tidy.html#create-an-explore-notebook"><i class="fa fa-check"></i><b>9.7</b> Create an explore notebook</a><ul>
<li class="chapter" data-level="9.7.1" data-path="tidy.html"><a href="tidy.html#peruse-the-data"><i class="fa fa-check"></i><b>9.7.1</b> Peruse the data</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="tidy.html"><a href="tidy.html#what-might-we-learn-about-this-dataset"><i class="fa fa-check"></i><b>9.8</b> What might we learn about this dataset</a></li>
<li class="chapter" data-level="9.9" data-path="tidy.html"><a href="tidy.html#add-years-and-months-values"><i class="fa fa-check"></i><b>9.9</b> Add years and months values</a></li>
<li class="chapter" data-level="9.10" data-path="tidy.html"><a href="tidy.html#campus-bars"><i class="fa fa-check"></i><b>9.10</b> Campus bars</a><ul>
<li class="chapter" data-level="9.10.1" data-path="tidy.html"><a href="tidy.html#total-78705-sales-leaders-in-2018"><i class="fa fa-check"></i><b>9.10.1</b> Total 78705 sales leaders in 2018</a></li>
</ul></li>
<li class="chapter" data-level="9.11" data-path="tidy.html"><a href="tidy.html#west-campus-student-hot-spots"><i class="fa fa-check"></i><b>9.11</b> West Campus student hot spots</a></li>
<li class="chapter" data-level="9.12" data-path="tidy.html"><a href="tidy.html#campus-area-bar-sales-over-time"><i class="fa fa-check"></i><b>9.12</b> Campus-area bar sales over time</a><ul>
<li class="chapter" data-level="9.12.1" data-path="tidy.html"><a href="tidy.html#visualizing-your-visualization"><i class="fa fa-check"></i><b>9.12.1</b> Visualizing your visualization</a></li>
<li class="chapter" data-level="9.12.2" data-path="tidy.html"><a href="tidy.html#what-did-we-find"><i class="fa fa-check"></i><b>9.12.2</b> What did we find?</a></li>
</ul></li>
<li class="chapter" data-level="9.13" data-path="tidy.html"><a href="tidy.html#types-of-sales-within-student-bars"><i class="fa fa-check"></i><b>9.13</b> Types of sales within student bars</a></li>
<li class="chapter" data-level="9.14" data-path="tidy.html"><a href="tidy.html#how-gather-works"><i class="fa fa-check"></i><b>9.14</b> How gather() works</a></li>
<li class="chapter" data-level="9.15" data-path="tidy.html"><a href="tidy.html#applying-gather-to-beer-wine-and-liquor"><i class="fa fa-check"></i><b>9.15</b> Applying gather() to beer, wine and liquor</a><ul>
<li class="chapter" data-level="9.15.1" data-path="tidy.html"><a href="tidy.html#plot-sales-by-type-for-a-single-campus-area-bar"><i class="fa fa-check"></i><b>9.15.1</b> Plot sales by type for a single campus-area bar</a></li>
<li class="chapter" data-level="9.15.2" data-path="tidy.html"><a href="tidy.html#plot-sales-by-type-for-multiple-campus-area-bars"><i class="fa fa-check"></i><b>9.15.2</b> Plot sales by type for multiple campus-area bars</a></li>
<li class="chapter" data-level="9.15.3" data-path="tidy.html"><a href="tidy.html#what-did-we-learn"><i class="fa fa-check"></i><b>9.15.3</b> What did we learn?</a></li>
</ul></li>
<li class="chapter" data-level="9.16" data-path="tidy.html"><a href="tidy.html#the-spread-function"><i class="fa fa-check"></i><b>9.16</b> The spread() function</a></li>
<li class="chapter" data-level="9.17" data-path="tidy.html"><a href="tidy.html#practice-assignment-exploring-the-top-seller"><i class="fa fa-check"></i><b>9.17</b> Practice assignment: Exploring the top seller</a></li>
<li class="chapter" data-level="9.18" data-path="tidy.html"><a href="tidy.html#bonus-top-5-sellers-in-travis-county-over-three-years"><i class="fa fa-check"></i><b>9.18</b> Bonus: Top 5 sellers in Travis County over three years</a></li>
<li class="chapter" data-level="9.19" data-path="tidy.html"><a href="tidy.html#bonus-total-sales-by-county"><i class="fa fa-check"></i><b>9.19</b> Bonus: Total sales by county</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="review-plots.html"><a href="review-plots.html"><i class="fa fa-check"></i><b>10</b> Review: Plots</a><ul>
<li class="chapter" data-level="10.1" data-path="review-plots.html"><a href="review-plots.html#updates-needed-2"><i class="fa fa-check"></i><b>10.1</b> UPDATES NEEDED</a></li>
<li class="chapter" data-level="10.2" data-path="review-plots.html"><a href="review-plots.html#project-setup"><i class="fa fa-check"></i><b>10.2</b> Project setup</a><ul>
<li class="chapter" data-level="10.2.1" data-path="review-plots.html"><a href="review-plots.html#download-the-data"><i class="fa fa-check"></i><b>10.2.1</b> Download the data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="review-plots.html"><a href="review-plots.html#the-story"><i class="fa fa-check"></i><b>10.3</b> The story</a></li>
<li class="chapter" data-level="10.4" data-path="review-plots.html"><a href="review-plots.html#explore-the-data"><i class="fa fa-check"></i><b>10.4</b> Explore the data</a><ul>
<li class="chapter" data-level="10.4.1" data-path="review-plots.html"><a href="review-plots.html#third-down-conversions"><i class="fa fa-check"></i><b>10.4.1</b> Third-down conversions</a></li>
<li class="chapter" data-level="10.4.2" data-path="review-plots.html"><a href="review-plots.html#scoring"><i class="fa fa-check"></i><b>10.4.2</b> Scoring</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="review-plots.html"><a href="review-plots.html#about-joins"><i class="fa fa-check"></i><b>10.5</b> About joins</a></li>
<li class="chapter" data-level="10.6" data-path="review-plots.html"><a href="review-plots.html#build-our-scatterplot"><i class="fa fa-check"></i><b>10.6</b> Build our scatterplot</a><ul>
<li class="chapter" data-level="10.6.1" data-path="review-plots.html"><a href="review-plots.html#add-a-fit-line"><i class="fa fa-check"></i><b>10.6.1</b> Add a fit line</a></li>
<li class="chapter" data-level="10.6.2" data-path="review-plots.html"><a href="review-plots.html#run-a-correlation-test"><i class="fa fa-check"></i><b>10.6.2</b> Run a correlation test</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="review-plots.html"><a href="review-plots.html#how-does-texas-compare"><i class="fa fa-check"></i><b>10.7</b> How does Texas compare?</a></li>
<li class="chapter" data-level="10.8" data-path="review-plots.html"><a href="review-plots.html#correlaton-test-for-texas"><i class="fa fa-check"></i><b>10.8</b> Correlaton test for Texas</a></li>
<li class="chapter" data-level="10.9" data-path="review-plots.html"><a href="review-plots.html#practice-1-compare-penn-state"><i class="fa fa-check"></i><b>10.9</b> Practice 1: Compare Penn State</a></li>
<li class="chapter" data-level="10.10" data-path="review-plots.html"><a href="review-plots.html#practice-2-penalties-vs-scoring"><i class="fa fa-check"></i><b>10.10</b> Practice 2: Penalties vs scoring</a></li>
<li class="chapter" data-level="10.11" data-path="review-plots.html"><a href="review-plots.html#using-bind_rows-to-merge-data-sets"><i class="fa fa-check"></i><b>10.11</b> Using bind_rows() to merge data sets</a><ul>
<li class="chapter" data-level="10.11.1" data-path="review-plots.html"><a href="review-plots.html#combine-data-with-a-group"><i class="fa fa-check"></i><b>10.11.1</b> Combine data with a group</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="census.html"><a href="census.html"><i class="fa fa-check"></i><b>11</b> Census</a><ul>
<li class="chapter" data-level="11.1" data-path="census.html"><a href="census.html#needs-review"><i class="fa fa-check"></i><b>11.1</b> NEEDS REVIEW</a></li>
<li class="chapter" data-level="11.2" data-path="census.html"><a href="census.html#goals-of-this-section"><i class="fa fa-check"></i><b>11.2</b> Goals of this section</a></li>
<li class="chapter" data-level="11.3" data-path="census.html"><a href="census.html#census-bureau-programs-and-platforms"><i class="fa fa-check"></i><b>11.3</b> Census Bureau programs and platforms</a><ul>
<li class="chapter" data-level="11.3.1" data-path="census.html"><a href="census.html#decennial-census"><i class="fa fa-check"></i><b>11.3.1</b> Decennial Census</a></li>
<li class="chapter" data-level="11.3.2" data-path="census.html"><a href="census.html#american-community-survey"><i class="fa fa-check"></i><b>11.3.2</b> American Community Survey</a></li>
<li class="chapter" data-level="11.3.3" data-path="census.html"><a href="census.html#population-estimates-program"><i class="fa fa-check"></i><b>11.3.3</b> Population Estimates Program</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="census.html"><a href="census.html#using-the-new-data-portal"><i class="fa fa-check"></i><b>11.4</b> Using the new data portal</a><ul>
<li class="chapter" data-level="11.4.1" data-path="census.html"><a href="census.html#tips-about-using-downloaded-portal-data-in-r"><i class="fa fa-check"></i><b>11.4.1</b> Tips about using downloaded portal data in R</a></li>
<li class="chapter" data-level="11.4.2" data-path="census.html"><a href="census.html#importing-downloaded-data"><i class="fa fa-check"></i><b>11.4.2</b> Importing downloaded data</a></li>
<li class="chapter" data-level="11.4.3" data-path="census.html"><a href="census.html#fields-made-to-join-with-other-data"><i class="fa fa-check"></i><b>11.4.3</b> Fields made to join with other data</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="census.html"><a href="census.html#using-the-census-api-in-r"><i class="fa fa-check"></i><b>11.5</b> Using the Census API in R</a><ul>
<li class="chapter" data-level="11.5.1" data-path="census.html"><a href="census.html#setting-up-an-api-key"><i class="fa fa-check"></i><b>11.5.1</b> Setting up an API key</a></li>
<li class="chapter" data-level="11.5.2" data-path="census.html"><a href="census.html#the-censusapi-package"><i class="fa fa-check"></i><b>11.5.2</b> The censusapi package</a></li>
<li class="chapter" data-level="11.5.3" data-path="census.html"><a href="census.html#the-tidycensus-package"><i class="fa fa-check"></i><b>11.5.3</b> The tidycensus package</a></li>
<li class="chapter" data-level="11.5.4" data-path="census.html"><a href="census.html#adding-geometry-to-tidycensus"><i class="fa fa-check"></i><b>11.5.4</b> Adding geometry to tidycensus</a></li>
<li class="chapter" data-level="11.5.5" data-path="census.html"><a href="census.html#map-shapes-only-with-tigris"><i class="fa fa-check"></i><b>11.5.5</b> Map shapes only with tigris</a></li>
</ul></li>
<li class="chapter" data-level="11.6" data-path="census.html"><a href="census.html#interactive-maps-with-leaflet"><i class="fa fa-check"></i><b>11.6</b> Interactive maps with leaflet</a></li>
<li class="chapter" data-level="11.7" data-path="census.html"><a href="census.html#resources-3"><i class="fa fa-check"></i><b>11.7</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html"><i class="fa fa-check"></i><b>12</b> Publishing your findings</a><ul>
<li class="chapter" data-level="12.1" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#needs-review-1"><i class="fa fa-check"></i><b>12.1</b> NEEDS REVIEW</a></li>
<li class="chapter" data-level="12.2" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#examples"><i class="fa fa-check"></i><b>12.2</b> Examples</a></li>
<li class="chapter" data-level="12.3" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#how-to-publish-your-projects"><i class="fa fa-check"></i><b>12.3</b> How to publish your projects</a><ul>
<li class="chapter" data-level="12.3.1" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#using-github-pages"><i class="fa fa-check"></i><b>12.3.1</b> Using Github Pages</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#making-branded-graphics"><i class="fa fa-check"></i><b>12.4</b> Making branded graphics</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html"><i class="fa fa-check"></i><b>13</b> How to tackle a new dataset</a><ul>
<li class="chapter" data-level="13.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#needs-review-2"><i class="fa fa-check"></i><b>13.1</b> NEEDS REVIEW</a></li>
<li class="chapter" data-level="13.2" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#start-by-listing-questions"><i class="fa fa-check"></i><b>13.2</b> Start by listing questions</a></li>
<li class="chapter" data-level="13.3" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#understand-your-data"><i class="fa fa-check"></i><b>13.3</b> Understand your data</a></li>
<li class="chapter" data-level="13.4" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#counting-and-aggregation"><i class="fa fa-check"></i><b>13.4</b> Counting and aggregation</a><ul>
<li class="chapter" data-level="13.4.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#counting-rows-based-on-a-column"><i class="fa fa-check"></i><b>13.4.1</b> Counting rows based on a column</a></li>
<li class="chapter" data-level="13.4.2" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#sum-mean-and-other-aggregations"><i class="fa fa-check"></i><b>13.4.2</b> Sum, mean and other aggregations</a></li>
<li class="chapter" data-level="13.4.3" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#creating-columns-to-show-difference"><i class="fa fa-check"></i><b>13.4.3</b> Creating columns to show difference</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#cleaning-up-categorical-data"><i class="fa fa-check"></i><b>13.5</b> Cleaning up categorical data</a></li>
<li class="chapter" data-level="13.6" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#time-as-a-variable"><i class="fa fa-check"></i><b>13.6</b> Time as a variable</a></li>
<li class="chapter" data-level="13.7" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#explore-the-distributions-in-your-data"><i class="fa fa-check"></i><b>13.7</b> Explore the distributions in your data</a><ul>
<li class="chapter" data-level="13.7.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#more-on-histograms"><i class="fa fa-check"></i><b>13.7.1</b> More on histograms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="verbs.html"><a href="verbs.html"><i class="fa fa-check"></i><b>14</b> Verbs</a><ul>
<li class="chapter" data-level="14.1" data-path="verbs.html"><a href="verbs.html#needs-review-3"><i class="fa fa-check"></i><b>14.1</b> NEEDS REVIEW</a></li>
<li class="chapter" data-level="14.2" data-path="verbs.html"><a href="verbs.html#importexport"><i class="fa fa-check"></i><b>14.2</b> Import/Export</a></li>
<li class="chapter" data-level="14.3" data-path="verbs.html"><a href="verbs.html#data-manipulation"><i class="fa fa-check"></i><b>14.3</b> Data manipulation</a></li>
<li class="chapter" data-level="14.4" data-path="verbs.html"><a href="verbs.html#aggregation"><i class="fa fa-check"></i><b>14.4</b> Aggregation</a></li>
<li class="chapter" data-level="14.5" data-path="verbs.html"><a href="verbs.html#math"><i class="fa fa-check"></i><b>14.5</b> Math</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="chart-examples.html"><a href="chart-examples.html"><i class="fa fa-check"></i><b>15</b> Chart examples</a><ul>
<li class="chapter" data-level="15.1" data-path="chart-examples.html"><a href="chart-examples.html#needs-review-4"><i class="fa fa-check"></i><b>15.1</b> NEEDS REVIEW</a></li>
<li class="chapter" data-level="15.2" data-path="chart-examples.html"><a href="chart-examples.html#bar-charts"><i class="fa fa-check"></i><b>15.2</b> Bar charts</a><ul>
<li class="chapter" data-level="15.2.1" data-path="chart-examples.html"><a href="chart-examples.html#explanaton"><i class="fa fa-check"></i><b>15.2.1</b> Explanaton</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="chart-examples.html"><a href="chart-examples.html#column-chart"><i class="fa fa-check"></i><b>15.3</b> Column chart</a></li>
<li class="chapter" data-level="15.4" data-path="chart-examples.html"><a href="chart-examples.html#a-line-chart"><i class="fa fa-check"></i><b>15.4</b> A line chart</a><ul>
<li class="chapter" data-level="15.4.1" data-path="chart-examples.html"><a href="chart-examples.html#explanation"><i class="fa fa-check"></i><b>15.4.1</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="chart-examples.html"><a href="chart-examples.html#scatterplot-1"><i class="fa fa-check"></i><b>15.5</b> Scatterplot</a><ul>
<li class="chapter" data-level="15.5.1" data-path="chart-examples.html"><a href="chart-examples.html#explanation-1"><i class="fa fa-check"></i><b>15.5.1</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="chart-examples.html"><a href="chart-examples.html#histogram"><i class="fa fa-check"></i><b>15.6</b> Histogram</a></li>
<li class="chapter" data-level="15.7" data-path="chart-examples.html"><a href="chart-examples.html#titles-labels-and-other-cleanup"><i class="fa fa-check"></i><b>15.7</b> Titles, labels and other cleanup</a><ul>
<li class="chapter" data-level="15.7.1" data-path="chart-examples.html"><a href="chart-examples.html#title-and-axis-labels"><i class="fa fa-check"></i><b>15.7.1</b> Title and axis labels</a></li>
<li class="chapter" data-level="15.7.2" data-path="chart-examples.html"><a href="chart-examples.html#flip-the-graphic"><i class="fa fa-check"></i><b>15.7.2</b> Flip the graphic</a></li>
<li class="chapter" data-level="15.7.3" data-path="chart-examples.html"><a href="chart-examples.html#fix-exponential-numbers-on-an-axis"><i class="fa fa-check"></i><b>15.7.3</b> Fix exponential numbers on an axis</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="chart-examples.html"><a href="chart-examples.html#interactivity-with-plotly"><i class="fa fa-check"></i><b>15.8</b> Interactivity with plotly</a></li>
<li class="chapter" data-level="15.9" data-path="chart-examples.html"><a href="chart-examples.html#resources-4"><i class="fa fa-check"></i><b>15.9</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="old-importing-data.html"><a href="old-importing-data.html"><i class="fa fa-check"></i><b>16</b> Old - Importing data</a><ul>
<li class="chapter" data-level="16.1" data-path="old-importing-data.html"><a href="old-importing-data.html#middle-of-rewrite-verson"><i class="fa fa-check"></i><b>16.1</b> MIDDLE OF REWRITE VERSON</a></li>
<li class="chapter" data-level="16.2" data-path="old-importing-data.html"><a href="old-importing-data.html#goals-for-this-section-4"><i class="fa fa-check"></i><b>16.2</b> Goals for this section</a></li>
<li class="chapter" data-level="16.3" data-path="old-importing-data.html"><a href="old-importing-data.html#our-project-data-1"><i class="fa fa-check"></i><b>16.3</b> Our project data</a></li>
<li class="chapter" data-level="16.4" data-path="old-importing-data.html"><a href="old-importing-data.html#data-sources"><i class="fa fa-check"></i><b>16.4</b> Data sources</a><ul>
<li class="chapter" data-level="16.4.1" data-path="old-importing-data.html"><a href="old-importing-data.html#what-is-clean-data-1"><i class="fa fa-check"></i><b>16.4.1</b> What is clean data</a></li>
</ul></li>
<li class="chapter" data-level="16.5" data-path="old-importing-data.html"><a href="old-importing-data.html#create-a-new-project-1"><i class="fa fa-check"></i><b>16.5</b> Create a new project</a><ul>
<li class="chapter" data-level="16.5.1" data-path="old-importing-data.html"><a href="old-importing-data.html#the-r-package-environment-1"><i class="fa fa-check"></i><b>16.5.1</b> The R Package environment</a></li>
<li class="chapter" data-level="16.5.2" data-path="old-importing-data.html"><a href="old-importing-data.html#installing-and-using-packages-1"><i class="fa fa-check"></i><b>16.5.2</b> Installing and using packages</a></li>
<li class="chapter" data-level="16.5.3" data-path="old-importing-data.html"><a href="old-importing-data.html#load-the-libraries-1"><i class="fa fa-check"></i><b>16.5.3</b> Load the libraries</a></li>
</ul></li>
<li class="chapter" data-level="16.6" data-path="old-importing-data.html"><a href="old-importing-data.html#downlaoding-raw-data"><i class="fa fa-check"></i><b>16.6</b> Downlaoding raw data</a><ul>
<li class="chapter" data-level="16.6.1" data-path="old-importing-data.html"><a href="old-importing-data.html#create-a-directory-for-your-data-1"><i class="fa fa-check"></i><b>16.6.1</b> Create a directory for your data</a></li>
<li class="chapter" data-level="16.6.2" data-path="old-importing-data.html"><a href="old-importing-data.html#lets-get-some-data-1"><i class="fa fa-check"></i><b>16.6.2</b> Let’s get some data</a></li>
<li class="chapter" data-level="16.6.3" data-path="old-importing-data.html"><a href="old-importing-data.html#peek-at-the-data-file-1"><i class="fa fa-check"></i><b>16.6.3</b> Peek at the data file</a></li>
<li class="chapter" data-level="16.6.4" data-path="old-importing-data.html"><a href="old-importing-data.html#import-csv-as-data-1"><i class="fa fa-check"></i><b>16.6.4</b> Import csv as data</a></li>
<li class="chapter" data-level="16.6.5" data-path="old-importing-data.html"><a href="old-importing-data.html#clean-names-and-the-pipe"><i class="fa fa-check"></i><b>16.6.5</b> Clean names and the pipe</a></li>
<li class="chapter" data-level="16.6.6" data-path="old-importing-data.html"><a href="old-importing-data.html#about-the-pipe-1"><i class="fa fa-check"></i><b>16.6.6</b> About the pipe %&gt;%</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="old-importing-data.html"><a href="old-importing-data.html#inspecting-and-adjusting-imports"><i class="fa fa-check"></i><b>16.7</b> Inspecting and adjusting imports</a><ul>
<li class="chapter" data-level="16.7.1" data-path="old-importing-data.html"><a href="old-importing-data.html#fix-cdalls-assign-data-type-upon-import"><i class="fa fa-check"></i><b>16.7.1</b> Fix <code>cdalls</code>: Assign data type upon import</a></li>
</ul></li>
<li class="chapter" data-level="16.8" data-path="old-importing-data.html"><a href="old-importing-data.html#assign-our-import-to-a-data-frame-1"><i class="fa fa-check"></i><b>16.8</b> Assign our import to a data frame</a><ul>
<li class="chapter" data-level="16.8.1" data-path="old-importing-data.html"><a href="old-importing-data.html#print-a-peek-to-the-screen-1"><i class="fa fa-check"></i><b>16.8.1</b> Print a peek to the screen</a></li>
</ul></li>
<li class="chapter" data-level="16.9" data-path="old-importing-data.html"><a href="old-importing-data.html#glimpse-the-data-1"><i class="fa fa-check"></i><b>16.9</b> Glimpse the data</a></li>
<li class="chapter" data-level="16.10" data-path="old-importing-data.html"><a href="old-importing-data.html#exporting-data-1"><i class="fa fa-check"></i><b>16.10</b> Exporting data</a><ul>
<li class="chapter" data-level="16.10.1" data-path="old-importing-data.html"><a href="old-importing-data.html#single-notebook-philosphy"><i class="fa fa-check"></i><b>16.10.1</b> Single-notebook philosphy</a></li>
<li class="chapter" data-level="16.10.2" data-path="old-importing-data.html"><a href="old-importing-data.html#exporting-as-rds-1"><i class="fa fa-check"></i><b>16.10.2</b> Exporting as rds</a></li>
</ul></li>
<li class="chapter" data-level="16.11" data-path="old-importing-data.html"><a href="old-importing-data.html#turn-in-your-project"><i class="fa fa-check"></i><b>16.11</b> Turn in your project</a></li>
<li class="chapter" data-level="16.12" data-path="old-importing-data.html"><a href="old-importing-data.html#resources-5"><i class="fa fa-check"></i><b>16.12</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="old-transform.html"><a href="old-transform.html"><i class="fa fa-check"></i><b>17</b> Old - Transform</a><ul>
<li class="chapter" data-level="17.1" data-path="old-transform.html"><a href="old-transform.html#middle-of-rewrite-verson-1"><i class="fa fa-check"></i><b>17.1</b> MIDDLE OF REWRITE VERSON</a></li>
<li class="chapter" data-level="17.2" data-path="old-transform.html"><a href="old-transform.html#goals-for-the-section-1"><i class="fa fa-check"></i><b>17.2</b> Goals for the section</a></li>
<li class="chapter" data-level="17.3" data-path="old-transform.html"><a href="old-transform.html#introducing-dplyr-1"><i class="fa fa-check"></i><b>17.3</b> Introducing dplyr</a></li>
<li class="chapter" data-level="17.4" data-path="old-transform.html"><a href="old-transform.html#start-a-new-r-notebook-1"><i class="fa fa-check"></i><b>17.4</b> Start a new R Notebook</a></li>
<li class="chapter" data-level="17.5" data-path="old-transform.html"><a href="old-transform.html#record-our-goals-1"><i class="fa fa-check"></i><b>17.5</b> Record our goals</a></li>
<li class="chapter" data-level="17.6" data-path="old-transform.html"><a href="old-transform.html#setup-1"><i class="fa fa-check"></i><b>17.6</b> Setup</a><ul>
<li class="chapter" data-level="17.6.1" data-path="old-transform.html"><a href="old-transform.html#naming-our-chunks-1"><i class="fa fa-check"></i><b>17.6.1</b> Naming our chunks</a></li>
</ul></li>
<li class="chapter" data-level="17.7" data-path="old-transform.html"><a href="old-transform.html#import-our-data-1"><i class="fa fa-check"></i><b>17.7</b> Import our data</a></li>
<li class="chapter" data-level="17.8" data-path="old-transform.html"><a href="old-transform.html#filter-1"><i class="fa fa-check"></i><b>17.8</b> Filter()</a><ul>
<li class="chapter" data-level="17.8.1" data-path="old-transform.html"><a href="old-transform.html#logical-tests-1"><i class="fa fa-check"></i><b>17.8.1</b> Logical tests</a></li>
<li class="chapter" data-level="17.8.2" data-path="old-transform.html"><a href="old-transform.html#filter-on-your-own"><i class="fa fa-check"></i><b>17.8.2</b> Filter on your own</a></li>
<li class="chapter" data-level="17.8.3" data-path="old-transform.html"><a href="old-transform.html#common-mistakes-with-filter-1"><i class="fa fa-check"></i><b>17.8.3</b> Common mistakes with filter</a></li>
</ul></li>
<li class="chapter" data-level="17.9" data-path="old-transform.html"><a href="old-transform.html#combining-filters-1"><i class="fa fa-check"></i><b>17.9</b> Combining filters</a><ul>
<li class="chapter" data-level="17.9.1" data-path="old-transform.html"><a href="old-transform.html#combining-filters-on-your-own"><i class="fa fa-check"></i><b>17.9.1</b> Combining filters on your own</a></li>
<li class="chapter" data-level="17.9.2" data-path="old-transform.html"><a href="old-transform.html#common-mistakes-with-combining-filters-1"><i class="fa fa-check"></i><b>17.9.2</b> Common mistakes with combining filters</a></li>
</ul></li>
<li class="chapter" data-level="17.10" data-path="old-transform.html"><a href="old-transform.html#select-1"><i class="fa fa-check"></i><b>17.10</b> Select()</a><ul>
<li class="chapter" data-level="17.10.1" data-path="old-transform.html"><a href="old-transform.html#select-on-your-own"><i class="fa fa-check"></i><b>17.10.1</b> Select on your own</a></li>
</ul></li>
<li class="chapter" data-level="17.11" data-path="old-transform.html"><a href="old-transform.html#arrange"><i class="fa fa-check"></i><b>17.11</b> Arrange()</a><ul>
<li class="chapter" data-level="17.11.1" data-path="old-transform.html"><a href="old-transform.html#arrange-on-your-own"><i class="fa fa-check"></i><b>17.11.1</b> Arrange on your own</a></li>
</ul></li>
<li class="chapter" data-level="17.12" data-path="old-transform.html"><a href="old-transform.html#mutate-1"><i class="fa fa-check"></i><b>17.12</b> Mutate()</a><ul>
<li class="chapter" data-level="17.12.1" data-path="old-transform.html"><a href="old-transform.html#your-turn-to-mutate"><i class="fa fa-check"></i><b>17.12.1</b> Your turn to mutate</a></li>
<li class="chapter" data-level="17.12.2" data-path="old-transform.html"><a href="old-transform.html#document-and-save-new-columns"><i class="fa fa-check"></i><b>17.12.2</b> Document and save new columns</a></li>
<li class="chapter" data-level="17.12.3" data-path="old-transform.html"><a href="old-transform.html#export-the-mutated-data"><i class="fa fa-check"></i><b>17.12.3</b> Export the mutated data</a></li>
</ul></li>
<li class="chapter" data-level="17.13" data-path="old-transform.html"><a href="old-transform.html#transform-review"><i class="fa fa-check"></i><b>17.13</b> Transform review</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="old-summarize.html"><a href="old-summarize.html"><i class="fa fa-check"></i><b>18</b> Old - Summarize</a><ul>
<li class="chapter" data-level="18.1" data-path="old-summarize.html"><a href="old-summarize.html#middle-of-rewrite-verson-2"><i class="fa fa-check"></i><b>18.1</b> MIDDLE OF REWRITE VERSON</a></li>
<li class="chapter" data-level="18.2" data-path="old-summarize.html"><a href="old-summarize.html#summarize-1"><i class="fa fa-check"></i><b>18.2</b> Summarize()</a><ul>
<li class="chapter" data-level="18.2.1" data-path="old-summarize.html"><a href="old-summarize.html#ignoring-na"><i class="fa fa-check"></i><b>18.2.1</b> ignoring na</a></li>
<li class="chapter" data-level="18.2.2" data-path="old-summarize.html"><a href="old-summarize.html#your-turn-with-summarise"><i class="fa fa-check"></i><b>18.2.2</b> Your turn with summarise</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="old-summarize.html"><a href="old-summarize.html#group_by-1"><i class="fa fa-check"></i><b>18.3</b> Group_by()</a><ul>
<li class="chapter" data-level="18.3.1" data-path="old-summarize.html"><a href="old-summarize.html#group-and-count-1"><i class="fa fa-check"></i><b>18.3.1</b> Group and count</a></li>
<li class="chapter" data-level="18.3.2" data-path="old-summarize.html"><a href="old-summarize.html#your-turn-to-group"><i class="fa fa-check"></i><b>18.3.2</b> Your turn to group</a></li>
<li class="chapter" data-level="18.3.3" data-path="old-summarize.html"><a href="old-summarize.html#counting-only"><i class="fa fa-check"></i><b>18.3.3</b> Counting only</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reporting with Data in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="old---transform" class="section level1">
<h1><span class="header-section-number">Chapter 17</span> Old - Transform</h1>
<div id="middle-of-rewrite-verson-1" class="section level2">
<h2><span class="header-section-number">17.1</span> MIDDLE OF REWRITE VERSON</h2>
<ul>
<li>This was the early rewrite that used school ratings</li>
<li>It doesn’t have enough mutating to work</li>
<li>I could use some of this for an assignment.</li>
<li>I don’t want to delete yet in case students are mid-use.</li>
</ul>
</div>
<div id="goals-for-the-section-1" class="section level2">
<h2><span class="header-section-number">17.2</span> Goals for the section</h2>
<p>In this lesson we will continue with the School Ratings project you began in the last chapter. Our goals are:</p>
<ul>
<li>To build good data journalism and programming practices.</li>
<li>Use the <a href="https://dplyr.tidyverse.org/">dplyr</a> tools to select, filter, sort and create new columns of data.</li>
</ul>
<blockquote>
<p>You might find the <a href="https://rptsvr1.tea.texas.gov/perfreport/account/2019/download/camprate.html">data dictionary</a> for this data useful, but remember we lowercased all the column names.</p>
</blockquote>
</div>
<div id="introducing-dplyr-1" class="section level2">
<h2><span class="header-section-number">17.3</span> Introducing dplyr</h2>
<p>One of the packages within the tidyverse is <a href="https://dplyr.tidyverse.org/">dplyr</a>. Dplyr allows us to transform our data frames in ways that let us explore the data and prepare it for visualizing. It’s the R equivalent of common Excel functions like sort, filter and pivoting.</p>
<blockquote>
<p>There is a cheatsheet on the <a href="https://dplyr.tidyverse.org/">dplyr</a> that you might find useful.</p>
</blockquote>
<div class="figure">
<img src="images/transform-dplyractions.png" width="600" alt="" />
<p class="caption">Common dplyr functions</p>
</div>
<p>(Some slides/images included here are used with permission from Hadley and Charlotte Wickham.)</p>
</div>
<div id="start-a-new-r-notebook-1" class="section level2">
<h2><span class="header-section-number">17.4</span> Start a new R Notebook</h2>
<p>As I explained at the end of our last lesson, it’s a good practice to separate your import/cleaning functions from your analysis functions into separate notebooks, so we’ll create a new one for our analysis.</p>
<ul>
<li>Open y ou school-ratings project if you haven’t already.</li>
<li>Make sure the <code>01-import.Rmd</code> file is closed.</li>
<li>Under the <strong>Session</strong> menu in RStudio, choose <em>Restart R</em>. This cleans our environment so we don’t have left-over objects from our previous session, though you still might see history in your Console.</li>
<li>Create a new R Notebook and set a new title of “School ratings analysis”.</li>
<li>Remove the boilerplate language and add a description of our goals: To explore an analyze our school ratings data. Mention that you have to run the other notebook first in case your someone else (or your future self) comes here first.</li>
<li>Save your file as <code>02-analysis.Rmd</code>.</li>
</ul>
</div>
<div id="record-our-goals-1" class="section level2">
<h2><span class="header-section-number">17.5</span> Record our goals</h2>
<p>One thing I like to do at the top of a notebook is outline what is I’m trying to do.
What do we want to learn about these school ratings?</p>
<ul>
<li>Add a Markdown headline <code>## Goals</code>.</li>
<li>Create a bullet list of things you might want to find. Use a <code>*</code> or <code>-</code> to start each new line.</li>
</ul>
<p>When we worked with this data in sheets we wanted to find the following:</p>
<ul>
<li>Which AISD schools failed?</li>
<li>Which schools in our five-county area failed?</li>
<li>How many schools got each grade designation in AISD? Our five-county area?</li>
<li>What is the failing percentage of charter schools for AISD vs the state?</li>
<li>Let’s also visualize X.</li>
</ul>
</div>
<div id="setup-1" class="section level2">
<h2><span class="header-section-number">17.6</span> Setup</h2>
<p>The first code chunk in every notebook should be a listing of all the packages used. We put them at the top so users can see if they need to install the packages. For now, we just need the tidyverse package.</p>
<ul>
<li>Create a new Markdown headline <code>## Import</code></li>
<li>Add a new code chunk (<strong>Cmd-Shift+i</strong>!)</li>
<li>Add the tidyverse library</li>
<li>Run the chunk</li>
</ul>
<div class="sourceCode" id="cb250"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb250-1"><a href="old-transform.html#cb250-1"></a><span class="kw">library</span>(tidyverse)</span></code></pre></div>
<div id="naming-our-chunks-1" class="section level3">
<h3><span class="header-section-number">17.6.1</span> Naming our chunks</h3>
<p>It is good practice to name your chunks of code to make it easier to navigate throughout your R notebook. Let’s do this with our setup chunk.</p>
<ul>
<li>In your setup chunk, change <code>{r}</code> to <code>{r setup}</code>:</li>
</ul>
<pre class="text"><code>{r setup}
library(tidyverse)</code></pre>
<p>(You have to imagine the three tickmarks that begin/end the code chunk above. I can’t display those in the instructions.)</p>
<p>You can’t have multi-word names. You must use a <code>-</code> or <code>_</code>, like <code>multi-word</code>.</p>
<p>By doing this, you can then use the notebook navigation to move to different parts of your RNotebook.</p>
<div class="figure">
<img src="images/transform-navigate.png" width="500" alt="" />
<p class="caption">R Notebook navigation</p>
</div>
<blockquote>
<p>The <code>{r}</code> part of a chunk can take a number of options in addition to a name, controlling what is displayed or knitted to your final report. We aren’t going to get into it now, but you might see it in other notebooks or my code.</p>
</blockquote>
</div>
</div>
<div id="import-our-data-1" class="section level2">
<h2><span class="header-section-number">17.7</span> Import our data</h2>
<ul>
<li>Add a Markdown headline and description that you are loading the data.</li>
<li>Add a code chunk and give it a name of <strong>import</strong>. Add the code below and then run the chunk:</li>
</ul>
<div class="sourceCode" id="cb252"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb252-1"><a href="old-transform.html#cb252-1"></a>ratings &lt;-<span class="st"> </span><span class="kw">read_rds</span>(<span class="st">&quot;data-processed/01_ratings.rds&quot;</span>)</span></code></pre></div>
<p>We we’ve done is import the data we processed at the end of our <strong>01-import.Rmd</strong> notebook and assigned it to a data frame called <code>ratings</code>.</p>
<p>We are now back to where we ended with the first notebook.</p>
</div>
<div id="filter-1" class="section level2">
<h2><span class="header-section-number">17.8</span> Filter()</h2>
<p>We can use dplyr’s <code>filter()</code> function to capture a subset of the data, like all the schools in AISD. It works like this:</p>
<div class="figure">
<img src="images/transform-filter.png" width="600" alt="" />
<p class="caption">dplyr filter function</p>
</div>
<blockquote>
<p>IMPORTANT: When you see a slide like the one above, please note that <code>.data</code> might be the data that you have piped <code>%&gt;%</code> into the function. In fact, it usually is.</p>
</blockquote>
<p>Let’s filter our ratings data to just those in AISD. We are going to use the <code>%&gt;%</code> pipe function to do this to the <code>ratings</code> data frame.</p>
<ul>
<li>Add a header <code>## Filter fun</code> to your notebook.</li>
<li>Add text that you are looking for AISD schools.</li>
<li>Add a chunk, insert and run the following:</li>
</ul>
<blockquote>
<p>The first box shown here is the code. The second is the result. The result is prettier in RStudio.</p>
</blockquote>
<div class="sourceCode" id="cb253"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb253-1"><a href="old-transform.html#cb253-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb253-2"><a href="old-transform.html#cb253-2"></a><span class="st">  </span><span class="kw">filter</span>(distname <span class="op">==</span><span class="st"> &quot;AUSTIN ISD&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 130 x 24
##    campus call_update campname cdalls cflaeatype cflaec cflalted cflchart
##    &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;   
##  1 22790…          NA AUSTIN …     90 &lt;NA&gt;       N      N        N       
##  2 22790…          NA LANIER …     83 &lt;NA&gt;       N      N        N       
##  3 22790…          NA MCCALLU…     93 &lt;NA&gt;       N      N        N       
##  4 22790…          NA REAGAN …     82 &lt;NA&gt;       N      N        N       
##  5 22790…          NA TRAVIS …     82 &lt;NA&gt;       N      N        N       
##  6 22790…          NA CROCKET…     86 &lt;NA&gt;       N      N        N       
##  7 22790…          NA ANDERSO…     92 &lt;NA&gt;       N      N        N       
##  8 22790…          NA ALTERNA…     NA &lt;NA&gt;       N      N        N       
##  9 22790…          NA BOWIE H…     92 &lt;NA&gt;       N      N        N       
## 10 22790…          NA LBJ HIG…     82 &lt;NA&gt;       N      N        N       
## # … with 120 more rows, and 16 more variables: cfldaep &lt;chr&gt;, cfleek &lt;chr&gt;,
## #   cfljj &lt;chr&gt;, cflnewcamp &lt;chr&gt;, cflrtf &lt;chr&gt;, cntyname &lt;chr&gt;, county &lt;chr&gt;,
## #   c_appeal_decision &lt;chr&gt;, c_rating &lt;chr&gt;, c_yrs_ir &lt;chr&gt;, distname &lt;chr&gt;,
## #   district &lt;chr&gt;, grdhigh &lt;chr&gt;, grdlow &lt;chr&gt;, grdspan &lt;chr&gt;, grdtype &lt;chr&gt;</code></pre>
<p>When you run this, you’ll see that you the about 130 rows instead of the 8,800+ of the full data set.</p>
<p>The <code>filter()</code> function works in this order:</p>
<ol style="list-style-type: decimal">
<li>What is the column (or variable) you are search in.</li>
<li>What is the operation.</li>
<li>What is the value (or observation) you are looking for.</li>
</ol>
<p>Note the two equals signs there <code>==</code>. It’s important two use two of them when you are looking for “equal”, as a single <code>=</code> will not work, as that means something else in R.</p>
<div id="logical-tests-1" class="section level3">
<h3><span class="header-section-number">17.8.1</span> Logical tests</h3>
<p>There are a number of these logical test operations:</p>
<div class="figure">
<img src="images/transform-logical-test.png" width="600" alt="" />
<p class="caption">dplyr logical tests</p>
</div>
</div>
<div id="filter-on-your-own" class="section level3">
<h3><span class="header-section-number">17.8.2</span> Filter on your own</h3>
<blockquote>
<p>You might find the <a href="https://rptsvr1.tea.texas.gov/perfreport/account/2019/download/camprate.html">data dictionary</a> for this data useful, but remember we lowercased all the column names.</p>
</blockquote>
<p>Create new code blocks and filter for each of the following.</p>
<ul>
<li>Schools in the “HAYS CISD” district.</li>
<li>Schools in “WILLIAMSON” county.</li>
<li>All schools that got a “90” or better in <code>cdalls</code>.</li>
<li>All AUSTIN ISD schools that got an “F” c_rating.</li>
</ul>
</div>
<div id="common-mistakes-with-filter-1" class="section level3">
<h3><span class="header-section-number">17.8.3</span> Common mistakes with filter</h3>
<p>Some common mistakes that happen when using filter.</p>
<div id="use-two-signs-for-true-1" class="section level4">
<h4><span class="header-section-number">17.8.3.1</span> Use two == signs for “true”</h4>
<p>DON’T DO THIS:</p>
<div class="sourceCode" id="cb255"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb255-1"><a href="old-transform.html#cb255-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb255-2"><a href="old-transform.html#cb255-2"></a><span class="st">  </span><span class="kw">filter</span>(<span class="dt">distname =</span> <span class="st">&quot;AUSTIN ISD&quot;</span>)</span></code></pre></div>
<p>DO THIS:</p>
<div class="sourceCode" id="cb256"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb256-1"><a href="old-transform.html#cb256-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb256-2"><a href="old-transform.html#cb256-2"></a><span class="st">  </span><span class="kw">filter</span>(distname <span class="op">==</span><span class="st"> &quot;AUSTIN ISD&quot;</span>)</span></code></pre></div>
</div>
<div id="forgetting-quotes-1" class="section level4">
<h4><span class="header-section-number">17.8.3.2</span> Forgetting quotes</h4>
<p>DON’T DO THIS:</p>
<div class="sourceCode" id="cb257"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb257-1"><a href="old-transform.html#cb257-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb257-2"><a href="old-transform.html#cb257-2"></a><span class="st">  </span><span class="kw">filter</span>(cntyname <span class="op">==</span><span class="st"> </span>TRAVIS)</span></code></pre></div>
<p>DO THIS:</p>
<div class="sourceCode" id="cb258"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb258-1"><a href="old-transform.html#cb258-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb258-2"><a href="old-transform.html#cb258-2"></a><span class="st">  </span><span class="kw">filter</span>(cntyname <span class="op">==</span><span class="st"> &quot;TRAVIS&quot;</span>)</span></code></pre></div>
</div>
</div>
</div>
<div id="combining-filters-1" class="section level2">
<h2><span class="header-section-number">17.9</span> Combining filters</h2>
<p>You can filter for more than one thing at a time by separating more than one test with a comma.</p>
<ul>
<li>Add the following code block to your notebook and run it.</li>
<li>Then look at the code and the result and then <strong>write out what the filter is doing in your own words</strong>.</li>
</ul>
<div class="sourceCode" id="cb259"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb259-1"><a href="old-transform.html#cb259-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb259-2"><a href="old-transform.html#cb259-2"></a><span class="st">  </span><span class="kw">filter</span>(cntyname <span class="op">==</span><span class="st"> &quot;TRAVIS&quot;</span>, cdalls <span class="op">&lt;</span><span class="st"> </span><span class="dv">60</span>)</span></code></pre></div>
<pre><code>## # A tibble: 16 x 24
##    campus call_update campname cdalls cflaeatype cflaec cflalted cflchart
##    &lt;chr&gt;        &lt;dbl&gt; &lt;chr&gt;     &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;  &lt;chr&gt;    &lt;chr&gt;   
##  1 22782…          NA KIPP DE…     50 &lt;NA&gt;       N      N        Y       
##  2 22782…          NA KIPP TR…     52 &lt;NA&gt;       N      N        Y       
##  3 22782…          NA KIPP UN…     54 &lt;NA&gt;       N      N        Y       
##  4 22782…          NA KIPP ES…     46 &lt;NA&gt;       N      N        Y       
##  5 22790…          NA BURNET …     54 &lt;NA&gt;       N      N        N       
##  6 22790…          NA MARTIN …     58 &lt;NA&gt;       N      N        N       
##  7 22790…          NA WEBB M S     52 &lt;NA&gt;       N      N        N       
##  8 22790…          NA DOBIE M…     59 &lt;NA&gt;       N      N        N       
##  9 22790…          NA MENDEZ …     50 &lt;NA&gt;       N      N        N       
## 10 22790…          NA SADLER …     59 &lt;NA&gt;       N      N        N       
## 11 22790…          NA ANDREWS…     56 &lt;NA&gt;       N      N        N       
## 12 22790…          NA BARRING…     55 &lt;NA&gt;       N      N        N       
## 13 22790…          NA NORTHWE…     59 &lt;NA&gt;       N      N        N       
## 14 22790…          NA MANOR M…     50 &lt;NA&gt;       N      N        N       
## 15 22791…          NA DAILEY …     59 &lt;NA&gt;       N      N        N       
## 16 22791…          NA POPHAM …     56 &lt;NA&gt;       N      N        N       
## # … with 16 more variables: cfldaep &lt;chr&gt;, cfleek &lt;chr&gt;, cfljj &lt;chr&gt;,
## #   cflnewcamp &lt;chr&gt;, cflrtf &lt;chr&gt;, cntyname &lt;chr&gt;, county &lt;chr&gt;,
## #   c_appeal_decision &lt;chr&gt;, c_rating &lt;chr&gt;, c_yrs_ir &lt;chr&gt;, distname &lt;chr&gt;,
## #   district &lt;chr&gt;, grdhigh &lt;chr&gt;, grdlow &lt;chr&gt;, grdspan &lt;chr&gt;, grdtype &lt;chr&gt;</code></pre>
<p>If you use a comma to separate tests, then both tests have to be true. If you want OR, then you use a pipe character <code>|</code> (the shift-key above the backslash.)</p>
<div class="figure">
<img src="images/transform-boolean.png" width="600" alt="" />
<p class="caption">Boolean operators</p>
</div>
<div id="combining-filters-on-your-own" class="section level3">
<h3><span class="header-section-number">17.9.1</span> Combining filters on your own</h3>
<ul>
<li>Your quest is to filter ratings to schools in AUSTIN ISD that received an “F” for <code>c_rating</code>. Do this in a new chunk. Don’t forget to give the chunk a name.</li>
</ul>
</div>
<div id="common-mistakes-with-combining-filters-1" class="section level3">
<h3><span class="header-section-number">17.9.2</span> Common mistakes with combining filters</h3>
<p>Some things to watch when trying to combine filters.</p>
<div id="collapsing-multiple-tests-into-one-1" class="section level4">
<h4><span class="header-section-number">17.9.2.1</span> Collapsing multiple tests into one</h4>
<p>DON’T DO THIS:</p>
<div class="sourceCode" id="cb261"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb261-1"><a href="old-transform.html#cb261-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb261-2"><a href="old-transform.html#cb261-2"></a><span class="st">  </span><span class="kw">filter</span>(cntyname <span class="op">==</span><span class="st"> &quot;TRAVIS&quot;</span> <span class="op">|</span><span class="st"> &quot;WILLIAMSON&quot;</span>)</span></code></pre></div>
<p>DO THIS:</p>
<div class="sourceCode" id="cb262"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb262-1"><a href="old-transform.html#cb262-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb262-2"><a href="old-transform.html#cb262-2"></a><span class="st">  </span><span class="kw">filter</span>(cntyname <span class="op">==</span><span class="st"> &quot;TRAVIS&quot;</span> <span class="op">|</span><span class="st"> </span>cntyname <span class="op">==</span><span class="st">&quot;WILLIAMSON&quot;</span>)</span></code></pre></div>
<p>BUT EVEN BETTER:</p>
<div class="sourceCode" id="cb263"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb263-1"><a href="old-transform.html#cb263-1"></a><span class="co"># Adding in Hays to the list as well</span></span>
<span id="cb263-2"><a href="old-transform.html#cb263-2"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb263-3"><a href="old-transform.html#cb263-3"></a><span class="st">  </span><span class="kw">filter</span>(cntyname <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;TRAVIS&quot;</span>, <span class="st">&quot;WILLIAMSON&quot;</span>,<span class="st">&quot;HAYS&quot;</span>))</span></code></pre></div>
<p>If you want to combine a series of strings in your filter, you have to put them inside a “concatenate” function, which is shortened to <code>c()</code>, as in the example above. We’ll end up using this a lot.</p>
</div>
</div>
</div>
<div id="select-1" class="section level2">
<h2><span class="header-section-number">17.10</span> Select()</h2>
<p>As we’ve worked with our filters it has been onerous to tab through all the columns to check the result we want. The <code>select()</code> function allows you to choose which fields to display from a data frame. If we are only interested in some of the fields, like <code>campname</code>, <code>distname</code> and <code>c_rating</code>, then we we can pipe the results to a select function. It works by listing the column names inside the function. You can also use <code>-</code> before a column names to remove them (as opposed to listing those to keep.)</p>
<ul>
<li>Add a new RMarkdown headline by adding the headline <code>## Select</code>.</li>
<li>Create a new chunk, name it <strong>ratings-county</strong> and add the following and run it:</li>
</ul>
<div class="sourceCode" id="cb264"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb264-1"><a href="old-transform.html#cb264-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb264-2"><a href="old-transform.html#cb264-2"></a><span class="st">  </span><span class="kw">filter</span>(cntyname <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;TRAVIS&quot;</span>, <span class="st">&quot;WILLIAMSON&quot;</span>, <span class="st">&quot;HAYS&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb264-3"><a href="old-transform.html#cb264-3"></a><span class="st">  </span><span class="kw">select</span>(distname, campname, cdalls)</span></code></pre></div>
<pre><code>## # A tibble: 529 x 3
##    distname                     campname                          cdalls
##    &lt;chr&gt;                        &lt;chr&gt;                              &lt;int&gt;
##  1 KATHERINE ANNE PORTER SCHOOL KATHERINE ANNE PORTER SCHOOL          67
##  2 TEXAS PREPARATORY SCHOOL     TEXAS PREPARATORY SCHOOL              48
##  3 TEXAS PREPARATORY SCHOOL     TEXAS PREPARATORY SCHOOL - AUSTIN     40
##  4 KI CHARTER ACADEMY           KI CHARTER ACADEMY                    NA
##  5 SAN MARCOS CISD              SAN MARCOS H S                        76
##  6 SAN MARCOS CISD              GOODNIGHT MIDDLE                      67
##  7 SAN MARCOS CISD              MILLER MIDDLE                         64
##  8 SAN MARCOS CISD              BOWIE EL                              73
##  9 SAN MARCOS CISD              CROCKETT EL                           81
## 10 SAN MARCOS CISD              DEZAVALA EL                           71
## # … with 519 more rows</code></pre>
<p>The order of all these operations matter. If you use <code>select()</code> that removes a column, you cannot later use filter on that removed column.</p>
<div id="select-on-your-own" class="section level3">
<h3><span class="header-section-number">17.10.1</span> Select on your own</h3>
<ul>
<li>Start a section with a headline <code>### Select on your own</code>. (We are using three <code>###</code> to make this a subheadline of <code>## Select</code>.)</li>
<li>Add text that we are looking for AISD failed schools.</li>
<li>Go back to your “Filter on your own” chunk where you combined filters to find AUSTIN ISD schools that received and “F” rating and copy the code and add it here. Rename the chunk <strong>aisd-failes</strong>.</li>
<li>Add on a <code>select</code> function to give you only the district name, school name and letter-grade rating.</li>
</ul>
<p>This is the answer to one of our goals for this notebook.</p>
<p>Now for the next goal:</p>
<ul>
<li>Add text that we are looking for schools that failed on our five-county area.</li>
<li>Add a new chunk called <strong>metro-fails</strong>.</li>
<li>Filter for the five counties: BASTROP, HAYS, CALDWELL, TRAVIS, WILLIAMSON. Remember you can use the <code>%in%</code> designation, putting the county list inside <code>c()</code>. Don’t forget the quotes around the county names.</li>
<li>Also filter for the c_rating to get failed schools.</li>
<li>Select the county name, district name, school name and rating.</li>
</ul>
</div>
</div>
<div id="arrange" class="section level2">
<h2><span class="header-section-number">17.11</span> Arrange()</h2>
<p>The <code>arrange()</code> function sorts data.</p>
<div class="sourceCode" id="cb266"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb266-1"><a href="old-transform.html#cb266-1"></a>dataframe <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb266-2"><a href="old-transform.html#cb266-2"></a><span class="st">  </span><span class="kw">arrange</span>(column_name)</span></code></pre></div>
<p>It will sort in ascending (A-Z or 1-10) by default.</p>
<p>If you want to sort the column be descending order (Z-A or 10-1), then you add on <code>desc()</code> function:</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb267-1"><a href="old-transform.html#cb267-1"></a>dataframe <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb267-2"><a href="old-transform.html#cb267-2"></a><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(column_name))</span></code></pre></div>
<p>The above code wraps your sorting colun with the <code>desc()</code> function. I’m more apt to write this the tidyverse way, as the pipe makes the order of operations more clear to me:</p>
<div class="sourceCode" id="cb268"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb268-1"><a href="old-transform.html#cb268-1"></a>dataframe <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb268-2"><a href="old-transform.html#cb268-2"></a><span class="st">  </span><span class="kw">arrange</span>(column_name <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">desc</span>())</span></code></pre></div>
<p>So, let’s take our example data and sort it by schools who scored highest.</p>
<ul>
<li>Add a headline <code>## Arrange</code>.</li>
<li>Take the code below and add a chunk called <strong>ratings-highest</strong> and run it.</li>
</ul>
<div class="sourceCode" id="cb269"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb269-1"><a href="old-transform.html#cb269-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb269-2"><a href="old-transform.html#cb269-2"></a><span class="st">  </span><span class="kw">filter</span>(cntyname <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;TRAVIS&quot;</span>, <span class="st">&quot;WILLIAMSON&quot;</span>, <span class="st">&quot;HAYS&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb269-3"><a href="old-transform.html#cb269-3"></a><span class="st">  </span><span class="kw">select</span>(distname, campname, cdalls) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb269-4"><a href="old-transform.html#cb269-4"></a><span class="st">  </span><span class="kw">arrange</span>(cdalls <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">desc</span>())</span></code></pre></div>
<pre><code>## # A tibble: 529 x 3
##    distname                  campname                           cdalls
##    &lt;chr&gt;                     &lt;chr&gt;                               &lt;int&gt;
##  1 CHAPARRAL STAR ACADEMY    CHAPARRAL STAR ACADEMY                 98
##  2 AUSTIN ISD                RICHARDS SCH FOR YOUNG WOMEN LEADE     98
##  3 ROUND ROCK ISD            CANYON CREEK EL                        98
##  4 ROUND ROCK ISD            CACTUS RANCH EL                        98
##  5 KIPP TEXAS PUBLIC SCHOOLS KIPP UNITY PRI                         97
##  6 AUSTIN ISD                LASA H S                               97
##  7 AUSTIN ISD                KIKER EL                               97
##  8 EANES ISD                 FOREST TRAIL EL                        97
##  9 ROUND ROCK ISD            CANYON VISTA MIDDLE                    97
## 10 ROUND ROCK ISD            JAMES GARLAND WALSH MIDDLE             97
## # … with 519 more rows</code></pre>
<div id="arrange-on-your-own" class="section level3">
<h3><span class="header-section-number">17.11.1</span> Arrange on your own</h3>
<p>This quest will take all your skills plus the new <code>arrange()</code> function, including looking back to see how to filter on NOT EQUAL TO (look back at “Logical tests”). You also might need the record layout noted above.</p>
<ul>
<li>Add a headline <code>### Arrange on your own</code></li>
<li>Add a new chunk called <strong>aisd-highschools</strong>.</li>
<li>Filter for: AUSTIN ISD schools, with the highest grade of “12”, but exclude schools with the value “Not Rated”.</li>
<li>Arrange then by the highest <code>cdalls</code> value.</li>
<li>Select only the campus name, number rating and grade rating.</li>
</ul>
</div>
</div>
<div id="mutate-1" class="section level2">
<h2><span class="header-section-number">17.12</span> Mutate()</h2>
<p>The <a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a> function allows us to change a column of data or create new columns based on others. We can do calculations across columns or change data types. It is useful in cleaning data.</p>
<blockquote>
<p>THIS IS WHERE I STOPPED</p>
</blockquote>
<div class="sourceCode" id="cb271"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb271-1"><a href="old-transform.html#cb271-1"></a>ratings <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb271-2"><a href="old-transform.html#cb271-2"></a><span class="st">  </span><span class="kw">filter</span>(grdtype <span class="op">==</span><span class="st"> &quot;B&quot;</span>, distname <span class="op">==</span><span class="st"> &quot;AUSTIN ISD&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb271-3"><a href="old-transform.html#cb271-3"></a><span class="st">  </span><span class="kw">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 5
## Columns: 24
## $ campus            &lt;chr&gt; &quot;227901012&quot;, &quot;227901028&quot;, &quot;227901030&quot;, &quot;227901250&quot;,…
## $ call_update       &lt;dbl&gt; NA, NA, NA, NA, NA
## $ campname          &lt;chr&gt; &quot;ALTERNATIVE LEARNING CENTER&quot;, &quot;RICHARDS SCH FOR YO…
## $ cdalls            &lt;int&gt; NA, 98, NA, NA, NA
## $ cflaeatype        &lt;chr&gt; NA, NA, &quot;RESIDENTIAL FACILITY&quot;, &quot;RESIDENTIAL FACILI…
## $ cflaec            &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;
## $ cflalted          &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;N&quot;
## $ cflchart          &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;
## $ cfldaep           &lt;chr&gt; &quot;Y&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;
## $ cfleek            &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;
## $ cfljj             &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;
## $ cflnewcamp        &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;, &quot;N&quot;
## $ cflrtf            &lt;chr&gt; &quot;N&quot;, &quot;N&quot;, &quot;Y&quot;, &quot;Y&quot;, &quot;N&quot;
## $ cntyname          &lt;chr&gt; &quot;TRAVIS&quot;, &quot;TRAVIS&quot;, &quot;TRAVIS&quot;, &quot;TRAVIS&quot;, &quot;TRAVIS&quot;
## $ county            &lt;chr&gt; &quot;227&quot;, &quot;227&quot;, &quot;227&quot;, &quot;227&quot;, &quot;227&quot;
## $ c_appeal_decision &lt;chr&gt; NA, NA, NA, NA, NA
## $ c_rating          &lt;chr&gt; &quot;Not Rated&quot;, &quot;A&quot;, &quot;Not Rated&quot;, &quot;Not Rated&quot;, &quot;Not Ra…
## $ c_yrs_ir          &lt;chr&gt; &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;, &quot;.&quot;
## $ distname          &lt;chr&gt; &quot;AUSTIN ISD&quot;, &quot;AUSTIN ISD&quot;, &quot;AUSTIN ISD&quot;, &quot;AUSTIN I…
## $ district          &lt;chr&gt; &quot;227901&quot;, &quot;227901&quot;, &quot;227901&quot;, &quot;227901&quot;, &quot;227901&quot;
## $ grdhigh           &lt;chr&gt; &quot;12&quot;, &quot;12&quot;, &quot;11&quot;, &quot;12&quot;, &quot;12&quot;
## $ grdlow            &lt;chr&gt; &quot;06&quot;, &quot;06&quot;, &quot;06&quot;, &quot;PK&quot;, &quot;EE&quot;
## $ grdspan           &lt;chr&gt; &quot;06 - 12&quot;, &quot;06 - 12&quot;, &quot;06 - 11&quot;, &quot;PK - 12&quot;, &quot;EE - 1…
## $ grdtype           &lt;chr&gt; &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;, &quot;B&quot;</code></pre>
<div class="figure">
<img src="images/transform-mutate.png" width="600" alt="" />
<p class="caption">Create columns with mutate()</p>
</div>
<p>In the example above:</p>
<ul>
<li><code>gapminder</code> is the source data frame.</li>
<li><code>gdp</code> is the new column being created. it comes first.</li>
<li><code>= gdpPercap * pop</code> is the function. It is multiplying the the two columns that are in the <code>gapminder</code> data frame.</li>
</ul>
<p>The applied function doesn’t have to be math. It could be pulling part of a string or any number of things.</p>
<div id="your-turn-to-mutate" class="section level3">
<h3><span class="header-section-number">17.12.1</span> Your turn to mutate</h3>
<ul>
<li>Modify the above mutate function to also add a <code>month_drilled</code> column.</li>
</ul>
</div>
<div id="document-and-save-new-columns" class="section level3">
<h3><span class="header-section-number">17.12.2</span> Document and save new columns</h3>
<ul>
<li>Before the code chunk, write out what we are doing. Add a Markdown headline and description of our task, which was to add a “year_drilled” and “month_drilled” column.</li>
<li>Name the chunk by adding <code>add_year_month</code> inside the <code>{r}</code> part of the chunk.</li>
<li>Edit the first line <code>wells %&gt;%</code> to <code>wells &lt;- wells %&gt;%</code> to assign the mutate result back to our wells data frame.</li>
</ul>
<div class="sourceCode" id="cb273"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb273-1"><a href="old-transform.html#cb273-1"></a>wells &lt;-<span class="st"> </span>wells <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb273-2"><a href="old-transform.html#cb273-2"></a><span class="st">  </span><span class="kw">mutate</span>(</span>
<span id="cb273-3"><a href="old-transform.html#cb273-3"></a>    <span class="dt">year_drilled =</span> <span class="kw">year</span>(drilling_start_date),</span>
<span id="cb273-4"><a href="old-transform.html#cb273-4"></a>    <span class="dt">month_drilled =</span> <span class="kw">month</span>(drilling_start_date)</span>
<span id="cb273-5"><a href="old-transform.html#cb273-5"></a>  )</span></code></pre></div>
<p>As we’ve seen before, when we assign the result back to <code>wells</code>, the data frame will no longer print to the screen anymore. That’s OK. Inspect the <code>wells</code> data frame within the Environment tab and to make sure it was created properly. (If you really want to check the data on your screen, you could use <code>head(wells)</code> to see just the several lines.)</p>
<p>As you may recall from our lesson on column renaming, we can create more than one column within the same <code>mutate()</code> function by separating them with commas.</p>
</div>
<div id="export-the-mutated-data" class="section level3">
<h3><span class="header-section-number">17.12.3</span> Export the mutated data</h3>
<p>We actually want to keep these new columns to use later, so let’s do a quick export to save them for later.</p>
<div class="sourceCode" id="cb274"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb274-1"><a href="old-transform.html#cb274-1"></a>wells <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">saveRDS</span>(<span class="st">&quot;data-out/wells_02.rds&quot;</span>)</span></code></pre></div>
</div>
</div>
<div id="transform-review" class="section level2">
<h2><span class="header-section-number">17.13</span> Transform review</h2>
<p>This has been a lot to learn, but it is the basics of just about any data analysis … to <strong>filter</strong>, <strong>select</strong>, <strong>arrange</strong>, and to create new variables with with <strong>mutate</strong>.</p>
<p>Next, we’ll start plotting some of this data so we can <em>see</em> it.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="old-importing-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="old-summarize.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/34-transform.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>

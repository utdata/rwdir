<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Joins | Reporting with Data in R</title>
  <meta name="description" content="Chapter 10 Joins | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Joins | Reporting with Data in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 10 Joins | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  <meta name="github-repo" content="utdata/rwdir" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Joins | Reporting with Data in R" />
  
  <meta name="twitter:description" content="Chapter 10 Joins | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  

<meta name="author" content="Christian McDonald" />


<meta name="date" content="2021-01-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="reordering-factors.html"/>
<link rel="next" href="census.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>
<style type="text/css">
  p.caption {
    color: #777;
    margin-top: 10px;
  }
  p code, pre, pre code, li code {
    background-color: #DCDCDC !important;
  }
</style>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Reporting with Data in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this class</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-this-book"><i class="fa fa-check"></i>About this book</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other resources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Install Party</a><ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#mac-vs-pc"><i class="fa fa-check"></i><b>1.1</b> Mac vs PC</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="install.html"><a href="install.html#class-project-folder"><i class="fa fa-check"></i><b>1.4</b> Class project folder</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#rstudio-tour"><i class="fa fa-check"></i><b>2.1</b> RStudio tour</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#updating-preferences"><i class="fa fa-check"></i><b>2.2</b> Updating preferences</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#starting-a-new-project"><i class="fa fa-check"></i><b>2.3</b> Starting a new Project</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#using-r-notebooks"><i class="fa fa-check"></i><b>2.4</b> Using R Notebooks</a><ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#create-your-first-notebook"><i class="fa fa-check"></i><b>2.4.1</b> Create your first notebook</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro.html"><a href="intro.html#save-the-.rmd-file"><i class="fa fa-check"></i><b>2.4.2</b> Save the .Rmd file</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro.html"><a href="intro.html#run-the-notebook"><i class="fa fa-check"></i><b>2.4.3</b> Run the notebook</a></li>
<li class="chapter" data-level="2.4.4" data-path="intro.html"><a href="intro.html#adding-new-code-chunks"><i class="fa fa-check"></i><b>2.4.4</b> Adding new code chunks</a></li>
<li class="chapter" data-level="2.4.5" data-path="intro.html"><a href="intro.html#practice-adding-code-chunks"><i class="fa fa-check"></i><b>2.4.5</b> Practice adding code chunks</a></li>
<li class="chapter" data-level="2.4.6" data-path="intro.html"><a href="intro.html#preview-the-report"><i class="fa fa-check"></i><b>2.4.6</b> Preview the report</a></li>
<li class="chapter" data-level="2.4.7" data-path="intro.html"><a href="intro.html#the-toolbar"><i class="fa fa-check"></i><b>2.4.7</b> The toolbar</a></li>
<li class="chapter" data-level="2.4.8" data-path="intro.html"><a href="intro.html#knit-the-final-workbook"><i class="fa fa-check"></i><b>2.4.8</b> Knit the final workbook</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#turning-in-our-projects"><i class="fa fa-check"></i><b>2.5</b> Turning in our projects</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="import.html"><a href="import.html"><i class="fa fa-check"></i><b>3</b> Importing data</a><ul>
<li class="chapter" data-level="3.1" data-path="import.html"><a href="import.html#goals-for-this-section"><i class="fa fa-check"></i><b>3.1</b> Goals for this section</a></li>
<li class="chapter" data-level="3.2" data-path="import.html"><a href="import.html#data-types"><i class="fa fa-check"></i><b>3.2</b> Data types</a><ul>
<li class="chapter" data-level="3.2.1" data-path="import.html"><a href="import.html#what-is-clean-data"><i class="fa fa-check"></i><b>3.2.1</b> What is clean data</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="import.html"><a href="import.html#create-a-new-project"><i class="fa fa-check"></i><b>3.3</b> Create a new project</a><ul>
<li class="chapter" data-level="3.3.1" data-path="import.html"><a href="import.html#the-r-package-environment"><i class="fa fa-check"></i><b>3.3.1</b> The R Package environment</a></li>
<li class="chapter" data-level="3.3.2" data-path="import.html"><a href="import.html#installing-and-using-packages"><i class="fa fa-check"></i><b>3.3.2</b> Installing and using packages</a></li>
<li class="chapter" data-level="3.3.3" data-path="import.html"><a href="import.html#load-the-libraries"><i class="fa fa-check"></i><b>3.3.3</b> Load the libraries</a></li>
<li class="chapter" data-level="3.3.4" data-path="import.html"><a href="import.html#create-a-directory-for-your-data"><i class="fa fa-check"></i><b>3.3.4</b> Create a directory for your data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="import.html"><a href="import.html#lets-get-some-data"><i class="fa fa-check"></i><b>3.4</b> Let’s get some data</a><ul>
<li class="chapter" data-level="3.4.1" data-path="import.html"><a href="import.html#inspect-the-data"><i class="fa fa-check"></i><b>3.4.1</b> Inspect the data</a></li>
<li class="chapter" data-level="3.4.2" data-path="import.html"><a href="import.html#import-csv-as-data"><i class="fa fa-check"></i><b>3.4.2</b> Import csv as data</a></li>
<li class="chapter" data-level="3.4.3" data-path="import.html"><a href="import.html#clean-names-and-the-pipe"><i class="fa fa-check"></i><b>3.4.3</b> Clean names and the pipe</a></li>
<li class="chapter" data-level="3.4.4" data-path="import.html"><a href="import.html#the-pipe"><i class="fa fa-check"></i><b>3.4.4</b> The pipe %&gt;%</a></li>
<li class="chapter" data-level="3.4.5" data-path="import.html"><a href="import.html#assign-our-data-to-a-data-frame"><i class="fa fa-check"></i><b>3.4.5</b> Assign our data to a data frame</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="import.html"><a href="import.html#inspect-the-data-1"><i class="fa fa-check"></i><b>3.5</b> Inspect the data</a></li>
<li class="chapter" data-level="3.6" data-path="import.html"><a href="import.html#turn-in-your-project"><i class="fa fa-check"></i><b>3.6</b> Turn in your project</a></li>
<li class="chapter" data-level="3.7" data-path="import.html"><a href="import.html#resources"><i class="fa fa-check"></i><b>3.7</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="transform.html"><a href="transform.html"><i class="fa fa-check"></i><b>4</b> Transform</a><ul>
<li class="chapter" data-level="4.1" data-path="transform.html"><a href="transform.html#goals-for-the-section"><i class="fa fa-check"></i><b>4.1</b> Goals for the section</a></li>
<li class="chapter" data-level="4.2" data-path="transform.html"><a href="transform.html#introducing-dplyr"><i class="fa fa-check"></i><b>4.2</b> Introducing dplyr</a></li>
<li class="chapter" data-level="4.3" data-path="transform.html"><a href="transform.html#start-a-new-r-notebook"><i class="fa fa-check"></i><b>4.3</b> Start a new R Notebook</a></li>
<li class="chapter" data-level="4.4" data-path="transform.html"><a href="transform.html#record-our-goals"><i class="fa fa-check"></i><b>4.4</b> Record our goals</a></li>
<li class="chapter" data-level="4.5" data-path="transform.html"><a href="transform.html#name-your-code-chunks"><i class="fa fa-check"></i><b>4.5</b> Name your code chunks</a></li>
<li class="chapter" data-level="4.6" data-path="transform.html"><a href="transform.html#import-our-data"><i class="fa fa-check"></i><b>4.6</b> Import our data</a></li>
<li class="chapter" data-level="4.7" data-path="transform.html"><a href="transform.html#filter"><i class="fa fa-check"></i><b>4.7</b> Filter()</a><ul>
<li class="chapter" data-level="4.7.1" data-path="transform.html"><a href="transform.html#filter-your-turn"><i class="fa fa-check"></i><b>4.7.1</b> Filter your turn</a></li>
<li class="chapter" data-level="4.7.2" data-path="transform.html"><a href="transform.html#common-mistakes-with-filter"><i class="fa fa-check"></i><b>4.7.2</b> Common mistakes with filter</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="transform.html"><a href="transform.html#combining-filters"><i class="fa fa-check"></i><b>4.8</b> Combining filters</a><ul>
<li class="chapter" data-level="4.8.1" data-path="transform.html"><a href="transform.html#your-turn-combining-filters"><i class="fa fa-check"></i><b>4.8.1</b> Your turn combining filters</a></li>
<li class="chapter" data-level="4.8.2" data-path="transform.html"><a href="transform.html#common-mistakes-with-combining-filters"><i class="fa fa-check"></i><b>4.8.2</b> Common mistakes with combining filters</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="transform.html"><a href="transform.html#arrange"><i class="fa fa-check"></i><b>4.9</b> Arrange()</a></li>
<li class="chapter" data-level="4.10" data-path="transform.html"><a href="transform.html#multi-step-operations"><i class="fa fa-check"></i><b>4.10</b> Multi-step operations</a><ul>
<li class="chapter" data-level="4.10.1" data-path="transform.html"><a href="transform.html#your-turn-to-combine-and-pipe"><i class="fa fa-check"></i><b>4.10.1</b> Your turn to combine and pipe</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="transform.html"><a href="transform.html#select"><i class="fa fa-check"></i><b>4.11</b> Select()</a></li>
<li class="chapter" data-level="4.12" data-path="transform.html"><a href="transform.html#mutate"><i class="fa fa-check"></i><b>4.12</b> Mutate()</a><ul>
<li class="chapter" data-level="4.12.1" data-path="transform.html"><a href="transform.html#your-turn-to-mutate"><i class="fa fa-check"></i><b>4.12.1</b> Your turn to mutate</a></li>
<li class="chapter" data-level="4.12.2" data-path="transform.html"><a href="transform.html#document-and-save-new-columns"><i class="fa fa-check"></i><b>4.12.2</b> Document and save new columns</a></li>
<li class="chapter" data-level="4.12.3" data-path="transform.html"><a href="transform.html#export-the-mutated-data"><i class="fa fa-check"></i><b>4.12.3</b> Export the mutated data</a></li>
</ul></li>
<li class="chapter" data-level="4.13" data-path="transform.html"><a href="transform.html#summarize"><i class="fa fa-check"></i><b>4.13</b> Summarize()</a><ul>
<li class="chapter" data-level="4.13.1" data-path="transform.html"><a href="transform.html#ignoring-na"><i class="fa fa-check"></i><b>4.13.1</b> ignoring na</a></li>
<li class="chapter" data-level="4.13.2" data-path="transform.html"><a href="transform.html#your-turn-with-summarise"><i class="fa fa-check"></i><b>4.13.2</b> Your turn with summarise</a></li>
</ul></li>
<li class="chapter" data-level="4.14" data-path="transform.html"><a href="transform.html#group_by"><i class="fa fa-check"></i><b>4.14</b> Group_by()</a><ul>
<li class="chapter" data-level="4.14.1" data-path="transform.html"><a href="transform.html#group-and-count"><i class="fa fa-check"></i><b>4.14.1</b> Group and count</a></li>
<li class="chapter" data-level="4.14.2" data-path="transform.html"><a href="transform.html#your-turn-to-group"><i class="fa fa-check"></i><b>4.14.2</b> Your turn to group</a></li>
<li class="chapter" data-level="4.14.3" data-path="transform.html"><a href="transform.html#counting-only"><i class="fa fa-check"></i><b>4.14.3</b> Counting only</a></li>
</ul></li>
<li class="chapter" data-level="4.15" data-path="transform.html"><a href="transform.html#transform-review"><i class="fa fa-check"></i><b>4.15</b> Transform review</a></li>
<li class="chapter" data-level="4.16" data-path="transform.html"><a href="transform.html#turn-in-your-in-class-project"><i class="fa fa-check"></i><b>4.16</b> Turn in your in-class project</a></li>
<li class="chapter" data-level="4.17" data-path="transform.html"><a href="transform.html#practice-assignment-transforms-on-census"><i class="fa fa-check"></i><b>4.17</b> Practice assignment: Transforms on census</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="summarize-1.html"><a href="summarize-1.html"><i class="fa fa-check"></i><b>5</b> Summarize</a></li>
<li class="chapter" data-level="6" data-path="cleaning.html"><a href="cleaning.html"><i class="fa fa-check"></i><b>6</b> Cleaning</a><ul>
<li class="chapter" data-level="6.1" data-path="cleaning.html"><a href="cleaning.html#updates-needed"><i class="fa fa-check"></i><b>6.1</b> UPDATES NEEDED</a></li>
<li class="chapter" data-level="6.2" data-path="cleaning.html"><a href="cleaning.html#goals-for-this-section-1"><i class="fa fa-check"></i><b>6.2</b> Goals for this section</a><ul>
<li class="chapter" data-level="6.2.1" data-path="cleaning.html"><a href="cleaning.html#resources-1"><i class="fa fa-check"></i><b>6.2.1</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="cleaning.html"><a href="cleaning.html#taking-stock-of-the-data"><i class="fa fa-check"></i><b>6.3</b> Taking stock of the data</a></li>
<li class="chapter" data-level="6.4" data-path="cleaning.html"><a href="cleaning.html#setup-and-import"><i class="fa fa-check"></i><b>6.4</b> Setup and import</a></li>
<li class="chapter" data-level="6.5" data-path="cleaning.html"><a href="cleaning.html#clean-the-proposed_use-column"><i class="fa fa-check"></i><b>6.5</b> Clean the proposed_use column</a><ul>
<li class="chapter" data-level="6.5.1" data-path="cleaning.html"><a href="cleaning.html#count-values-in-a-column"><i class="fa fa-check"></i><b>6.5.1</b> Count values in a column</a></li>
<li class="chapter" data-level="6.5.2" data-path="cleaning.html"><a href="cleaning.html#change-values-in-a-column"><i class="fa fa-check"></i><b>6.5.2</b> Change values in a column</a></li>
<li class="chapter" data-level="6.5.3" data-path="cleaning.html"><a href="cleaning.html#reassign-your-changes-back-to-the-data-frame"><i class="fa fa-check"></i><b>6.5.3</b> Reassign your changes back to the data frame</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="cleaning.html"><a href="cleaning.html#export-your-updated-data-frame"><i class="fa fa-check"></i><b>6.6</b> Export your updated data frame</a></li>
<li class="chapter" data-level="6.7" data-path="cleaning.html"><a href="cleaning.html#future-addition"><i class="fa fa-check"></i><b>6.7</b> Future addition</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="plots.html"><a href="plots.html"><i class="fa fa-check"></i><b>7</b> Plots</a><ul>
<li class="chapter" data-level="7.1" data-path="plots.html"><a href="plots.html#goals-for-this-section-2"><i class="fa fa-check"></i><b>7.1</b> Goals for this section</a></li>
<li class="chapter" data-level="7.2" data-path="plots.html"><a href="plots.html#introduction-ggplot"><i class="fa fa-check"></i><b>7.2</b> Introduction ggplot</a></li>
<li class="chapter" data-level="7.3" data-path="plots.html"><a href="plots.html#the-basic-ggplot-template"><i class="fa fa-check"></i><b>7.3</b> The basic ggplot template</a></li>
<li class="chapter" data-level="7.4" data-path="plots.html"><a href="plots.html#lets-plot"><i class="fa fa-check"></i><b>7.4</b> Let’s plot!</a><ul>
<li class="chapter" data-level="7.4.1" data-path="plots.html"><a href="plots.html#set-up-our-notebook"><i class="fa fa-check"></i><b>7.4.1</b> Set up our Notebook</a></li>
<li class="chapter" data-level="7.4.2" data-path="plots.html"><a href="plots.html#scatterplot"><i class="fa fa-check"></i><b>7.4.2</b> Scatterplot</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="plots.html"><a href="plots.html#plotting-our-wells-data"><i class="fa fa-check"></i><b>7.5</b> Plotting our wells data</a><ul>
<li class="chapter" data-level="7.5.1" data-path="plots.html"><a href="plots.html#total-wells-per-county"><i class="fa fa-check"></i><b>7.5.1</b> Total wells per county</a></li>
<li class="chapter" data-level="7.5.2" data-path="plots.html"><a href="plots.html#add-a-layer-of-text-labels"><i class="fa fa-check"></i><b>7.5.2</b> Add a layer of text labels</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="plots.html"><a href="plots.html#wells-per-county-over-time"><i class="fa fa-check"></i><b>7.6</b> Wells per county over time</a><ul>
<li class="chapter" data-level="7.6.1" data-path="plots.html"><a href="plots.html#work-up-the-data-frame"><i class="fa fa-check"></i><b>7.6.1</b> Work up the data frame</a></li>
<li class="chapter" data-level="7.6.2" data-path="plots.html"><a href="plots.html#draw-the-plot"><i class="fa fa-check"></i><b>7.6.2</b> Draw the plot</a></li>
<li class="chapter" data-level="7.6.3" data-path="plots.html"><a href="plots.html#your-turn-add-layers"><i class="fa fa-check"></i><b>7.6.3</b> Your turn: Add layers</a></li>
<li class="chapter" data-level="7.6.4" data-path="plots.html"><a href="plots.html#dates-as-numbers-and-the-problems-they-cause"><i class="fa fa-check"></i><b>7.6.4</b> Dates as numbers and the problems they cause</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="plots.html"><a href="plots.html#your-turn-build-a-line-chart"><i class="fa fa-check"></i><b>7.7</b> Your turn: Build a line chart</a></li>
<li class="chapter" data-level="7.8" data-path="plots.html"><a href="plots.html#review-of-ggplot"><i class="fa fa-check"></i><b>7.8</b> Review of ggplot</a></li>
<li class="chapter" data-level="7.9" data-path="plots.html"><a href="plots.html#plotly-for-more-interactive-graphics"><i class="fa fa-check"></i><b>7.9</b> Plotly for more interactive graphics</a><ul>
<li class="chapter" data-level="7.9.1" data-path="plots.html"><a href="plots.html#ggplotly"><i class="fa fa-check"></i><b>7.9.1</b> ggplotly</a></li>
<li class="chapter" data-level="7.9.2" data-path="plots.html"><a href="plots.html#more-with-plot_ly-function"><i class="fa fa-check"></i><b>7.9.2</b> More with <code>plot_ly()</code> function</a></li>
<li class="chapter" data-level="7.9.3" data-path="plots.html"><a href="plots.html#plotlys-freemium-model"><i class="fa fa-check"></i><b>7.9.3</b> Plotly’s freemium model</a></li>
</ul></li>
<li class="chapter" data-level="7.10" data-path="plots.html"><a href="plots.html#resources-2"><i class="fa fa-check"></i><b>7.10</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tidy.html"><a href="tidy.html"><i class="fa fa-check"></i><b>8</b> Tidy data</a><ul>
<li class="chapter" data-level="8.1" data-path="tidy.html"><a href="tidy.html#goals-for-this-section-3"><i class="fa fa-check"></i><b>8.1</b> Goals for this section</a></li>
<li class="chapter" data-level="8.2" data-path="tidy.html"><a href="tidy.html#what-is-tidy-data"><i class="fa fa-check"></i><b>8.2</b> What is tidy data</a></li>
<li class="chapter" data-level="8.3" data-path="tidy.html"><a href="tidy.html#tidyr-package"><i class="fa fa-check"></i><b>8.3</b> Tidyr package</a></li>
<li class="chapter" data-level="8.4" data-path="tidy.html"><a href="tidy.html#the-tidyr-verbs"><i class="fa fa-check"></i><b>8.4</b> The tidyr verbs</a></li>
<li class="chapter" data-level="8.5" data-path="tidy.html"><a href="tidy.html#set-up-the-mixbev-project"><i class="fa fa-check"></i><b>8.5</b> Set up the mixbev project</a></li>
<li class="chapter" data-level="8.6" data-path="tidy.html"><a href="tidy.html#create-an-explore-notebook"><i class="fa fa-check"></i><b>8.6</b> Create an explore notebook</a><ul>
<li class="chapter" data-level="8.6.1" data-path="tidy.html"><a href="tidy.html#peruse-the-data"><i class="fa fa-check"></i><b>8.6.1</b> Peruse the data</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="tidy.html"><a href="tidy.html#what-might-we-learn-about-this-dataset"><i class="fa fa-check"></i><b>8.7</b> What might we learn about this dataset</a></li>
<li class="chapter" data-level="8.8" data-path="tidy.html"><a href="tidy.html#add-years-and-months-values"><i class="fa fa-check"></i><b>8.8</b> Add years and months values</a></li>
<li class="chapter" data-level="8.9" data-path="tidy.html"><a href="tidy.html#campus-bars"><i class="fa fa-check"></i><b>8.9</b> Campus bars</a><ul>
<li class="chapter" data-level="8.9.1" data-path="tidy.html"><a href="tidy.html#total-78705-sales-leaders-in-2018"><i class="fa fa-check"></i><b>8.9.1</b> Total 78705 sales leaders in 2018</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="tidy.html"><a href="tidy.html#west-campus-student-hot-spots"><i class="fa fa-check"></i><b>8.10</b> West Campus student hot spots</a></li>
<li class="chapter" data-level="8.11" data-path="tidy.html"><a href="tidy.html#campus-area-bar-sales-over-time"><i class="fa fa-check"></i><b>8.11</b> Campus-area bar sales over time</a><ul>
<li class="chapter" data-level="8.11.1" data-path="tidy.html"><a href="tidy.html#visualizing-your-visualization"><i class="fa fa-check"></i><b>8.11.1</b> Visualizing your visualization</a></li>
<li class="chapter" data-level="8.11.2" data-path="tidy.html"><a href="tidy.html#what-did-we-find"><i class="fa fa-check"></i><b>8.11.2</b> What did we find?</a></li>
</ul></li>
<li class="chapter" data-level="8.12" data-path="tidy.html"><a href="tidy.html#types-of-sales-within-student-bars"><i class="fa fa-check"></i><b>8.12</b> Types of sales within student bars</a></li>
<li class="chapter" data-level="8.13" data-path="tidy.html"><a href="tidy.html#how-gather-works"><i class="fa fa-check"></i><b>8.13</b> How gather() works</a></li>
<li class="chapter" data-level="8.14" data-path="tidy.html"><a href="tidy.html#applying-gather-to-beer-wine-and-liquor"><i class="fa fa-check"></i><b>8.14</b> Applying gather() to beer, wine and liquor</a><ul>
<li class="chapter" data-level="8.14.1" data-path="tidy.html"><a href="tidy.html#plot-sales-by-type-for-a-single-campus-area-bar"><i class="fa fa-check"></i><b>8.14.1</b> Plot sales by type for a single campus-area bar</a></li>
<li class="chapter" data-level="8.14.2" data-path="tidy.html"><a href="tidy.html#plot-sales-by-type-for-multiple-campus-area-bars"><i class="fa fa-check"></i><b>8.14.2</b> Plot sales by type for multiple campus-area bars</a></li>
<li class="chapter" data-level="8.14.3" data-path="tidy.html"><a href="tidy.html#what-did-we-learn"><i class="fa fa-check"></i><b>8.14.3</b> What did we learn?</a></li>
</ul></li>
<li class="chapter" data-level="8.15" data-path="tidy.html"><a href="tidy.html#the-spread-function"><i class="fa fa-check"></i><b>8.15</b> The spread() function</a></li>
<li class="chapter" data-level="8.16" data-path="tidy.html"><a href="tidy.html#practice-assignment-exploring-the-top-seller"><i class="fa fa-check"></i><b>8.16</b> Practice assignment: Exploring the top seller</a></li>
<li class="chapter" data-level="8.17" data-path="tidy.html"><a href="tidy.html#bonus-top-5-sellers-in-travis-county-over-three-years"><i class="fa fa-check"></i><b>8.17</b> Bonus: Top 5 sellers in Travis County over three years</a></li>
<li class="chapter" data-level="8.18" data-path="tidy.html"><a href="tidy.html#bonus-total-sales-by-county"><i class="fa fa-check"></i><b>8.18</b> Bonus: Total sales by county</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="reordering-factors.html"><a href="reordering-factors.html"><i class="fa fa-check"></i><b>9</b> Reordering factors</a><ul>
<li class="chapter" data-level="9.1" data-path="reordering-factors.html"><a href="reordering-factors.html#goals-for-this-section-4"><i class="fa fa-check"></i><b>9.1</b> Goals for this section</a></li>
<li class="chapter" data-level="9.2" data-path="reordering-factors.html"><a href="reordering-factors.html#create-our-survey-project"><i class="fa fa-check"></i><b>9.2</b> Create our survey project</a><ul>
<li class="chapter" data-level="9.2.1" data-path="reordering-factors.html"><a href="reordering-factors.html#setup"><i class="fa fa-check"></i><b>9.2.1</b> Setup</a></li>
<li class="chapter" data-level="9.2.2" data-path="reordering-factors.html"><a href="reordering-factors.html#libraries"><i class="fa fa-check"></i><b>9.2.2</b> Libraries</a></li>
<li class="chapter" data-level="9.2.3" data-path="reordering-factors.html"><a href="reordering-factors.html#import-the-data"><i class="fa fa-check"></i><b>9.2.3</b> Import the data</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="reordering-factors.html"><a href="reordering-factors.html#figuring-out-our-data-shape"><i class="fa fa-check"></i><b>9.3</b> Figuring out our data shape</a></li>
<li class="chapter" data-level="9.4" data-path="reordering-factors.html"><a href="reordering-factors.html#charting-the-popularity-of-princess"><i class="fa fa-check"></i><b>9.4</b> Charting the popularity of princess</a></li>
<li class="chapter" data-level="9.5" data-path="reordering-factors.html"><a href="reordering-factors.html#create-our-princess-plot"><i class="fa fa-check"></i><b>9.5</b> Create our princess plot</a><ul>
<li class="chapter" data-level="9.5.1" data-path="reordering-factors.html"><a href="reordering-factors.html#labels-and-titles"><i class="fa fa-check"></i><b>9.5.1</b> Labels and titles</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="reordering-factors.html"><a href="reordering-factors.html#factors"><i class="fa fa-check"></i><b>9.6</b> Factors</a></li>
<li class="chapter" data-level="9.7" data-path="reordering-factors.html"><a href="reordering-factors.html#reorder-princess"><i class="fa fa-check"></i><b>9.7</b> Reorder princess</a></li>
<li class="chapter" data-level="9.8" data-path="reordering-factors.html"><a href="reordering-factors.html#factors-recap"><i class="fa fa-check"></i><b>9.8</b> Factors recap</a></li>
<li class="chapter" data-level="9.9" data-path="reordering-factors.html"><a href="reordering-factors.html#practice-make-an-ice-cream-chart"><i class="fa fa-check"></i><b>9.9</b> Practice: Make an ice cream chart</a><ul>
<li class="chapter" data-level="9.9.1" data-path="reordering-factors.html"><a href="reordering-factors.html#turn-in-this-project"><i class="fa fa-check"></i><b>9.9.1</b> Turn in this project</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="reordering-factors.html"><a href="reordering-factors.html#resources-3"><i class="fa fa-check"></i><b>9.10</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="joins.html"><a href="joins.html"><i class="fa fa-check"></i><b>10</b> Joins</a><ul>
<li class="chapter" data-level="10.1" data-path="joins.html"><a href="joins.html#goals-for-this-section-5"><i class="fa fa-check"></i><b>10.1</b> Goals for this section</a></li>
<li class="chapter" data-level="10.2" data-path="joins.html"><a href="joins.html#project-setup"><i class="fa fa-check"></i><b>10.2</b> Project setup</a><ul>
<li class="chapter" data-level="10.2.1" data-path="joins.html"><a href="joins.html#download-the-data"><i class="fa fa-check"></i><b>10.2.1</b> Download the data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="joins.html"><a href="joins.html#the-story"><i class="fa fa-check"></i><b>10.3</b> The story</a></li>
<li class="chapter" data-level="10.4" data-path="joins.html"><a href="joins.html#explore-the-data"><i class="fa fa-check"></i><b>10.4</b> Explore the data</a><ul>
<li class="chapter" data-level="10.4.1" data-path="joins.html"><a href="joins.html#third-down-conversions"><i class="fa fa-check"></i><b>10.4.1</b> Third-down conversions</a></li>
<li class="chapter" data-level="10.4.2" data-path="joins.html"><a href="joins.html#scoring"><i class="fa fa-check"></i><b>10.4.2</b> Scoring</a></li>
</ul></li>
<li class="chapter" data-level="10.5" data-path="joins.html"><a href="joins.html#about-joins"><i class="fa fa-check"></i><b>10.5</b> About joins</a></li>
<li class="chapter" data-level="10.6" data-path="joins.html"><a href="joins.html#build-our-scatterplot"><i class="fa fa-check"></i><b>10.6</b> Build our scatterplot</a><ul>
<li class="chapter" data-level="10.6.1" data-path="joins.html"><a href="joins.html#add-a-fit-line"><i class="fa fa-check"></i><b>10.6.1</b> Add a fit line</a></li>
<li class="chapter" data-level="10.6.2" data-path="joins.html"><a href="joins.html#run-a-correlation-test"><i class="fa fa-check"></i><b>10.6.2</b> Run a correlation test</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="joins.html"><a href="joins.html#how-does-texas-compare"><i class="fa fa-check"></i><b>10.7</b> How does Texas compare?</a></li>
<li class="chapter" data-level="10.8" data-path="joins.html"><a href="joins.html#correlaton-test-for-texas"><i class="fa fa-check"></i><b>10.8</b> Correlaton test for Texas</a></li>
<li class="chapter" data-level="10.9" data-path="joins.html"><a href="joins.html#practice-1-compare-penn-state"><i class="fa fa-check"></i><b>10.9</b> Practice 1: Compare Penn State</a></li>
<li class="chapter" data-level="10.10" data-path="joins.html"><a href="joins.html#practice-2-penalties-vs-scoring"><i class="fa fa-check"></i><b>10.10</b> Practice 2: Penalties vs scoring</a></li>
<li class="chapter" data-level="10.11" data-path="joins.html"><a href="joins.html#using-bind_rows-to-merge-data-sets"><i class="fa fa-check"></i><b>10.11</b> Using bind_rows() to merge data sets</a><ul>
<li class="chapter" data-level="10.11.1" data-path="joins.html"><a href="joins.html#combine-data-with-a-group"><i class="fa fa-check"></i><b>10.11.1</b> Combine data with a group</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="census.html"><a href="census.html"><i class="fa fa-check"></i><b>11</b> Census</a><ul>
<li class="chapter" data-level="11.1" data-path="census.html"><a href="census.html#goals-of-this-section"><i class="fa fa-check"></i><b>11.1</b> Goals of this section</a></li>
<li class="chapter" data-level="11.2" data-path="census.html"><a href="census.html#census-bureau-programs-and-platforms"><i class="fa fa-check"></i><b>11.2</b> Census Bureau programs and platforms</a><ul>
<li class="chapter" data-level="11.2.1" data-path="census.html"><a href="census.html#decennial-census"><i class="fa fa-check"></i><b>11.2.1</b> Decennial Census</a></li>
<li class="chapter" data-level="11.2.2" data-path="census.html"><a href="census.html#american-community-survey"><i class="fa fa-check"></i><b>11.2.2</b> American Community Survey</a></li>
<li class="chapter" data-level="11.2.3" data-path="census.html"><a href="census.html#population-estimates-program"><i class="fa fa-check"></i><b>11.2.3</b> Population Estimates Program</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="census.html"><a href="census.html#using-the-new-data-portal"><i class="fa fa-check"></i><b>11.3</b> Using the new data portal</a><ul>
<li class="chapter" data-level="11.3.1" data-path="census.html"><a href="census.html#tips-about-using-downloaded-portal-data-in-r"><i class="fa fa-check"></i><b>11.3.1</b> Tips about using downloaded portal data in R</a></li>
<li class="chapter" data-level="11.3.2" data-path="census.html"><a href="census.html#importing-downloaded-data"><i class="fa fa-check"></i><b>11.3.2</b> Importing downloaded data</a></li>
<li class="chapter" data-level="11.3.3" data-path="census.html"><a href="census.html#fields-made-to-join-with-other-data"><i class="fa fa-check"></i><b>11.3.3</b> Fields made to join with other data</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="census.html"><a href="census.html#using-the-census-api-in-r"><i class="fa fa-check"></i><b>11.4</b> Using the Census API in R</a><ul>
<li class="chapter" data-level="11.4.1" data-path="census.html"><a href="census.html#setting-up-an-api-key"><i class="fa fa-check"></i><b>11.4.1</b> Setting up an API key</a></li>
<li class="chapter" data-level="11.4.2" data-path="census.html"><a href="census.html#the-censusapi-package"><i class="fa fa-check"></i><b>11.4.2</b> The censusapi package</a></li>
<li class="chapter" data-level="11.4.3" data-path="census.html"><a href="census.html#the-tidycensus-package"><i class="fa fa-check"></i><b>11.4.3</b> The tidycensus package</a></li>
<li class="chapter" data-level="11.4.4" data-path="census.html"><a href="census.html#adding-geometry-to-tidycensus"><i class="fa fa-check"></i><b>11.4.4</b> Adding geometry to tidycensus</a></li>
<li class="chapter" data-level="11.4.5" data-path="census.html"><a href="census.html#map-shapes-only-with-tigris"><i class="fa fa-check"></i><b>11.4.5</b> Map shapes only with tigris</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="census.html"><a href="census.html#interactive-maps-with-leaflet"><i class="fa fa-check"></i><b>11.5</b> Interactive maps with leaflet</a></li>
<li class="chapter" data-level="11.6" data-path="census.html"><a href="census.html#resources-4"><i class="fa fa-check"></i><b>11.6</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html"><i class="fa fa-check"></i><b>12</b> How to tackle a new dataset</a><ul>
<li class="chapter" data-level="12.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#start-by-listing-questions"><i class="fa fa-check"></i><b>12.1</b> Start by listing questions</a></li>
<li class="chapter" data-level="12.2" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#understand-your-data"><i class="fa fa-check"></i><b>12.2</b> Understand your data</a></li>
<li class="chapter" data-level="12.3" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#counting-and-aggregation"><i class="fa fa-check"></i><b>12.3</b> Counting and aggregation</a><ul>
<li class="chapter" data-level="12.3.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#counting-rows-based-on-a-column"><i class="fa fa-check"></i><b>12.3.1</b> Counting rows based on a column</a></li>
<li class="chapter" data-level="12.3.2" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#sum-mean-and-other-aggregations"><i class="fa fa-check"></i><b>12.3.2</b> Sum, mean and other aggregations</a></li>
<li class="chapter" data-level="12.3.3" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#creating-columns-to-show-difference"><i class="fa fa-check"></i><b>12.3.3</b> Creating columns to show difference</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#cleaning-up-categorical-data"><i class="fa fa-check"></i><b>12.4</b> Cleaning up categorical data</a></li>
<li class="chapter" data-level="12.5" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#time-as-a-variable"><i class="fa fa-check"></i><b>12.5</b> Time as a variable</a></li>
<li class="chapter" data-level="12.6" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#explore-the-distributions-in-your-data"><i class="fa fa-check"></i><b>12.6</b> Explore the distributions in your data</a><ul>
<li class="chapter" data-level="12.6.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#more-on-histograms"><i class="fa fa-check"></i><b>12.6.1</b> More on histograms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html"><i class="fa fa-check"></i><b>13</b> Publishing your findings</a><ul>
<li class="chapter" data-level="13.1" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#examples"><i class="fa fa-check"></i><b>13.1</b> Examples</a></li>
<li class="chapter" data-level="13.2" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#how-to-publish-your-projects"><i class="fa fa-check"></i><b>13.2</b> How to publish your projects</a><ul>
<li class="chapter" data-level="13.2.1" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#using-github-pages"><i class="fa fa-check"></i><b>13.2.1</b> Using Github Pages</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#making-branded-graphics"><i class="fa fa-check"></i><b>13.3</b> Making branded graphics</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="chart-examples.html"><a href="chart-examples.html"><i class="fa fa-check"></i><b>14</b> Chart examples</a><ul>
<li class="chapter" data-level="14.1" data-path="chart-examples.html"><a href="chart-examples.html#bar-charts"><i class="fa fa-check"></i><b>14.1</b> Bar charts</a><ul>
<li class="chapter" data-level="14.1.1" data-path="chart-examples.html"><a href="chart-examples.html#explanaton"><i class="fa fa-check"></i><b>14.1.1</b> Explanaton</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="chart-examples.html"><a href="chart-examples.html#column-chart"><i class="fa fa-check"></i><b>14.2</b> Column chart</a></li>
<li class="chapter" data-level="14.3" data-path="chart-examples.html"><a href="chart-examples.html#a-line-chart"><i class="fa fa-check"></i><b>14.3</b> A line chart</a><ul>
<li class="chapter" data-level="14.3.1" data-path="chart-examples.html"><a href="chart-examples.html#explanation"><i class="fa fa-check"></i><b>14.3.1</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="chart-examples.html"><a href="chart-examples.html#scatterplot-1"><i class="fa fa-check"></i><b>14.4</b> Scatterplot</a><ul>
<li class="chapter" data-level="14.4.1" data-path="chart-examples.html"><a href="chart-examples.html#explanation-1"><i class="fa fa-check"></i><b>14.4.1</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="chart-examples.html"><a href="chart-examples.html#histogram"><i class="fa fa-check"></i><b>14.5</b> Histogram</a></li>
<li class="chapter" data-level="14.6" data-path="chart-examples.html"><a href="chart-examples.html#titles-labels-and-other-cleanup"><i class="fa fa-check"></i><b>14.6</b> Titles, labels and other cleanup</a><ul>
<li class="chapter" data-level="14.6.1" data-path="chart-examples.html"><a href="chart-examples.html#title-and-axis-labels"><i class="fa fa-check"></i><b>14.6.1</b> Title and axis labels</a></li>
<li class="chapter" data-level="14.6.2" data-path="chart-examples.html"><a href="chart-examples.html#flip-the-graphic"><i class="fa fa-check"></i><b>14.6.2</b> Flip the graphic</a></li>
<li class="chapter" data-level="14.6.3" data-path="chart-examples.html"><a href="chart-examples.html#fix-exponential-numbers-on-an-axis"><i class="fa fa-check"></i><b>14.6.3</b> Fix exponential numbers on an axis</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="chart-examples.html"><a href="chart-examples.html#interactivity-with-plotly"><i class="fa fa-check"></i><b>14.7</b> Interactivity with plotly</a></li>
<li class="chapter" data-level="14.8" data-path="chart-examples.html"><a href="chart-examples.html#resources-5"><i class="fa fa-check"></i><b>14.8</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="verbs.html"><a href="verbs.html"><i class="fa fa-check"></i><b>15</b> Verbs</a><ul>
<li class="chapter" data-level="15.1" data-path="verbs.html"><a href="verbs.html#importexport"><i class="fa fa-check"></i><b>15.1</b> Import/Export</a></li>
<li class="chapter" data-level="15.2" data-path="verbs.html"><a href="verbs.html#data-manipulation"><i class="fa fa-check"></i><b>15.2</b> Data manipulation</a></li>
<li class="chapter" data-level="15.3" data-path="verbs.html"><a href="verbs.html#aggregation"><i class="fa fa-check"></i><b>15.3</b> Aggregation</a></li>
<li class="chapter" data-level="15.4" data-path="verbs.html"><a href="verbs.html#math"><i class="fa fa-check"></i><b>15.4</b> Math</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reporting with Data in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="joins" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Joins</h1>
<div id="goals-for-this-section-5" class="section level2">
<h2><span class="header-section-number">10.1</span> Goals for this section</h2>
<ul>
<li>Learn how to join two files based on a common column</li>
<li>Explore correlations between two numerical values</li>
<li>Practice showing relationships with scatterplots</li>
<li>Learn how to merge two files one top of each other</li>
</ul>
<p>This lesson is <em>heavily</em> cribbed from a lesson in Matt Waite’s Sports Data Journalism course at the University of Nebraska.</p>
</div>
<div id="project-setup" class="section level2">
<h2><span class="header-section-number">10.2</span> Project setup</h2>
<ul>
<li>Create your project. Call it <code>yourname-football</code>.</li>
<li>Create a <code>data-raw</code> folder so you have a place to download the files.</li>
<li>Start a new notebook.</li>
</ul>
<div id="download-the-data" class="section level3">
<h3><span class="header-section-number">10.2.1</span> Download the data</h3>
<p>You can download the files we are using based on their URLs in a Github repository. Once you’ve run this block of code, comment out the three <code>download.file()</code> lines by putting a <code>#</code> at the beginning. You really only need to download the files once.</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="joins.html#cb80-1"></a><span class="co"># Downloads the files. Convert to comments once you&#39;ve done this:</span></span>
<span id="cb80-2"><a href="joins.html#cb80-2"></a><span class="kw">download.file</span>(<span class="st">&quot;https://github.com/utdata/rwd-mastery-assignments/blob/master/football-compare/penalties.csv?raw=true&quot;</span>, <span class="st">&quot;data-raw/penalties.csv&quot;</span>)</span>
<span id="cb80-3"><a href="joins.html#cb80-3"></a><span class="kw">download.file</span>(<span class="st">&quot;https://github.com/utdata/rwd-mastery-assignments/blob/master/football-compare/scoring_offense.csv?raw=true&quot;</span>, <span class="st">&quot;data-raw/scoring_offense.csv&quot;</span>)</span>
<span id="cb80-4"><a href="joins.html#cb80-4"></a><span class="kw">download.file</span>(<span class="st">&quot;https://github.com/utdata/rwd-mastery-assignments/blob/master/football-compare/third_down_conversion.csv?raw=true&quot;</span>, <span class="st">&quot;data-raw/third_down_conversion.csv&quot;</span>)</span></code></pre></div>
<p>Import the three files:</p>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="joins.html#cb81-1"></a><span class="co"># import the files</span></span>
<span id="cb81-2"><a href="joins.html#cb81-2"></a>scoring &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data-raw/scoring_offense.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">clean_names</span>()</span>
<span id="cb81-3"><a href="joins.html#cb81-3"></a>thirddown &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data-raw/third_down_conversion.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">clean_names</span>()</span></code></pre></div>
</div>
</div>
<div id="the-story" class="section level2">
<h2><span class="header-section-number">10.3</span> The story</h2>
<p>The data we are using comes from <a href="http://www.cfbstats.com/">cfbstats</a>, a website for college football statistics. We will be comparing how <a href="http://www.cfbstats.com/2018/leader/national/team/offense/split01/category25/sort01.html">third-down conversions</a> might correlate to a football team’s <a href="http://www.cfbstats.com/2018/leader/national/team/offense/split01/category09/sort01.html">scoring offense</a>.</p>
</div>
<div id="explore-the-data" class="section level2">
<h2><span class="header-section-number">10.4</span> Explore the data</h2>
<p>We have two data sets here.</p>
<div id="third-down-conversions" class="section level3">
<h3><span class="header-section-number">10.4.1</span> Third-down conversions</h3>
<ul>
<li><strong>year</strong>: Year. Goes from 2009-2018</li>
<li><strong>name</strong>: Team name. There are 131 different teams.</li>
<li><strong>g</strong>: Number of games played</li>
<li><strong>attempts</strong>: Third-down attempts</li>
<li><strong>conversions</strong>: Third-down attempts that were successful</li>
<li><strong>conversion_percent</strong>: conversions/attempts * 100</li>
</ul>
</div>
<div id="scoring" class="section level3">
<h3><span class="header-section-number">10.4.2</span> Scoring</h3>
<ul>
<li><strong>year</strong>: Year</li>
<li><strong>name</strong>: Team name</li>
<li><strong>g</strong>: Number of games played</li>
<li><strong>td</strong>: Touchdowns</li>
<li><strong>fg</strong>: Field goals</li>
<li><strong>x1xp</strong>: 1pt PAT made</li>
<li><strong>x2xp</strong>: 2pt PAT made</li>
<li><strong>safety</strong>: Safeties</li>
<li><strong>points</strong>: Total points scored</li>
<li><strong>points_g</strong>: Points per game</li>
</ul>
<p>Now our goal here is to compare how the <code>conversion_percent</code> might relate to <code>points_g</code> for all teams, and how specific teams might buck the national trend.</p>
</div>
</div>
<div id="about-joins" class="section level2">
<h2><span class="header-section-number">10.5</span> About joins</h2>
<p>To make our plot, we need to join the two data sets on common fields. We want to start with the <code>scoring</code> data frame, and then add all the columns from the <code>thirddown</code> data frame. We want to do this based on the same year and team.</p>
<p>There are several types of <a href="https://dplyr.tidyverse.org/reference/join.html">joins</a>. We describe these as left vs right based on which table we reference first (which is the left one). In the figure below, we can see which matching records are retained based on the type of join we use.</p>
<div class="figure">
<img src="images/joins-description.png" alt="" />
<p class="caption">Types of joins</p>
</div>
<p>In our case we only want records that match on both <code>year</code> and <code>name</code>, so we’ll use an <code>inner_join()</code>.</p>
<p>The syntax works like this:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="joins.html#cb82-1"></a>new_dataframe &lt;-<span class="st"> </span><span class="er">*</span><span class="kw">_join</span>(first_df, second_df, <span class="dt">by =</span> field_name_to_join_on)</span></code></pre></div>
<p>If you want to use more than one field in the <em>by</em> part like we do, then you define them in a concatenated list: <code>by = "field1", "field2")</code>.</p>
<p>If the fields you are joining on are not named the same, then you can define the relationships: <code>by = c("a" = "b")</code>.</p>
<p>For our project we want to use an <code>inner_join()</code>. Add the code below to your notebook along with notes describing that you are joining the two data sets:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="joins.html#cb83-1"></a>offense &lt;-<span class="st"> </span><span class="kw">inner_join</span>(scoring, thirddown, <span class="dt">by=</span><span class="kw">c</span>(<span class="st">&quot;year&quot;</span>, <span class="st">&quot;name&quot;</span>))</span>
<span id="cb83-2"><a href="joins.html#cb83-2"></a></span>
<span id="cb83-3"><a href="joins.html#cb83-3"></a><span class="co"># peak at the new data frame</span></span>
<span id="cb83-4"><a href="joins.html#cb83-4"></a>offense <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">head</span>()</span></code></pre></div>
<p>So, to break this down:</p>
<ul>
<li>Our new combined dataframe will be called <code>offense</code>.</li>
<li>We’ll be doing an <code>inner_join()</code>, which is just keep matching records. (They all match, FWIW.)</li>
<li>Our “left” table is <code>scoring</code> and our “right” table is <code>thirddown</code>.</li>
<li>We are joining on both the <code>year</code> and <code>name</code> columns.</li>
</ul>
<p>Anytime you do a join (or a bind as described below), check the resulting number of rows and columns to make sure they pass the logic test.</p>
</div>
<div id="build-our-scatterplot" class="section level2">
<h2><span class="header-section-number">10.6</span> Build our scatterplot</h2>
<p>We’re trying to show the relationship between <code>conversion_percent</code> and <code>points_g</code>, so we can use those as our x and y values in a <code>geom_point()</code> graphic.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="joins.html#cb84-1"></a>offense <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb84-2"><a href="joins.html#cb84-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> conversion_percent, <span class="dt">y =</span> points_g)) <span class="op">+</span><span class="st"> </span></span>
<span id="cb84-3"><a href="joins.html#cb84-3"></a><span class="st">  </span><span class="kw">geom_point</span>() </span></code></pre></div>
<div class="figure">
<img src="images/join-scatter.png" alt="" />
<p class="caption">First scatterplot</p>
</div>
<div id="add-a-fit-line" class="section level3">
<h3><span class="header-section-number">10.6.1</span> Add a fit line</h3>
<p>We can see by the shape of the dots that indeed, as conversion percentage goes up, points go up.</p>
<p>In statistics, there is something called a fit line – the line that predicts what happens given the data. There’s lot of fit lines we can use but the easiest to understand is a straight line. It’s like linear algebra – for each increase or decrease in x, we get an increase or decrease in x. To get the fit line, we add <a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html"><code>geom_smooth()</code></a> with a method.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="joins.html#cb85-1"></a>offense <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb85-2"><a href="joins.html#cb85-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> conversion_percent, <span class="dt">y =</span> points_g)) <span class="op">+</span></span>
<span id="cb85-3"><a href="joins.html#cb85-3"></a><span class="st">  </span><span class="kw">geom_point</span>() <span class="op">+</span><span class="st"> </span></span>
<span id="cb85-4"><a href="joins.html#cb85-4"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm, <span class="dt">se=</span><span class="ot">FALSE</span>) <span class="co"># adds fit line</span></span></code></pre></div>
<div class="figure">
<img src="images/join-scatter-fitline.png" alt="" />
<p class="caption">First scatterplot</p>
</div>
<p>The <code>lm</code> means linear method. The <code>se=FALSE</code> removes the confidence interval (based on the standard error) of the prediction. See the <a href="https://ggplot2.tidyverse.org/reference/geom_smooth.html"><code>geom_smooth()</code></a> for more information.</p>
</div>
<div id="run-a-correlation-test" class="section level3">
<h3><span class="header-section-number">10.6.2</span> Run a correlation test</h3>
<p>So we can see how important third down conversions are to scoring. But still, how important? For this, we’re going to dip our toes into statistics. We want to find out the correlation coefficient (specifically the <a href="https://statistics.laerd.com/statistical-guides/pearson-correlation-coefficient-statistical-guide.php">Pearson Correlation Coefficient</a>. That will tell us how related our two numbers are. We do that using <code>cor.test()</code>, which is part of R core.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="joins.html#cb86-1"></a><span class="kw">cor.test</span>(offense<span class="op">$</span>conversion_percent, offense<span class="op">$</span>points_g)</span></code></pre></div>
<p>The result is:</p>
<pre><code>    Pearson&#39;s product-moment correlation

data:  offense$conversion_percent and offense$points_g
t = 30.82, df = 1251, p-value &lt; 2.2e-16
alternative hypothesis: true correlation is not equal to 0
95 percent confidence interval:
 0.6242939 0.6873331
sample estimates:
      cor 
0.6569602 </code></pre>
<p>That bottom number is the key. If we square it, we then know exactly how much of scoring can be predicted by third down conversions.</p>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="joins.html#cb88-1"></a>(<span class="fl">0.6569602</span> <span class="op">*</span><span class="st"> </span><span class="fl">0.6569602</span>) <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span></code></pre></div>
<p>Which gets us 43.15967.</p>
<p>So what that says is that 43 percent of a team’s score is predicted by their third down percentage. That’s nearly half. In social science, anything above 10 percent is shockingly predictive. So this is huge if this were human behavior research. In football, it’s not that surprising, but we now know how much is predicted.</p>
</div>
</div>
<div id="how-does-texas-compare" class="section level2">
<h2><span class="header-section-number">10.7</span> How does Texas compare?</h2>
<p>Let’s compare how Texas does vs the field by plotting their results on top of the national stats. Create a data frame of the Texas data.</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="joins.html#cb89-1"></a>tx &lt;-<span class="st"> </span>offense <span class="op">%&gt;%</span></span>
<span id="cb89-2"><a href="joins.html#cb89-2"></a><span class="st">  </span><span class="kw">filter</span>(name <span class="op">==</span><span class="st"> &quot;Texas&quot;</span>)</span></code></pre></div>
<p>And now we’ll add some layers to our ggplot graphic. We’re also editing our original <code>geom_point()</code> and <code>geom_smooth()</code> layers to make them light grey so that the Texas plots stand out more.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="joins.html#cb90-1"></a>offense <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb90-2"><a href="joins.html#cb90-2"></a><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> conversion_percent, <span class="dt">y =</span> points_g)) <span class="op">+</span></span>
<span id="cb90-3"><a href="joins.html#cb90-3"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color =</span> <span class="st">&quot;light grey&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="co"># adds light grey color</span></span>
<span id="cb90-4"><a href="joins.html#cb90-4"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm, <span class="dt">se=</span><span class="ot">FALSE</span>, <span class="dt">color =</span> <span class="st">&quot;light grey&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="co"># adds light grey color</span></span>
<span id="cb90-5"><a href="joins.html#cb90-5"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> tx, <span class="kw">aes</span>(<span class="dt">x =</span> conversion_percent, <span class="dt">y =</span> points_g), <span class="dt">color =</span> <span class="st">&quot;#bf5700&quot;</span>) <span class="op">+</span><span class="st"> </span><span class="co"># adds Texas points colored burnt orange, of course</span></span>
<span id="cb90-6"><a href="joins.html#cb90-6"></a><span class="st">  </span><span class="kw">geom_text</span>(<span class="dt">data =</span> tx, <span class="kw">aes</span>(<span class="dt">x =</span> conversion_percent, <span class="dt">y =</span> points_g, <span class="dt">label =</span> year)) <span class="co"># adds year labels to see</span></span></code></pre></div>
<div class="figure">
<img src="images/join-scatter-tx.png" alt="" />
<p class="caption">Adding Texas to plot</p>
</div>
<p>This is good, but the labels for the year are sitting on top of the values. There is an R package called <a href="https://cran.r-project.org/web/packages/ggrepel/vignettes/ggrepel.html">ggrepel</a> that will move those labels off the numbers, which we’ll use with our next set of changes. You might have to run <code>install.packages('ggrepel')</code> to make this work.</p>
<p>For this update, we are doing a number of things, adding or modifying layers along the way:</p>
<ul>
<li>Add a <code>goem_smooth()</code> fit line specific to Texas, in burnt orange. We’ll put it before the text so it shows underneath the labels.</li>
<li>Modify the <code>geom_text</code> to <code>geom_text_repel</code> to move the labels off the points.</li>
<li>Add <code>labs()</code> for a title and such to finish out our graphic.</li>
<li>Add <code>theme_minimal()</code> just to improve the looks.</li>
</ul>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="joins.html#cb91-1"></a>  <span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> conversion_percent, <span class="dt">y =</span> points_g)) <span class="op">+</span></span>
<span id="cb91-2"><a href="joins.html#cb91-2"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">color =</span> <span class="st">&quot;light grey&quot;</span>) <span class="op">+</span><span class="st"> </span></span>
<span id="cb91-3"><a href="joins.html#cb91-3"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">method=</span>lm, <span class="dt">se=</span><span class="ot">FALSE</span>, <span class="dt">color =</span> <span class="st">&quot;light grey&quot;</span>) <span class="op">+</span></span>
<span id="cb91-4"><a href="joins.html#cb91-4"></a><span class="st">  </span><span class="kw">geom_point</span>(<span class="dt">data =</span> tx, <span class="kw">aes</span>(<span class="dt">x =</span> conversion_percent, <span class="dt">y =</span> points_g), <span class="dt">color =</span> <span class="st">&quot;#bf5700&quot;</span>) <span class="op">+</span></span>
<span id="cb91-5"><a href="joins.html#cb91-5"></a><span class="st">  </span><span class="kw">geom_smooth</span>(<span class="dt">data =</span> tx, <span class="kw">aes</span>(<span class="dt">x =</span> conversion_percent, <span class="dt">y =</span> points_g), <span class="dt">method=</span>lm, <span class="dt">se=</span>F, <span class="dt">color =</span> <span class="st">&quot;#bf5700&quot;</span>) <span class="op">+</span></span>
<span id="cb91-6"><a href="joins.html#cb91-6"></a><span class="st">  </span><span class="kw">geom_text_repel</span>(<span class="dt">data =</span> tx, <span class="kw">aes</span>(<span class="dt">x =</span> conversion_percent, <span class="dt">y =</span> points_g, <span class="dt">label =</span> year)) <span class="op">+</span></span>
<span id="cb91-7"><a href="joins.html#cb91-7"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x=</span><span class="st">&quot;Third-down conversion rate&quot;</span>,</span>
<span id="cb91-8"><a href="joins.html#cb91-8"></a>       <span class="dt">y=</span><span class="st">&quot;Points per game&quot;</span>,</span>
<span id="cb91-9"><a href="joins.html#cb91-9"></a>       <span class="dt">title=</span><span class="st">&quot;Texas&#39; third down success predicts scoreboard&quot;</span>,</span>
<span id="cb91-10"><a href="joins.html#cb91-10"></a>       <span class="dt">subtitle=</span><span class="st">&quot;In 2018 the Longhorns were 18th in the FBS for third down conversions.&quot;</span>,</span>
<span id="cb91-11"><a href="joins.html#cb91-11"></a>       <span class="dt">caption=</span><span class="st">&quot;Source: NCAA&quot;</span>) <span class="op">+</span></span>
<span id="cb91-12"><a href="joins.html#cb91-12"></a><span class="st">  </span><span class="kw">theme_minimal</span>()</span></code></pre></div>
<div class="figure">
<img src="images/join-scatter-tx-finished.png" alt="" />
<p class="caption">Finished Texas graphic</p>
</div>
</div>
<div id="correlaton-test-for-texas" class="section level2">
<h2><span class="header-section-number">10.8</span> Correlaton test for Texas</h2>
<p>It looks like Texas tracks pretty much along the national average.</p>
<p>Let’s do the correlation test for Texas just to compare.</p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="joins.html#cb92-1"></a><span class="kw">cor.test</span>(tx<span class="op">$</span>conversion_percent, tx<span class="op">$</span>points_g)</span></code></pre></div>
<p>Which yields a correlation of 0.685967. Let’s see how much third-down conversions predict Texas’ scoring per game.</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="joins.html#cb93-1"></a>(<span class="fl">0.685967</span> <span class="op">*</span><span class="st"> </span><span class="fl">0.685967</span>) <span class="op">*</span><span class="st"> </span><span class="dv">100</span></span></code></pre></div>
<p>Which gets us 47.1%, not too far from the national average of 43.2%.</p>
</div>
<div id="practice-1-compare-penn-state" class="section level2">
<h2><span class="header-section-number">10.9</span> Practice 1: Compare Penn State</h2>
<p>Not every team tracks the national average like Texas. Tell me (and show me) how Penn State performs in this same third down conversion vs scoring metric by creating a similar graphic and correlation test from the Penn State data on top of the national data.</p>
</div>
<div id="practice-2-penalties-vs-scoring" class="section level2">
<h2><span class="header-section-number">10.10</span> Practice 2: Penalties vs scoring</h2>
<p>How predictive are penalty yards per game on points per game? Do more disciplined teams score more points than undisciplined ones? How does Texas compare to the rest of the league?</p>
<p>Create a <strong>new RNotebook</strong> to answer these questions.</p>
<ul>
<li>You will need to join <a href="http://www.cfbstats.com/2018/leader/national/team/offense/split01/category14/sort01.html">penalty data</a> (you’ve already downloaded the file <code>data-raw/penalties.csv</code> file) to the same points-per-games statistics from <a href="http://www.cfbstats.com/2018/leader/national/team/offense/split01/category09/sort01.html">scoring offense</a>.</li>
<li>Make your own scatterplot with a fit line to show the relationships between penalty yards per game vs points per game.</li>
<li>Run a correlation test for both the national average and for Texas.</li>
<li>What does it say? Write a sentence that explains this to a reader.</li>
</ul>
</div>
<div id="using-bind_rows-to-merge-data-sets" class="section level2">
<h2><span class="header-section-number">10.11</span> Using bind_rows() to merge data sets</h2>
<p>We won’t go through an example or do practice sessions, but you should be aware that you can also merge data sets on top of each other when your columns are the same.</p>
<p>Let’s say you have a multiple data sets where each year is broken into a different file or data frame. You can “stack” data frames on top of each other with a tidyverse function called <a href="https://dplyr.tidyverse.org/reference/bind.html"><code>bind_rows()</code></a>. When row-binding, columns are matched by name, and any missing columns will be filled with NA.</p>
<p>An example might look like this …</p>
<ul>
<li>Let’s say you have three years of data in three different data frames: fy2016, fy2017, fy2018.</li>
<li>And all three data frames have the same column names: donor_type, date, amount.</li>
<li>And each data frame has 1000 rows of data.</li>
</ul>
<p>If you want then all in the same file you would do this:</p>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb94-1"><a href="joins.html#cb94-1"></a>combined &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(fy2016, fy2017, fy2018)</span></code></pre></div>
<p>The new data frame <code>combined</code> would have all the same columns, but would have 3000 rows of data.</p>
<div id="combine-data-with-a-group" class="section level3">
<h3><span class="header-section-number">10.11.1</span> Combine data with a group</h3>
<p>If you needed to know which data frame each row came from, you can name a “group” for each data frame, and then merge them. We will name our groups for each year they come from.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="joins.html#cb95-1"></a>combined &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(</span>
<span id="cb95-2"><a href="joins.html#cb95-2"></a>  <span class="st">&quot;2016&quot;</span> =<span class="st"> </span>fy2016,</span>
<span id="cb95-3"><a href="joins.html#cb95-3"></a>  <span class="st">&quot;2017&quot;</span> =<span class="st"> </span>fy2017,</span>
<span id="cb95-4"><a href="joins.html#cb95-4"></a>  <span class="st">&quot;2018&quot;</span> =<span class="st"> </span>fy2018,</span>
<span id="cb95-5"><a href="joins.html#cb95-5"></a>  <span class="dt">.id =</span> <span class="st">&quot;year&quot;</span></span>
<span id="cb95-6"><a href="joins.html#cb95-6"></a>)</span></code></pre></div>
<p>With this you would end up with a new data frame called <code>combined</code>, but it would have four columns: year, donor_type, date, amount. It would have all 3000 rows. All the rows that were pulled from <code>fy2016</code> would have a <code>year</code> of “2016”, and so on.</p>
<p>It’s a good way to note which file the data came from, and especially helpful if they are from different years, like the example.</p>
<p>It is admittedly weird that you name the groups before you specify the data frame the come from, but specify <code>.id</code> before the name of your new column. <code>¯\_(ツ)_/¯</code></p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="reordering-factors.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="census.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/10-joins.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>

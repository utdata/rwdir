<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Summarize with count - analysis | Reporting with Data in R</title>
  <meta name="description" content="Chapter 4 Summarize with count - analysis | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism and Media, Moody College of Communication at the University of Texas at Austin. The course is taught by Christian McDonald and Jo Lukito." />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Summarize with count - analysis | Reporting with Data in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 4 Summarize with count - analysis | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism and Media, Moody College of Communication at the University of Texas at Austin. The course is taught by Christian McDonald and Jo Lukito." />
  <meta name="github-repo" content="utdata/rwdir" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Summarize with count - analysis | Reporting with Data in R" />
  
  <meta name="twitter:description" content="Chapter 4 Summarize with count - analysis | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism and Media, Moody College of Communication at the University of Texas at Austin. The course is taught by Christian McDonald and Jo Lukito." />
  

<meta name="author" content="Christian McDonald and Jo Lukito" />


<meta name="date" content="2022-01-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="counts-import.html"/>
<link rel="next" href="sums-import.html"/>
<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<style type="text/css">
  p.caption {
    color: #777;
    margin-top: 10px;
  }
  p code, pre, pre code, li code {
    background-color: #DCDCDC !important;
  }
  detail {
    margin-bottom: 30px;
  }
</style>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Reporting with Data in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this book</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#a-word-from-prof.-mcdonald"><i class="fa fa-check"></i>A word from Prof. McDonald</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#tips-on-the-book-style"><i class="fa fa-check"></i>Tips on the book style</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#things-to-do"><i class="fa fa-check"></i>Things to do</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#notes-some-important"><i class="fa fa-check"></i>Notes, some important</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#copy-code-blocks"><i class="fa fa-check"></i>Copy code blocks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-authors"><i class="fa fa-check"></i>About the authors</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#christian-mcdonald"><i class="fa fa-check"></i>Christian McDonald</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#jo-lukito"><i class="fa fa-check"></i>Jo Lukito</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other resources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Install Party</a>
<ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#mac-vs-pc"><i class="fa fa-check"></i><b>1.1</b> Mac vs PC</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="install.html"><a href="install.html#getting-git-errors-on-macs"><i class="fa fa-check"></i><b>1.3.1</b> Getting “Git” errors on Macs</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="install.html"><a href="install.html#class-project-folder"><i class="fa fa-check"></i><b>1.4</b> Class project folder</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#rstudio-tour"><i class="fa fa-check"></i><b>2.1</b> RStudio tour</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#updating-preferences"><i class="fa fa-check"></i><b>2.2</b> Updating preferences</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#starting-a-new-project"><i class="fa fa-check"></i><b>2.3</b> Starting a new Project</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#using-r-notebooks"><i class="fa fa-check"></i><b>2.4</b> Using R Notebooks</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#create-your-first-notebook"><i class="fa fa-check"></i><b>2.4.1</b> Create your first notebook</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro.html"><a href="intro.html#save-the-.rmd-file"><i class="fa fa-check"></i><b>2.4.2</b> Save the .Rmd file</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro.html"><a href="intro.html#run-the-notebook"><i class="fa fa-check"></i><b>2.4.3</b> Run the notebook</a></li>
<li class="chapter" data-level="2.4.4" data-path="intro.html"><a href="intro.html#a-note-about-rmarkdown"><i class="fa fa-check"></i><b>2.4.4</b> A note about RMarkdown</a></li>
<li class="chapter" data-level="2.4.5" data-path="intro.html"><a href="intro.html#adding-new-code-chunks"><i class="fa fa-check"></i><b>2.4.5</b> Adding new code chunks</a></li>
<li class="chapter" data-level="2.4.6" data-path="intro.html"><a href="intro.html#practice-adding-code-chunks"><i class="fa fa-check"></i><b>2.4.6</b> Practice adding code chunks</a></li>
<li class="chapter" data-level="2.4.7" data-path="intro.html"><a href="intro.html#preview-the-report"><i class="fa fa-check"></i><b>2.4.7</b> Preview the report</a></li>
<li class="chapter" data-level="2.4.8" data-path="intro.html"><a href="intro.html#the-toolbar"><i class="fa fa-check"></i><b>2.4.8</b> The toolbar</a></li>
<li class="chapter" data-level="2.4.9" data-path="intro.html"><a href="intro.html#knit-the-final-workbook"><i class="fa fa-check"></i><b>2.4.9</b> Knit the final workbook</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#turning-in-our-projects"><i class="fa fa-check"></i><b>2.5</b> Turning in our projects</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="counts-import.html"><a href="counts-import.html"><i class="fa fa-check"></i><b>3</b> Summarize with count - import</a>
<ul>
<li class="chapter" data-level="3.1" data-path="counts-import.html"><a href="counts-import.html#learning-goals-of-this-lesson"><i class="fa fa-check"></i><b>3.1</b> Learning goals of this lesson</a></li>
<li class="chapter" data-level="3.2" data-path="counts-import.html"><a href="counts-import.html#basic-steps-of-this-lesson"><i class="fa fa-check"></i><b>3.2</b> Basic steps of this lesson</a></li>
<li class="chapter" data-level="3.3" data-path="counts-import.html"><a href="counts-import.html#create-a-new-project"><i class="fa fa-check"></i><b>3.3</b> Create a new project</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="counts-import.html"><a href="counts-import.html#describe-the-goals-of-the-notebook"><i class="fa fa-check"></i><b>3.3.1</b> Describe the goals of the notebook</a></li>
<li class="chapter" data-level="3.3.2" data-path="counts-import.html"><a href="counts-import.html#the-r-package-environment"><i class="fa fa-check"></i><b>3.3.2</b> The R Package environment</a></li>
<li class="chapter" data-level="3.3.3" data-path="counts-import.html"><a href="counts-import.html#installing-and-using-packages"><i class="fa fa-check"></i><b>3.3.3</b> Installing and using packages</a></li>
<li class="chapter" data-level="3.3.4" data-path="counts-import.html"><a href="counts-import.html#load-the-libraries"><i class="fa fa-check"></i><b>3.3.4</b> Load the libraries</a></li>
<li class="chapter" data-level="3.3.5" data-path="counts-import.html"><a href="counts-import.html#create-a-directory-for-your-data"><i class="fa fa-check"></i><b>3.3.5</b> Create a directory for your data</a></li>
<li class="chapter" data-level="3.3.6" data-path="counts-import.html"><a href="counts-import.html#lets-get-our-data"><i class="fa fa-check"></i><b>3.3.6</b> Let’s get our data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="counts-import.html"><a href="counts-import.html#about-data-sources"><i class="fa fa-check"></i><b>3.4</b> About data sources</a></li>
<li class="chapter" data-level="3.5" data-path="counts-import.html"><a href="counts-import.html#our-project-data"><i class="fa fa-check"></i><b>3.5</b> Our project data</a></li>
<li class="chapter" data-level="3.6" data-path="counts-import.html"><a href="counts-import.html#data-dictionary"><i class="fa fa-check"></i><b>3.6</b> Data dictionary</a></li>
<li class="chapter" data-level="3.7" data-path="counts-import.html"><a href="counts-import.html#import-the-data"><i class="fa fa-check"></i><b>3.7</b> Import the data</a></li>
<li class="chapter" data-level="3.8" data-path="counts-import.html"><a href="counts-import.html#assign-our-import-to-a-tibble"><i class="fa fa-check"></i><b>3.8</b> Assign our import to a tibble</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="counts-import.html"><a href="counts-import.html#print-a-peek-to-the-screen"><i class="fa fa-check"></i><b>3.8.1</b> Print a peek to the screen</a></li>
<li class="chapter" data-level="3.8.2" data-path="counts-import.html"><a href="counts-import.html#glimpse-the-data"><i class="fa fa-check"></i><b>3.8.2</b> Glimpse the data</a></li>
<li class="chapter" data-level="3.8.3" data-path="counts-import.html"><a href="counts-import.html#about-the-pipe"><i class="fa fa-check"></i><b>3.8.3</b> About the pipe %&gt;%</a></li>
<li class="chapter" data-level="3.8.4" data-path="counts-import.html"><a href="counts-import.html#what-is-clean-data"><i class="fa fa-check"></i><b>3.8.4</b> What is clean data</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="counts-import.html"><a href="counts-import.html#cleaning-column-names"><i class="fa fa-check"></i><b>3.9</b> Cleaning column names</a></li>
<li class="chapter" data-level="3.10" data-path="counts-import.html"><a href="counts-import.html#fixing-the-date"><i class="fa fa-check"></i><b>3.10</b> Fixing the date</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="counts-import.html"><a href="counts-import.html#working-with-mutate"><i class="fa fa-check"></i><b>3.10.1</b> Working with mutate()</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="counts-import.html"><a href="counts-import.html#arrange-the-data"><i class="fa fa-check"></i><b>3.11</b> Arrange the data</a></li>
<li class="chapter" data-level="3.12" data-path="counts-import.html"><a href="counts-import.html#selecting-columns"><i class="fa fa-check"></i><b>3.12</b> Selecting columns</a></li>
<li class="chapter" data-level="3.13" data-path="counts-import.html"><a href="counts-import.html#exporting-data"><i class="fa fa-check"></i><b>3.13</b> Exporting data</a>
<ul>
<li class="chapter" data-level="3.13.1" data-path="counts-import.html"><a href="counts-import.html#single-notebook-philosophy"><i class="fa fa-check"></i><b>3.13.1</b> Single-notebook philosophy</a></li>
<li class="chapter" data-level="3.13.2" data-path="counts-import.html"><a href="counts-import.html#exporting-as-rds"><i class="fa fa-check"></i><b>3.13.2</b> Exporting as rds</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="counts-import.html"><a href="counts-import.html#naming-chunks"><i class="fa fa-check"></i><b>3.14</b> Naming chunks</a></li>
<li class="chapter" data-level="3.15" data-path="counts-import.html"><a href="counts-import.html#knit-your-page"><i class="fa fa-check"></i><b>3.15</b> Knit your page</a></li>
<li class="chapter" data-level="3.16" data-path="counts-import.html"><a href="counts-import.html#review-of-what-weve-learned-so-far"><i class="fa fa-check"></i><b>3.16</b> Review of what we’ve learned so far</a></li>
<li class="chapter" data-level="3.17" data-path="counts-import.html"><a href="counts-import.html#whats-next"><i class="fa fa-check"></i><b>3.17</b> What’s next</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="count-analysis.html"><a href="count-analysis.html"><i class="fa fa-check"></i><b>4</b> Summarize with count - analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="count-analysis.html"><a href="count-analysis.html#goals-of-this-lesson"><i class="fa fa-check"></i><b>4.1</b> Goals of this lesson</a></li>
<li class="chapter" data-level="4.2" data-path="count-analysis.html"><a href="count-analysis.html#the-questions-well-answer"><i class="fa fa-check"></i><b>4.2</b> The questions we’ll answer</a></li>
<li class="chapter" data-level="4.3" data-path="count-analysis.html"><a href="count-analysis.html#setting-up-an-analysis-notebook"><i class="fa fa-check"></i><b>4.3</b> Setting up an analysis notebook</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="count-analysis.html"><a href="count-analysis.html#import-the-data-on-your-own"><i class="fa fa-check"></i><b>4.3.1</b> Import the data on your own</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="count-analysis.html"><a href="count-analysis.html#introducing-dplyr"><i class="fa fa-check"></i><b>4.4</b> Introducing dplyr</a></li>
<li class="chapter" data-level="4.5" data-path="count-analysis.html"><a href="count-analysis.html#most-appearances"><i class="fa fa-check"></i><b>4.5</b> Most appearances</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="count-analysis.html"><a href="count-analysis.html#group-aggregate"><i class="fa fa-check"></i><b>4.5.1</b> Group &amp; Aggregate</a></li>
<li class="chapter" data-level="4.5.2" data-path="count-analysis.html"><a href="count-analysis.html#summarize"><i class="fa fa-check"></i><b>4.5.2</b> Summarize</a></li>
<li class="chapter" data-level="4.5.3" data-path="count-analysis.html"><a href="count-analysis.html#group-by"><i class="fa fa-check"></i><b>4.5.3</b> Group by</a></li>
<li class="chapter" data-level="4.5.4" data-path="count-analysis.html"><a href="count-analysis.html#arrange-the-results"><i class="fa fa-check"></i><b>4.5.4</b> Arrange the results</a></li>
<li class="chapter" data-level="4.5.5" data-path="count-analysis.html"><a href="count-analysis.html#get-the-top-of-the-list"><i class="fa fa-check"></i><b>4.5.5</b> Get the top of the list</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="count-analysis.html"><a href="count-analysis.html#performersong-with-most-appearances"><i class="fa fa-check"></i><b>4.6</b> Performer/song with most appearances</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="count-analysis.html"><a href="count-analysis.html#introducing-filter"><i class="fa fa-check"></i><b>4.6.1</b> Introducing filter()</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="count-analysis.html"><a href="count-analysis.html#songperformer-with-most-weeks-at-no.-1"><i class="fa fa-check"></i><b>4.7</b> Song/Performer with most weeks at No. 1</a></li>
<li class="chapter" data-level="4.8" data-path="count-analysis.html"><a href="count-analysis.html#performer-with-most-songs-to-reach-no.-1"><i class="fa fa-check"></i><b>4.8</b> Performer with most songs to reach No. 1</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="count-analysis.html"><a href="count-analysis.html#using-distinct"><i class="fa fa-check"></i><b>4.8.1</b> Using distinct()</a></li>
<li class="chapter" data-level="4.8.2" data-path="count-analysis.html"><a href="count-analysis.html#summarize-the-performers"><i class="fa fa-check"></i><b>4.8.2</b> Summarize the performers</a></li>
<li class="chapter" data-level="4.8.3" data-path="count-analysis.html"><a href="count-analysis.html#filter-for-a-good-cutoff"><i class="fa fa-check"></i><b>4.8.3</b> Filter for a good cutoff</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="count-analysis.html"><a href="count-analysis.html#no.-1-hits-in-last-five-years"><i class="fa fa-check"></i><b>4.9</b> No. 1 hits in last five years</a></li>
<li class="chapter" data-level="4.10" data-path="count-analysis.html"><a href="count-analysis.html#top-10-hits-overall"><i class="fa fa-check"></i><b>4.10</b> Top 10 hits overall</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="count-analysis.html"><a href="count-analysis.html#a-shortcut-count"><i class="fa fa-check"></i><b>4.10.1</b> A shortcut: count()</a></li>
<li class="chapter" data-level="4.10.2" data-path="count-analysis.html"><a href="count-analysis.html#complex-filters"><i class="fa fa-check"></i><b>4.10.2</b> Complex filters</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="count-analysis.html"><a href="count-analysis.html#review-of-what-weve-learned"><i class="fa fa-check"></i><b>4.11</b> Review of what we’ve learned</a></li>
<li class="chapter" data-level="4.12" data-path="count-analysis.html"><a href="count-analysis.html#turn-in-your-project"><i class="fa fa-check"></i><b>4.12</b> Turn in your project</a></li>
<li class="chapter" data-level="4.13" data-path="count-analysis.html"><a href="count-analysis.html#soundtrack-for-this-assignment"><i class="fa fa-check"></i><b>4.13</b> Soundtrack for this assignment</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sums-import.html"><a href="sums-import.html"><i class="fa fa-check"></i><b>5</b> Summarize with math - import</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sums-import.html"><a href="sums-import.html#about-the-story-military-surplus-transfers"><i class="fa fa-check"></i><b>5.1</b> About the story: Military surplus transfers</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="sums-import.html"><a href="sums-import.html#the-leso-program"><i class="fa fa-check"></i><b>5.1.1</b> The LESO program</a></li>
<li class="chapter" data-level="5.1.2" data-path="sums-import.html"><a href="sums-import.html#about-the-data"><i class="fa fa-check"></i><b>5.1.2</b> About the data</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="sums-import.html"><a href="sums-import.html#the-questions-we-will-answer"><i class="fa fa-check"></i><b>5.2</b> The questions we will answer</a></li>
<li class="chapter" data-level="5.3" data-path="sums-import.html"><a href="sums-import.html#create-your-project"><i class="fa fa-check"></i><b>5.3</b> Create your project</a></li>
<li class="chapter" data-level="5.4" data-path="sums-import.html"><a href="sums-import.html#importcleaning-notebook"><i class="fa fa-check"></i><b>5.4</b> Import/cleaning notebook</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="sums-import.html"><a href="sums-import.html#add-the-goals-of-the-notebook"><i class="fa fa-check"></i><b>5.4.1</b> Add the goals of the notebook</a></li>
<li class="chapter" data-level="5.4.2" data-path="sums-import.html"><a href="sums-import.html#add-a-setup-section"><i class="fa fa-check"></i><b>5.4.2</b> Add a setup section</a></li>
<li class="chapter" data-level="5.4.3" data-path="sums-import.html"><a href="sums-import.html#download-the-data"><i class="fa fa-check"></i><b>5.4.3</b> Download the data</a></li>
<li class="chapter" data-level="5.4.4" data-path="sums-import.html"><a href="sums-import.html#import-the-data-1"><i class="fa fa-check"></i><b>5.4.4</b> Import the data</a></li>
<li class="chapter" data-level="5.4.5" data-path="sums-import.html"><a href="sums-import.html#glimpse-the-data-1"><i class="fa fa-check"></i><b>5.4.5</b> Glimpse the data</a></li>
<li class="chapter" data-level="5.4.6" data-path="sums-import.html"><a href="sums-import.html#remove-unnecessary-columns"><i class="fa fa-check"></i><b>5.4.6</b> Remove unnecessary columns</a></li>
<li class="chapter" data-level="5.4.7" data-path="sums-import.html"><a href="sums-import.html#create-a-total_value-column"><i class="fa fa-check"></i><b>5.4.7</b> Create a total_value column</a></li>
<li class="chapter" data-level="5.4.8" data-path="sums-import.html"><a href="sums-import.html#filtering-our-data"><i class="fa fa-check"></i><b>5.4.8</b> Filtering our data</a></li>
<li class="chapter" data-level="5.4.9" data-path="sums-import.html"><a href="sums-import.html#export-cleaned-data"><i class="fa fa-check"></i><b>5.4.9</b> Export cleaned data</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="sums-import.html"><a href="sums-import.html#things-we-learned-in-this-lesson"><i class="fa fa-check"></i><b>5.5</b> Things we learned in this lesson</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sums-analyze.html"><a href="sums-analyze.html"><i class="fa fa-check"></i><b>6</b> Summarize with math - analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sums-analyze.html"><a href="sums-analyze.html#learning-goals-of-this-lesson-1"><i class="fa fa-check"></i><b>6.1</b> Learning goals of this lesson</a></li>
<li class="chapter" data-level="6.2" data-path="sums-analyze.html"><a href="sums-analyze.html#questions-to-answer"><i class="fa fa-check"></i><b>6.2</b> Questions to answer</a></li>
<li class="chapter" data-level="6.3" data-path="sums-analyze.html"><a href="sums-analyze.html#set-up-the-analysis-notebook"><i class="fa fa-check"></i><b>6.3</b> Set up the analysis notebook</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="sums-analyze.html"><a href="sums-analyze.html#load-the-data-into-a-tibble"><i class="fa fa-check"></i><b>6.3.1</b> Load the data into a tibble</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="sums-analyze.html"><a href="sums-analyze.html#how-to-tackle-summaries"><i class="fa fa-check"></i><b>6.4</b> How to tackle summaries</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="sums-analyze.html"><a href="sums-analyze.html#summaries-with-math"><i class="fa fa-check"></i><b>6.4.1</b> Summaries with math</a></li>
<li class="chapter" data-level="6.4.2" data-path="sums-analyze.html"><a href="sums-analyze.html#add-the-total_value"><i class="fa fa-check"></i><b>6.4.2</b> Add the total_value</a></li>
<li class="chapter" data-level="6.4.3" data-path="sums-analyze.html"><a href="sums-analyze.html#arrange-the-results-1"><i class="fa fa-check"></i><b>6.4.3</b> Arrange the results</a></li>
<li class="chapter" data-level="6.4.4" data-path="sums-analyze.html"><a href="sums-analyze.html#consider-the-results"><i class="fa fa-check"></i><b>6.4.4</b> Consider the results</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="sums-analyze.html"><a href="sums-analyze.html#looking-a-local-agencies"><i class="fa fa-check"></i><b>6.5</b> Looking a local agencies</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="sums-analyze.html"><a href="sums-analyze.html#filtering-within-a-vector"><i class="fa fa-check"></i><b>6.5.1</b> Filtering within a vector</a></li>
<li class="chapter" data-level="6.5.2" data-path="sums-analyze.html"><a href="sums-analyze.html#use-the-vector-to-build-this-filter"><i class="fa fa-check"></i><b>6.5.2</b> Use the vector to build this filter</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="sums-analyze.html"><a href="sums-analyze.html#item-quantities-totals-for-local-agencies"><i class="fa fa-check"></i><b>6.6</b> Item quantities, totals for local agencies</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="sums-analyze.html"><a href="sums-analyze.html#build-the-lists-for-other-agencies"><i class="fa fa-check"></i><b>6.6.1</b> Build the lists for other agencies</a></li>
<li class="chapter" data-level="6.6.2" data-path="sums-analyze.html"><a href="sums-analyze.html#google-some-interesting-items"><i class="fa fa-check"></i><b>6.6.2</b> Google some interesting items</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="sums-analyze.html"><a href="sums-analyze.html#write-a-data-drop"><i class="fa fa-check"></i><b>6.7</b> Write a data drop</a></li>
<li class="chapter" data-level="6.8" data-path="sums-analyze.html"><a href="sums-analyze.html#what-we-learned-in-this-chapter"><i class="fa fa-check"></i><b>6.8</b> What we learned in this chapter</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ggplot-intro.html"><a href="ggplot-intro.html"><i class="fa fa-check"></i><b>7</b> Intro to ggplot</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ggplot-intro.html"><a href="ggplot-intro.html#goals-for-this-section"><i class="fa fa-check"></i><b>7.1</b> Goals for this section</a></li>
<li class="chapter" data-level="7.2" data-path="ggplot-intro.html"><a href="ggplot-intro.html#introduction-to-ggplot"><i class="fa fa-check"></i><b>7.2</b> Introduction to ggplot</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="ggplot-intro.html"><a href="ggplot-intro.html#what-i-likedislike-about-ggplot"><i class="fa fa-check"></i><b>7.2.1</b> What I like/dislike about ggplot</a></li>
<li class="chapter" data-level="7.2.2" data-path="ggplot-intro.html"><a href="ggplot-intro.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>7.2.2</b> The Grammar of Graphics</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ggplot-intro.html"><a href="ggplot-intro.html#start-a-new-project"><i class="fa fa-check"></i><b>7.3</b> Start a new project</a></li>
<li class="chapter" data-level="7.4" data-path="ggplot-intro.html"><a href="ggplot-intro.html#the-layers-of-ggplot"><i class="fa fa-check"></i><b>7.4</b> The layers of ggplot</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="ggplot-intro.html"><a href="ggplot-intro.html#build-the-base-layer"><i class="fa fa-check"></i><b>7.4.1</b> Build the base layer</a></li>
<li class="chapter" data-level="7.4.2" data-path="ggplot-intro.html"><a href="ggplot-intro.html#layers-can-we-add-to-our-plots"><i class="fa fa-check"></i><b>7.4.2</b> Layers can we add to our plots</a></li>
<li class="chapter" data-level="7.4.3" data-path="ggplot-intro.html"><a href="ggplot-intro.html#add-geom_points"><i class="fa fa-check"></i><b>7.4.3</b> Add geom_points</a></li>
<li class="chapter" data-level="7.4.4" data-path="ggplot-intro.html"><a href="ggplot-intro.html#adding-other-mappings"><i class="fa fa-check"></i><b>7.4.4</b> Adding other mappings</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="ggplot-intro.html"><a href="ggplot-intro.html#lets-build-a-bar-chart"><i class="fa fa-check"></i><b>7.5</b> Let’s build a bar chart</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="ggplot-intro.html"><a href="ggplot-intro.html#prepare-the-data"><i class="fa fa-check"></i><b>7.5.1</b> Prepare the data</a></li>
<li class="chapter" data-level="7.5.2" data-path="ggplot-intro.html"><a href="ggplot-intro.html#build-our-plot-with-geom_col"><i class="fa fa-check"></i><b>7.5.2</b> Build our plot with geom_col</a></li>
<li class="chapter" data-level="7.5.3" data-path="ggplot-intro.html"><a href="ggplot-intro.html#add-the-geom_col-layer"><i class="fa fa-check"></i><b>7.5.3</b> Add the geom_col layer</a></li>
<li class="chapter" data-level="7.5.4" data-path="ggplot-intro.html"><a href="ggplot-intro.html#flip-the-axis"><i class="fa fa-check"></i><b>7.5.4</b> Flip the axis</a></li>
<li class="chapter" data-level="7.5.5" data-path="ggplot-intro.html"><a href="ggplot-intro.html#reorder-the-bars"><i class="fa fa-check"></i><b>7.5.5</b> Reorder the bars</a></li>
<li class="chapter" data-level="7.5.6" data-path="ggplot-intro.html"><a href="ggplot-intro.html#add-some-titles-labels"><i class="fa fa-check"></i><b>7.5.6</b> Add some titles, labels</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="ggplot-intro.html"><a href="ggplot-intro.html#on-your-own-ice-cream"><i class="fa fa-check"></i><b>7.6</b> On your own: Ice cream!</a></li>
<li class="chapter" data-level="7.7" data-path="ggplot-intro.html"><a href="ggplot-intro.html#what-weve-learned"><i class="fa fa-check"></i><b>7.7</b> What we’ve learned</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ggplot-more.html"><a href="ggplot-more.html"><i class="fa fa-check"></i><b>8</b> Deeper into ggplot</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ggplot-more.html"><a href="ggplot-more.html#references"><i class="fa fa-check"></i><b>8.1</b> References</a></li>
<li class="chapter" data-level="8.2" data-path="ggplot-more.html"><a href="ggplot-more.html#learning-goals-for-this-chapter"><i class="fa fa-check"></i><b>8.2</b> Learning goals for this chapter</a></li>
<li class="chapter" data-level="8.3" data-path="ggplot-more.html"><a href="ggplot-more.html#set-up-your-notebook"><i class="fa fa-check"></i><b>8.3</b> Set up your notebook</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="ggplot-more.html"><a href="ggplot-more.html#lets-get-the-data"><i class="fa fa-check"></i><b>8.3.1</b> Let’s get the data</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="ggplot-more.html"><a href="ggplot-more.html#make-a-line-chart-of-the-texas-data"><i class="fa fa-check"></i><b>8.4</b> Make a line chart of the Texas data</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="ggplot-more.html"><a href="ggplot-more.html#prepare-the-data-1"><i class="fa fa-check"></i><b>8.4.1</b> Prepare the data</a></li>
<li class="chapter" data-level="8.4.2" data-path="ggplot-more.html"><a href="ggplot-more.html#plot-the-chart"><i class="fa fa-check"></i><b>8.4.2</b> Plot the chart</a></li>
<li class="chapter" data-level="8.4.3" data-path="ggplot-more.html"><a href="ggplot-more.html#saving-plots-as-an-object"><i class="fa fa-check"></i><b>8.4.3</b> Saving plots as an object</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="ggplot-more.html"><a href="ggplot-more.html#themes"><i class="fa fa-check"></i><b>8.5</b> Themes</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="ggplot-more.html"><a href="ggplot-more.html#more-with-ggthemes"><i class="fa fa-check"></i><b>8.5.1</b> More with ggthemes</a></li>
<li class="chapter" data-level="8.5.2" data-path="ggplot-more.html"><a href="ggplot-more.html#there-is-more-to-themes"><i class="fa fa-check"></i><b>8.5.2</b> There is more to themes</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="ggplot-more.html"><a href="ggplot-more.html#adding-more-information"><i class="fa fa-check"></i><b>8.6</b> Adding more information</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="ggplot-more.html"><a href="ggplot-more.html#prepare-the-data-2"><i class="fa fa-check"></i><b>8.6.1</b> Prepare the data</a></li>
<li class="chapter" data-level="8.6.2" data-path="ggplot-more.html"><a href="ggplot-more.html#plot-multiple-line-chart"><i class="fa fa-check"></i><b>8.6.2</b> Plot multiple line chart</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="ggplot-more.html"><a href="ggplot-more.html#on-your-own-line-chart"><i class="fa fa-check"></i><b>8.7</b> On your own: Line chart</a></li>
<li class="chapter" data-level="8.8" data-path="ggplot-more.html"><a href="ggplot-more.html#tour-of-some-other-adjustments"><i class="fa fa-check"></i><b>8.8</b> Tour of some other adjustments</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="ggplot-more.html"><a href="ggplot-more.html#line-width"><i class="fa fa-check"></i><b>8.8.1</b> Line width</a></li>
<li class="chapter" data-level="8.8.2" data-path="ggplot-more.html"><a href="ggplot-more.html#line-type"><i class="fa fa-check"></i><b>8.8.2</b> Line type</a></li>
<li class="chapter" data-level="8.8.3" data-path="ggplot-more.html"><a href="ggplot-more.html#adjust-axis"><i class="fa fa-check"></i><b>8.8.3</b> Adjust axis</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="ggplot-more.html"><a href="ggplot-more.html#facets"><i class="fa fa-check"></i><b>8.9</b> Facets</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="ggplot-more.html"><a href="ggplot-more.html#facet-wrap"><i class="fa fa-check"></i><b>8.9.1</b> Facet wrap</a></li>
<li class="chapter" data-level="8.9.2" data-path="ggplot-more.html"><a href="ggplot-more.html#facet-grids"><i class="fa fa-check"></i><b>8.9.2</b> Facet grids</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="ggplot-more.html"><a href="ggplot-more.html#on-your-own-facet-wrap"><i class="fa fa-check"></i><b>8.10</b> On your own: Facet wrap</a></li>
<li class="chapter" data-level="8.11" data-path="ggplot-more.html"><a href="ggplot-more.html#saving-plots"><i class="fa fa-check"></i><b>8.11</b> Saving plots</a></li>
<li class="chapter" data-level="8.12" data-path="ggplot-more.html"><a href="ggplot-more.html#interactive-plots"><i class="fa fa-check"></i><b>8.12</b> Interactive plots</a></li>
<li class="chapter" data-level="8.13" data-path="ggplot-more.html"><a href="ggplot-more.html#what-we-learned"><i class="fa fa-check"></i><b>8.13</b> What we learned</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>9</b> Tidy data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tidy-data.html"><a href="tidy-data.html#goals-for-this-section-1"><i class="fa fa-check"></i><b>9.1</b> Goals for this section</a></li>
<li class="chapter" data-level="9.2" data-path="tidy-data.html"><a href="tidy-data.html#the-questions-well-answer-1"><i class="fa fa-check"></i><b>9.2</b> The questions we’ll answer</a></li>
<li class="chapter" data-level="9.3" data-path="tidy-data.html"><a href="tidy-data.html#what-is-tidy-data"><i class="fa fa-check"></i><b>9.3</b> What is tidy data</a></li>
<li class="chapter" data-level="9.4" data-path="tidy-data.html"><a href="tidy-data.html#tidyr-package"><i class="fa fa-check"></i><b>9.4</b> Tidyr package</a></li>
<li class="chapter" data-level="9.5" data-path="tidy-data.html"><a href="tidy-data.html#the-tidyr-verbs"><i class="fa fa-check"></i><b>9.5</b> The tidyr verbs</a></li>
<li class="chapter" data-level="9.6" data-path="tidy-data.html"><a href="tidy-data.html#prepare-our-skittles-project"><i class="fa fa-check"></i><b>9.6</b> Prepare our Skittles project</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="tidy-data.html"><a href="tidy-data.html#get-the-data"><i class="fa fa-check"></i><b>9.6.1</b> Get the data</a></li>
<li class="chapter" data-level="9.6.2" data-path="tidy-data.html"><a href="tidy-data.html#fix-the-date"><i class="fa fa-check"></i><b>9.6.2</b> Fix the date</a></li>
<li class="chapter" data-level="9.6.3" data-path="tidy-data.html"><a href="tidy-data.html#peek-at-the-wide-table"><i class="fa fa-check"></i><b>9.6.3</b> Peek at the wide table</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="tidy-data.html"><a href="tidy-data.html#pivot-longer"><i class="fa fa-check"></i><b>9.7</b> Pivot longer</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="tidy-data.html"><a href="tidy-data.html#average-candies-per-color"><i class="fa fa-check"></i><b>9.7.1</b> Average candies per color</a></li>
<li class="chapter" data-level="9.7.2" data-path="tidy-data.html"><a href="tidy-data.html#round-the-averages"><i class="fa fa-check"></i><b>9.7.2</b> Round the averages</a></li>
<li class="chapter" data-level="9.7.3" data-path="tidy-data.html"><a href="tidy-data.html#on-your-own-plot-the-averages"><i class="fa fa-check"></i><b>9.7.3</b> On your own: Plot the averages</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="tidy-data.html"><a href="tidy-data.html#using-datawrapper"><i class="fa fa-check"></i><b>9.8</b> Using Datawrapper</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="tidy-data.html"><a href="tidy-data.html#review-how-to-make-a-bar-chart"><i class="fa fa-check"></i><b>9.8.1</b> Review how to make a bar chart</a></li>
<li class="chapter" data-level="9.8.2" data-path="tidy-data.html"><a href="tidy-data.html#start-a-chart"><i class="fa fa-check"></i><b>9.8.2</b> Start a chart</a></li>
<li class="chapter" data-level="9.8.3" data-path="tidy-data.html"><a href="tidy-data.html#get-your-candies-data"><i class="fa fa-check"></i><b>9.8.3</b> Get your candies data</a></li>
<li class="chapter" data-level="9.8.4" data-path="tidy-data.html"><a href="tidy-data.html#build-the-datawrapper-graphic"><i class="fa fa-check"></i><b>9.8.4</b> Build the datawrapper graphic</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="tidy-data.html"><a href="tidy-data.html#bonus-questions"><i class="fa fa-check"></i><b>9.9</b> Bonus questions</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="tidy-data.html"><a href="tidy-data.html#mostleast-candies"><i class="fa fa-check"></i><b>9.9.1</b> Most/least candies</a></li>
<li class="chapter" data-level="9.9.2" data-path="tidy-data.html"><a href="tidy-data.html#average-total-candies-in-a-bag"><i class="fa fa-check"></i><b>9.9.2</b> Average total candies in a bag</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="tidy-data.html"><a href="tidy-data.html#turn-in-your-work"><i class="fa fa-check"></i><b>9.10</b> Turn in your work</a></li>
<li class="chapter" data-level="9.11" data-path="tidy-data.html"><a href="tidy-data.html#what-we-learned-1"><i class="fa fa-check"></i><b>9.11</b> What we learned</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="plot-aac.html"><a href="plot-aac.html"><i class="fa fa-check"></i><b>10</b> Plotting for answers</a>
<ul>
<li class="chapter" data-level="10.1" data-path="plot-aac.html"><a href="plot-aac.html#goals-of-this-lesson-1"><i class="fa fa-check"></i><b>10.1</b> Goals of this lesson</a></li>
<li class="chapter" data-level="10.2" data-path="plot-aac.html"><a href="plot-aac.html#questions-we-will-answer"><i class="fa fa-check"></i><b>10.2</b> Questions we will answer</a></li>
<li class="chapter" data-level="10.3" data-path="plot-aac.html"><a href="plot-aac.html#create-your-project-1"><i class="fa fa-check"></i><b>10.3</b> Create your project</a></li>
<li class="chapter" data-level="10.4" data-path="plot-aac.html"><a href="plot-aac.html#download-the-data-1"><i class="fa fa-check"></i><b>10.4</b> Download the data</a></li>
<li class="chapter" data-level="10.5" data-path="plot-aac.html"><a href="plot-aac.html#import-your-data"><i class="fa fa-check"></i><b>10.5</b> Import your data</a></li>
<li class="chapter" data-level="10.6" data-path="plot-aac.html"><a href="plot-aac.html#fix-the-dates"><i class="fa fa-check"></i><b>10.6</b> Fix the dates</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="plot-aac.html"><a href="plot-aac.html#edit-to-convert-to-a-real-date"><i class="fa fa-check"></i><b>10.6.1</b> Edit to convert to a real date</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="plot-aac.html"><a href="plot-aac.html#parse-the-date-into-helpful-variables"><i class="fa fa-check"></i><b>10.7</b> Parse the date into helpful variables</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="plot-aac.html"><a href="plot-aac.html#extract-the-year"><i class="fa fa-check"></i><b>10.7.1</b> Extract the year</a></li>
<li class="chapter" data-level="10.7.2" data-path="plot-aac.html"><a href="plot-aac.html#extract-the-month-name"><i class="fa fa-check"></i><b>10.7.2</b> Extract the month name</a></li>
<li class="chapter" data-level="10.7.3" data-path="plot-aac.html"><a href="plot-aac.html#extract-yyyy-mm-format"><i class="fa fa-check"></i><b>10.7.3</b> Extract YYYY-MM format</a></li>
<li class="chapter" data-level="10.7.4" data-path="plot-aac.html"><a href="plot-aac.html#reorder-and-drop-columns"><i class="fa fa-check"></i><b>10.7.4</b> Reorder and drop columns</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-filter-dates"><i class="fa fa-check"></i><b>10.8</b> On your own: Filter dates</a></li>
<li class="chapter" data-level="10.9" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-export-your-data"><i class="fa fa-check"></i><b>10.9</b> On your own: Export your data</a></li>
<li class="chapter" data-level="10.10" data-path="plot-aac.html"><a href="plot-aac.html#set-up-your-analysis-notebook"><i class="fa fa-check"></i><b>10.10</b> Set up your analysis notebook</a></li>
<li class="chapter" data-level="10.11" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-import-your-cleaned-data"><i class="fa fa-check"></i><b>10.11</b> On your own: Import your cleaned data</a></li>
<li class="chapter" data-level="10.12" data-path="plot-aac.html"><a href="plot-aac.html#question-1-intakes-by-year"><i class="fa fa-check"></i><b>10.12</b> Question 1: Intakes by year</a>
<ul>
<li class="chapter" data-level="10.12.1" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-column-chart-of-intakes-by-year"><i class="fa fa-check"></i><b>10.12.1</b> On your own: Column chart of intakes by year</a></li>
<li class="chapter" data-level="10.12.2" data-path="plot-aac.html"><a href="plot-aac.html#getting-commas-on-numbers"><i class="fa fa-check"></i><b>10.12.2</b> Getting commas on numbers</a></li>
</ul></li>
<li class="chapter" data-level="10.13" data-path="plot-aac.html"><a href="plot-aac.html#question-2-intakes-by-month"><i class="fa fa-check"></i><b>10.13</b> Question 2: Intakes by month</a>
<ul>
<li class="chapter" data-level="10.13.1" data-path="plot-aac.html"><a href="plot-aac.html#intakes-by-month-as-a-line"><i class="fa fa-check"></i><b>10.13.1</b> Intakes by month as a line</a></li>
<li class="chapter" data-level="10.13.2" data-path="plot-aac.html"><a href="plot-aac.html#make-the-chart-wider"><i class="fa fa-check"></i><b>10.13.2</b> Make the chart wider</a></li>
<li class="chapter" data-level="10.13.3" data-path="plot-aac.html"><a href="plot-aac.html#so-what-of-this"><i class="fa fa-check"></i><b>10.13.3</b> So, what of this</a></li>
</ul></li>
<li class="chapter" data-level="10.14" data-path="plot-aac.html"><a href="plot-aac.html#question-3-intakes-by-month-split-by-year"><i class="fa fa-check"></i><b>10.14</b> Question 3: Intakes by month, split by year</a>
<ul>
<li class="chapter" data-level="10.14.1" data-path="plot-aac.html"><a href="plot-aac.html#prepare-the-data-with-mo-and-yr"><i class="fa fa-check"></i><b>10.14.1</b> Prepare the data with mo and yr</a></li>
<li class="chapter" data-level="10.14.2" data-path="plot-aac.html"><a href="plot-aac.html#plot-by-month-split-by-year"><i class="fa fa-check"></i><b>10.14.2</b> Plot by month, split by year</a></li>
<li class="chapter" data-level="10.14.3" data-path="plot-aac.html"><a href="plot-aac.html#adjust-the-yr-value-to-a-character"><i class="fa fa-check"></i><b>10.14.3</b> Adjust the yr value to a character</a></li>
<li class="chapter" data-level="10.14.4" data-path="plot-aac.html"><a href="plot-aac.html#clean-up-your-intakes-by-month-split-by-year-chart"><i class="fa fa-check"></i><b>10.14.4</b> Clean up your intakes by month, split by year chart</a></li>
</ul></li>
<li class="chapter" data-level="10.15" data-path="plot-aac.html"><a href="plot-aac.html#question-4-animal-types-by-month"><i class="fa fa-check"></i><b>10.15</b> Question 4: Animal types by month</a>
<ul>
<li class="chapter" data-level="10.15.1" data-path="plot-aac.html"><a href="plot-aac.html#recode-animal-types"><i class="fa fa-check"></i><b>10.15.1</b> Recode animal types</a></li>
<li class="chapter" data-level="10.15.2" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-count-animal-types-by-month"><i class="fa fa-check"></i><b>10.15.2</b> On your own: Count animal types by month</a></li>
<li class="chapter" data-level="10.15.3" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-plot-animal-types-by-month"><i class="fa fa-check"></i><b>10.15.3</b> On your own: Plot animal types by month</a></li>
</ul></li>
<li class="chapter" data-level="10.16" data-path="plot-aac.html"><a href="plot-aac.html#what-we-learned-2"><i class="fa fa-check"></i><b>10.16</b> What we learned</a></li>
<li class="chapter" data-level="10.17" data-path="plot-aac.html"><a href="plot-aac.html#turn-in-your-work-1"><i class="fa fa-check"></i><b>10.17</b> Turn in your work</a></li>
<li class="chapter" data-level="10.18" data-path="plot-aac.html"><a href="plot-aac.html#whats-next-1"><i class="fa fa-check"></i><b>10.18</b> What’s next</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="census-intro.html"><a href="census-intro.html"><i class="fa fa-check"></i><b>11</b> Census introduction</a>
<ul>
<li class="chapter" data-level="11.1" data-path="census-intro.html"><a href="census-intro.html#goals-of-this-chapter"><i class="fa fa-check"></i><b>11.1</b> Goals of this chapter</a></li>
<li class="chapter" data-level="11.2" data-path="census-intro.html"><a href="census-intro.html#start-a-tidycensus-project"><i class="fa fa-check"></i><b>11.2</b> Start a tidycensus project</a></li>
<li class="chapter" data-level="11.3" data-path="census-intro.html"><a href="census-intro.html#census-data-portal-and-api"><i class="fa fa-check"></i><b>11.3</b> Census data portal and API</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="census-intro.html"><a href="census-intro.html#request-a-key"><i class="fa fa-check"></i><b>11.3.1</b> Request a key</a></li>
<li class="chapter" data-level="11.3.2" data-path="census-intro.html"><a href="census-intro.html#install-a-key"><i class="fa fa-check"></i><b>11.3.2</b> Install a key</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="census-intro.html"><a href="census-intro.html#about-the-tidycensus-package"><i class="fa fa-check"></i><b>11.4</b> About the tidycensus package</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="census-intro.html"><a href="census-intro.html#finding-the-data-you-want"><i class="fa fa-check"></i><b>11.4.1</b> Finding the data you want</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="census-intro.html"><a href="census-intro.html#broadband-access-by-county-in-texas"><i class="fa fa-check"></i><b>11.5</b> Broadband access by county in Texas</a></li>
<li class="chapter" data-level="11.6" data-path="census-intro.html"><a href="census-intro.html#using-the-tidycensus-load_variable-function"><i class="fa fa-check"></i><b>11.6</b> Using the tidycensus load_variable() function</a></li>
<li class="chapter" data-level="11.7" data-path="census-intro.html"><a href="census-intro.html#use-tidycensus-to-fetch-our-data"><i class="fa fa-check"></i><b>11.7</b> Use tidycensus to fetch our data</a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="census-intro.html"><a href="census-intro.html#get-broadband-rates-by-county-in-texas"><i class="fa fa-check"></i><b>11.7.1</b> Get broadband rates by county in Texas</a></li>
<li class="chapter" data-level="11.7.2" data-path="census-intro.html"><a href="census-intro.html#on-your-own-arrange-to-get-lowesthighest-values"><i class="fa fa-check"></i><b>11.7.2</b> On your own: Arrange to get lowest/highest values</a></li>
<li class="chapter" data-level="11.7.3" data-path="census-intro.html"><a href="census-intro.html#what-you-have-here"><i class="fa fa-check"></i><b>11.7.3</b> What you have here</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="census-intro.html"><a href="census-intro.html#map-broadband-access-by-counties-in-texas"><i class="fa fa-check"></i><b>11.8</b> Map broadband access by counties in Texas</a>
<ul>
<li class="chapter" data-level="11.8.1" data-path="census-intro.html"><a href="census-intro.html#plot-the-broadband-map"><i class="fa fa-check"></i><b>11.8.1</b> Plot the broadband map</a></li>
<li class="chapter" data-level="11.8.2" data-path="census-intro.html"><a href="census-intro.html#you-did-it"><i class="fa fa-check"></i><b>11.8.2</b> You did it!</a></li>
</ul></li>
<li class="chapter" data-level="11.9" data-path="census-intro.html"><a href="census-intro.html#keep-this-project"><i class="fa fa-check"></i><b>11.9</b> Keep this project</a></li>
<li class="chapter" data-level="11.10" data-path="census-intro.html"><a href="census-intro.html#what-weve-learned-1"><i class="fa fa-check"></i><b>11.10</b> What we’ve learned</a></li>
<li class="chapter" data-level="11.11" data-path="census-intro.html"><a href="census-intro.html#other-useful-census-related-packages"><i class="fa fa-check"></i><b>11.11</b> Other useful census-related packages</a>
<ul>
<li class="chapter" data-level="11.11.1" data-path="census-intro.html"><a href="census-intro.html#the-censusapi-package"><i class="fa fa-check"></i><b>11.11.1</b> The censusapi package</a></li>
</ul></li>
<li class="chapter" data-level="11.12" data-path="census-intro.html"><a href="census-intro.html#interactive-maps-with-leaflet"><i class="fa fa-check"></i><b>11.12</b> Interactive maps with leaflet</a></li>
<li class="chapter" data-level="11.13" data-path="census-intro.html"><a href="census-intro.html#more-resources-and-examples"><i class="fa fa-check"></i><b>11.13</b> More resources and examples</a></li>
<li class="chapter" data-level="11.14" data-path="census-intro.html"><a href="census-intro.html#using-the-data-portal-to-download-data"><i class="fa fa-check"></i><b>11.14</b> Using the data portal to download data</a>
<ul>
<li class="chapter" data-level="11.14.1" data-path="census-intro.html"><a href="census-intro.html#importing-downloaded-data"><i class="fa fa-check"></i><b>11.14.1</b> Importing downloaded data</a></li>
<li class="chapter" data-level="11.14.2" data-path="census-intro.html"><a href="census-intro.html#fields-made-to-join-with-other-data"><i class="fa fa-check"></i><b>11.14.2</b> Fields made to join with other data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="census-more.html"><a href="census-more.html"><i class="fa fa-check"></i><b>12</b> Joining census data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="census-more.html"><a href="census-more.html#goals-of-the-chapter"><i class="fa fa-check"></i><b>12.1</b> Goals of the chapter</a></li>
<li class="chapter" data-level="12.2" data-path="census-more.html"><a href="census-more.html#questions-well-answer"><i class="fa fa-check"></i><b>12.2</b> Questions we’ll answer</a></li>
<li class="chapter" data-level="12.3" data-path="census-more.html"><a href="census-more.html#set-up-your-notebook-1"><i class="fa fa-check"></i><b>12.3</b> Set up your notebook</a></li>
<li class="chapter" data-level="12.4" data-path="census-more.html"><a href="census-more.html#new-york-times-covid-data"><i class="fa fa-check"></i><b>12.4</b> New York Times COVID data</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="census-more.html"><a href="census-more.html#on-your-own-import-the-nyt-data"><i class="fa fa-check"></i><b>12.4.1</b> On your own: Import the NYT data</a></li>
<li class="chapter" data-level="12.4.2" data-path="census-more.html"><a href="census-more.html#slice-the-most-recent-data"><i class="fa fa-check"></i><b>12.4.2</b> Slice the most recent data</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="census-more.html"><a href="census-more.html#get-county-populations-using-tidycensus"><i class="fa fa-check"></i><b>12.5</b> Get county populations using tidycensus</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="census-more.html"><a href="census-more.html#find-the-data-on-data.census.gov"><i class="fa fa-check"></i><b>12.5.1</b> Find the data on data.census.gov</a></li>
<li class="chapter" data-level="12.5.2" data-path="census-more.html"><a href="census-more.html#find-the-variable-name"><i class="fa fa-check"></i><b>12.5.2</b> Find the variable name</a></li>
<li class="chapter" data-level="12.5.3" data-path="census-more.html"><a href="census-more.html#fetch-the-population-data"><i class="fa fa-check"></i><b>12.5.3</b> Fetch the population data</a></li>
<li class="chapter" data-level="12.5.4" data-path="census-more.html"><a href="census-more.html#get-data-for-texas-counties"><i class="fa fa-check"></i><b>12.5.4</b> Get data for Texas counties</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="census-more.html"><a href="census-more.html#about-joins"><i class="fa fa-check"></i><b>12.6</b> About joins</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="census-more.html"><a href="census-more.html#join-our-data-together"><i class="fa fa-check"></i><b>12.6.1</b> Join our data together</a></li>
<li class="chapter" data-level="12.6.2" data-path="census-more.html"><a href="census-more.html#clean-up-column-names-etc."><i class="fa fa-check"></i><b>12.6.2</b> Clean up column names, etc.</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="census-more.html"><a href="census-more.html#create-our-rate-columns"><i class="fa fa-check"></i><b>12.7</b> Create our rate columns</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="census-more.html"><a href="census-more.html#on-your-own-get-a-deaths-rate-per-1000"><i class="fa fa-check"></i><b>12.7.1</b> On your own: Get a deaths rate per 1,000</a></li>
<li class="chapter" data-level="12.7.2" data-path="census-more.html"><a href="census-more.html#on-your-own-find-counties-with-highest-rates"><i class="fa fa-check"></i><b>12.7.2</b> On your own: Find counties with highest rates</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="census-more.html"><a href="census-more.html#mapping-the-rates-for-texas-counties"><i class="fa fa-check"></i><b>12.8</b> Mapping the rates for Texas counties</a></li>
<li class="chapter" data-level="12.9" data-path="census-more.html"><a href="census-more.html#on-your-own-map-the-deaths-per-1000"><i class="fa fa-check"></i><b>12.9</b> On your own: Map the deaths per 1,000</a></li>
<li class="chapter" data-level="12.10" data-path="census-more.html"><a href="census-more.html#what-weve-learned-2"><i class="fa fa-check"></i><b>12.10</b> What we’ve learned</a></li>
<li class="chapter" data-level="12.11" data-path="census-more.html"><a href="census-more.html#turn-in-your-work-2"><i class="fa fa-check"></i><b>12.11</b> Turn in your work</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="mastery.html"><a href="mastery.html"><i class="fa fa-check"></i><b>13</b> Mastery - Mixed Beverages</a>
<ul>
<li class="chapter" data-level="13.1" data-path="mastery.html"><a href="mastery.html#the-assignment-outline"><i class="fa fa-check"></i><b>13.1</b> The assignment outline</a></li>
<li class="chapter" data-level="13.2" data-path="mastery.html"><a href="mastery.html#about-the-interviews"><i class="fa fa-check"></i><b>13.2</b> About the interviews</a></li>
<li class="chapter" data-level="13.3" data-path="mastery.html"><a href="mastery.html#about-the-data-1"><i class="fa fa-check"></i><b>13.3</b> About the data</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="mastery.html"><a href="mastery.html#important-things-to-know"><i class="fa fa-check"></i><b>13.3.1</b> Important things to know</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="mastery.html"><a href="mastery.html#story-ideas"><i class="fa fa-check"></i><b>13.4</b> Story ideas</a></li>
<li class="chapter" data-level="13.5" data-path="mastery.html"><a href="mastery.html#downloading-and-cleaning-the-data"><i class="fa fa-check"></i><b>13.5</b> Downloading and cleaning the data</a>
<ul>
<li class="chapter" data-level="13.5.1" data-path="mastery.html"><a href="mastery.html#set-up-the-download-url"><i class="fa fa-check"></i><b>13.5.1</b> Set up the download url</a></li>
<li class="chapter" data-level="13.5.2" data-path="mastery.html"><a href="mastery.html#download-the-data-2"><i class="fa fa-check"></i><b>13.5.2</b> Download the data</a></li>
<li class="chapter" data-level="13.5.3" data-path="mastery.html"><a href="mastery.html#fix-some-values"><i class="fa fa-check"></i><b>13.5.3</b> Fix some values</a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="mastery.html"><a href="mastery.html#export-your-data"><i class="fa fa-check"></i><b>13.6</b> Export your data</a></li>
<li class="chapter" data-level="13.7" data-path="mastery.html"><a href="mastery.html#how-to-tackle-the-analysis"><i class="fa fa-check"></i><b>13.7</b> How to tackle the analysis</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html"><i class="fa fa-check"></i><b>14</b> How to interview a new dataset</a>
<ul>
<li class="chapter" data-level="14.1" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#start-by-listing-questions"><i class="fa fa-check"></i><b>14.1</b> Start by listing questions</a></li>
<li class="chapter" data-level="14.2" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#understand-your-data"><i class="fa fa-check"></i><b>14.2</b> Understand your data</a></li>
<li class="chapter" data-level="14.3" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#pay-attention-to-the-shape-of-your-data"><i class="fa fa-check"></i><b>14.3</b> Pay attention to the shape of your data</a></li>
<li class="chapter" data-level="14.4" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#counting-and-aggregation"><i class="fa fa-check"></i><b>14.4</b> Counting and aggregation</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#counting-rows-based-on-a-column"><i class="fa fa-check"></i><b>14.4.1</b> Counting rows based on a column</a></li>
<li class="chapter" data-level="14.4.2" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#sum-mean-and-other-aggregations"><i class="fa fa-check"></i><b>14.4.2</b> Sum, mean and other aggregations</a></li>
<li class="chapter" data-level="14.4.3" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#creating-columns-to-show-difference"><i class="fa fa-check"></i><b>14.4.3</b> Creating columns to show difference</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#cleaning-up-categorical-data"><i class="fa fa-check"></i><b>14.5</b> Cleaning up categorical data</a></li>
<li class="chapter" data-level="14.6" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#time-as-a-variable"><i class="fa fa-check"></i><b>14.6</b> Time as a variable</a></li>
<li class="chapter" data-level="14.7" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#explore-the-distributions-in-your-data"><i class="fa fa-check"></i><b>14.7</b> Explore the distributions in your data</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#more-on-histograms"><i class="fa fa-check"></i><b>14.7.1</b> More on histograms</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="how-to-interview-a-new-dataset.html"><a href="how-to-interview-a-new-dataset.html#same-ideas-using-spreadsheets"><i class="fa fa-check"></i><b>14.8</b> Same ideas using spreadsheets</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="verbs.html"><a href="verbs.html"><i class="fa fa-check"></i><b>15</b> Verbs</a>
<ul>
<li class="chapter" data-level="15.1" data-path="verbs.html"><a href="verbs.html#importexport"><i class="fa fa-check"></i><b>15.1</b> Import/Export</a></li>
<li class="chapter" data-level="15.2" data-path="verbs.html"><a href="verbs.html#data-manipulation"><i class="fa fa-check"></i><b>15.2</b> Data manipulation</a></li>
<li class="chapter" data-level="15.3" data-path="verbs.html"><a href="verbs.html#aggregation"><i class="fa fa-check"></i><b>15.3</b> Aggregation</a></li>
<li class="chapter" data-level="15.4" data-path="verbs.html"><a href="verbs.html#math"><i class="fa fa-check"></i><b>15.4</b> Math</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reporting with Data in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="count-analysis" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Summarize with count - analysis</h1>
<p>This chapter continues the Billboard Hot 100 project. In the previous chapter we downloaded, imported and cleaned the data. We’ll be working in the same project.</p>
<div id="goals-of-this-lesson" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Goals of this lesson</h2>
<ul>
<li>To use group by/summarize/arrange combination to count rows.</li>
<li>To use filter to both focus data for summaries, and to logically end summary lists.</li>
<li>Introduce the shortcut <code>count()</code> function, along with complex filters.</li>
</ul>
</div>
<div id="the-questions-well-answer" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> The questions we’ll answer</h2>
<p>Now that we have the Billboard Hot 100 charts data in our project it’s time to find the answers to the following questions:</p>
<ul>
<li>Which performers had the most appearances on the Hot 100 chart at any position?</li>
<li>Which performer/song combination has been on the charts the most number of weeks at any position?</li>
<li>Which performer/song combination was No. 1 for the most number of weeks?</li>
<li>Which performer had the most songs reach No. 1?</li>
<li>Which performer had the most songs reach No. 1 in the most recent five years?</li>
<li>Which performer had the most Top 10 hits overall?</li>
</ul>
<blockquote>
<p>What are your guesses for the questions above? No peeking!</p>
</blockquote>
<p>Before we can get into the analysis, we need to set up a new notebook.</p>
</div>
<div id="setting-up-an-analysis-notebook" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> Setting up an analysis notebook</h2>
<p>At the end of the last notebook we exported our clean data as an <code>.rds</code> file. We’ll now create a new notebook and import that data. It will be much easier this time.</p>
<ol style="list-style-type: decimal">
<li>If you don’t already have it open, go ahead and open your Billboard project.</li>
<li>If your import notebook is still open, go ahead and close it.</li>
<li>Use the <code>+</code> menu to start a new **RNotebook*.</li>
<li>Update the title as “Billboard analysis” and then remove all the boilerplate text below the YAML metadata.</li>
<li>Save the file as <code>02-analysis.Rmd</code> in your project folder.</li>
<li>Check your Environment tab (top right) and make sure the Data pane is empty. We don’t want to have any leftover data. If there is, then go under the <strong>Run</strong> menu and choose <strong>Restart R and Clear Output</strong>.</li>
</ol>
<p>Since we are starting a new notebook, we need to set up a few things. First up we want to list our goals.</p>
<ol style="list-style-type: decimal">
<li>Add a headline and text describing the goals of this notebook. You are exploring the Billboard Hot 100 charts data.</li>
<li>Go ahead and copy all the questions outlined above into your notebook.</li>
<li>Start each line with a <code>-</code> or <code>*</code> followed by a space.</li>
<li>Now add a headline (two hashes) called Setup.</li>
<li>Add a chunk, also name it “setup” and add the tidyverse library.</li>
<li>Run the chunk to load the library.</li>
</ol>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="count-analysis.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<div id="import-the-data-on-your-own" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> Import the data on your own</h3>
<p>In this next part I want you to think about how you’ve did the import in the last notebook and I want you to:</p>
<ol style="list-style-type: decimal">
<li>Write a section to import the data using <code>read_rds()</code> and put it into a tibble called <code>hot100</code>.</li>
</ol>
<p>Yes, it is true that we haven’t talked about <a href="https://readr.tidyverse.org/reference/read_rds.html"><code>read_rds()</code></a> yet but it works exactly the same way as <code>read_csv()</code>, so you should try to figure it out.</p>
<p>Here are some hints and guides:</p>
<ul>
<li>Start a new section with a headline and text to say what you are doing</li>
<li>Don’t forget to name your code chunk (this should all be getting familiar).</li>
<li><code>read_rds()</code> works the same was as <code>read_csv()</code>. The path <em>should</em> be <code>data-processed/01-hot100.rds</code> if you did the previous notebook properly.</li>
<li>Remember the tibble needs to be named first and read data pushed into it.</li>
<li>Add a glimpse to the chunk so you can refer to the data.</li>
</ul>
<details>
<summary>
Try real hard first before clicking here for the answer
</summary>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="count-analysis.html#cb31-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="ot">&lt;-</span> <span class="fu">read_rds</span>(<span class="st">&quot;data-processed/01-hot100.rds&quot;</span>)</span>
<span id="cb31-2"><a href="count-analysis.html#cb31-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-3"><a href="count-analysis.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># peek at the data</span></span>
<span id="cb31-4"><a href="count-analysis.html#cb31-4" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 327,895
## Columns: 7
## $ week_id                &lt;date&gt; 1958-08-02, 1958-08-02, 1958-08-02, 1958-08-02…
## $ week_position          &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, …
## $ song                   &lt;chr&gt; &quot;Poor Little Fool&quot;, &quot;Patricia&quot;, &quot;Splish Splash&quot;…
## $ performer              &lt;chr&gt; &quot;Ricky Nelson&quot;, &quot;Perez Prado And His Orchestra&quot;…
## $ previous_week_position &lt;dbl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA,…
## $ peak_position          &lt;dbl&gt; 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, …
## $ weeks_on_chart         &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,…</code></pre>
</details>
</div>
</div>
<div id="introducing-dplyr" class="section level2" number="4.4">
<h2><span class="header-section-number">4.4</span> Introducing dplyr</h2>
<p>One of the packages within the tidyverse is <a href="https://dplyr.tidyverse.org/">dplyr</a>. Dplyr allows us to transform our data frames in ways that let us explore the data and prepare it for visualizing. It’s the R equivalent of common Excel functions like sort, filter and pivoting.</p>
<blockquote>
<p>There is a cheatsheet on the <a href="https://dplyr.tidyverse.org/">dplyr</a> that you might find useful.</p>
</blockquote>
<div class="figure">
<img src="images/transform-dplyractions.png" width="600" alt="" />
<p class="caption">dplyr. Images courtesy Hadley and Charlotte Wickham</p>
</div>
<p>We’ve used <code>select()</code>, <code>mutate()</code> and <code>arrange()</code> already, but we’ll introduce more dplyr functions in this chapter.</p>
</div>
<div id="most-appearances" class="section level2" number="4.5">
<h2><span class="header-section-number">4.5</span> Most appearances</h2>
<p>Our first question: Which performers had the most appearances on the Hot 100 chart at any position?</p>
<div id="group-aggregate" class="section level3" number="4.5.1">
<h3><span class="header-section-number">4.5.1</span> Group &amp; Aggregate</h3>
<p>Before we dive into the code, let’s review this video about “Group and Aggregate” to get a handle on the concept.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/a3VNWYJoy5A" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><br>
Let’s work through the logic of what we need to do to get our answer before I explain exactly how.</p>
<ul>
<li>Each row in the data is one song on the chart.</li>
<li>Each of those rows has the <code>performer</code> which is the person(s) who performed it.</li>
<li>To figure out how many times a performer is in the data, we need to count the rows with the same performer.</li>
</ul>
<p>We’ll use the tidyverse’s version of Group and Aggregate to get this answer. It is actually two different functions within dplyr that often work together: <code>summarize()</code> and it’s companion <code>group_by()</code>.</p>
</div>
<div id="summarize" class="section level3" number="4.5.2">
<h3><span class="header-section-number">4.5.2</span> Summarize</h3>
<blockquote>
<p><code>summarize()</code> and <code>summarise()</code> are the same function, as R supports both the American and UK spelling of summarize. I don’t care which you use.</p>
</blockquote>
<p>We’ll start with <a href="https://dplyr.tidyverse.org/reference/summarise.html"><code>summarize()</code></a> first because it can stand alone.</p>
<p>The <code>summarize()</code> function <strong>computes tables <em>about</em> your data</strong>. Our logic above has us wanting a “summary” of how many times certain performers appear in data, hence we use this function.</p>
<p>Here is an example in a different context:</p>
<div class="figure">
<img src="images/transform-summarise.png" width="500" alt="" />
<p class="caption">Learn about your data with summarize()</p>
</div>
<p>Much like the <code>mutate()</code> function we used earlier, we list the name of the new column first, then assign to it the function we want to accomplish using <code>=</code>.</p>
<p>The example above is giving us two summaries: It is applying a function <code>mean()</code> (or average) on all the values in the <code>lifeExp</code> column, and then again with <code>min()</code>, the lowest life expectancy in the data.</p>
<p>Let me show you a similar example with our data answer this question:</p>
<p>Let’s find the average “peak_position” of all songs on the charts through history:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="count-analysis.html#cb33-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="count-analysis.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean_position =</span> <span class="fu">mean</span>(peak_position))</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##   mean_position
##           &lt;dbl&gt;
## 1          41.4</code></pre>
<p>Meaning the average song on the charts tops out at No. 41.</p>
<blockquote>
<p>This is an admittedly simplistic view of the average <code>peak_position</code> since the same song will be listed multiple times with possibly new <code>peak_position</code>s, but hopefully you get the idea.</p>
</blockquote>
<p>But in our case we want to <strong>count</strong> the number of rows, and there is a function for that: <code>n()</code>. (Think “number of observations or rows.”)</p>
<p>Let’s write the code and run it on our code, then I’ll explain:</p>
<ol style="list-style-type: decimal">
<li>Set up a new section with a headline, text and empty code chunk.</li>
<li>Inside the code chunk, add the following:</li>
</ol>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="count-analysis.html#cb35-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="count-analysis.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">appearances =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 1 × 1
##   appearances
##         &lt;int&gt;
## 1      327895</code></pre>
<ul>
<li>We start with the tibble first and then pipe into <code>summarize()</code>.</li>
<li>Within the function, we define our summary:
<ul>
<li>We name the new column “appearances” because that is a descriptive column name for our result.</li>
<li>We set that new column to count the <strong>n</strong>umber of rows.</li>
</ul></li>
</ul>
<p>Basically we are summarizing the total number of rows in the data.</p>
<p>AN ASIDE: I often break up the inside a <code>summarize()</code> into new lines so they are easier to read.</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="count-analysis.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># you don&#39;t have to do this here, but know</span></span>
<span id="cb37-2"><a href="count-analysis.html#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="co"># it is helpful when you have more than one summary</span></span>
<span id="cb37-3"><a href="count-analysis.html#cb37-3" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb37-4"><a href="count-analysis.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(</span>
<span id="cb37-5"><a href="count-analysis.html#cb37-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">appearances =</span> <span class="fu">n</span>()</span>
<span id="cb37-6"><a href="count-analysis.html#cb37-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>But your are asking: Professor, we want to count the performers, right?</p>
<p>This is where <code>summarize()</code>’s close friend <code>group_by()</code> comes in.</p>
</div>
<div id="group-by" class="section level3" number="4.5.3">
<h3><span class="header-section-number">4.5.3</span> Group by</h3>
<p>Here is a weird thing about <a href="https://dplyr.tidyverse.org/reference/group_by.html"><code>group_by()</code></a>: It is always followed by another function. It really just pre-sorts data into groups so that whatever function is applied after happens within each individual group.</p>
<p>If add a <code>group_by()</code> on our performers before our summarize function, it will put all of the “Aerosmith” rows together, then all the “Bad Company” rows together, etc. and then we count the rows <em>within</em> those groups.</p>
<ol style="list-style-type: decimal">
<li>Modify your code block to add the group_by:</li>
</ol>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="count-analysis.html#cb38-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span></span>
<span id="cb38-2"><a href="count-analysis.html#cb38-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer) <span class="sc">%&gt;%</span> </span>
<span id="cb38-3"><a href="count-analysis.html#cb38-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">appearances =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## # A tibble: 10,061 × 2
##    performer                            appearances
##    &lt;chr&gt;                                      &lt;int&gt;
##  1 &quot;? (Question Mark) &amp; The Mysterians&quot;          33
##  2 &quot;&#39;N Sync&quot;                                    172
##  3 &quot;&#39;N Sync &amp; Gloria Estefan&quot;                    20
##  4 &quot;&#39;N Sync Featuring Nelly&quot;                     20
##  5 &quot;&#39;Til Tuesday&quot;                                53
##  6 &quot;\&quot;Groove\&quot; Holmes&quot;                           14
##  7 &quot;\&quot;Little\&quot; Jimmy Dickens&quot;                    10
##  8 &quot;\&quot;Pookie\&quot; Hudson&quot;                            1
##  9 &quot;\&quot;Weird Al\&quot; Yankovic&quot;                       91
## 10 &quot;(+44)&quot;                                        1
## # … with 10,051 more rows</code></pre>
<p>What we get in return is a <strong>summarize</strong>d table that shows all 10,000+ different performers that have been on the charts, and <strong>n</strong>umber of rows in which they appear in the data.</p>
<p>That’s great, but who had the most?</p>
</div>
<div id="arrange-the-results" class="section level3" number="4.5.4">
<h3><span class="header-section-number">4.5.4</span> Arrange the results</h3>
<p>Remember in our import notebook when we had to sort the songs by date. We’ll use the same <code>arrange()</code> function here, but we’ll change the result to <strong>desc</strong>ending order, because journalists almost always want to know the <em>most</em> of something.</p>
<ol style="list-style-type: decimal">
<li>Add the pipe and arrange function below and run it, then I’ll explain.</li>
</ol>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="count-analysis.html#cb40-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span></span>
<span id="cb40-2"><a href="count-analysis.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer) <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="count-analysis.html#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">appearances =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb40-4"><a href="count-analysis.html#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(appearances <span class="sc">%&gt;%</span> <span class="fu">desc</span>())</span></code></pre></div>
<pre><code>## # A tibble: 10,061 × 2
##    performer     appearances
##    &lt;chr&gt;               &lt;int&gt;
##  1 Taylor Swift         1022
##  2 Elton John            889
##  3 Madonna               857
##  4 Kenny Chesney         758
##  5 Drake                 746
##  6 Tim McGraw            731
##  7 Keith Urban           673
##  8 Stevie Wonder         659
##  9 Rod Stewart           657
## 10 Mariah Carey          621
## # … with 10,051 more rows</code></pre>
<ul>
<li>We added the <code>arrange()</code> function and fed it the column of “appearances.” If we left it with just that, then it would list the smallest values first.</li>
<li><em>Within the arrange function</em> we piped the “appearances” part into another function: <code>desc()</code> to change the order.</li>
</ul>
<p>So if you read that line in English it would be “arrange by (appearances AND THEN descending order).”</p>
<p>You may also see this as <code>arrange(desc(appearances))</code>.</p>
</div>
<div id="get-the-top-of-the-list" class="section level3" number="4.5.5">
<h3><span class="header-section-number">4.5.5</span> Get the top of the list</h3>
<p>We’ve printed 10,000 rows of data into our notebook when we really only wanted the Top 10 or so. You might think it doesn’t matter, but your knitted HTML file will store all that data and can make it a big file (like in megabytes), so I try to avoid that when I can.</p>
<p>We can use the <code>head()</code> command again to get our Top 10.</p>
<ol style="list-style-type: decimal">
<li>Pipe the result into <code>head()</code> function set to 10 rows.</li>
</ol>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="count-analysis.html#cb42-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span></span>
<span id="cb42-2"><a href="count-analysis.html#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer) <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="count-analysis.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">appearances =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb42-4"><a href="count-analysis.html#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(appearances <span class="sc">%&gt;%</span> <span class="fu">desc</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb42-5"><a href="count-analysis.html#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    performer     appearances
##    &lt;chr&gt;               &lt;int&gt;
##  1 Taylor Swift         1022
##  2 Elton John            889
##  3 Madonna               857
##  4 Kenny Chesney         758
##  5 Drake                 746
##  6 Tim McGraw            731
##  7 Keith Urban           673
##  8 Stevie Wonder         659
##  9 Rod Stewart           657
## 10 Mariah Carey          621</code></pre>
<p>If I was to explain the code above in English, I would descibe it as this:</p>
<ul>
<li>We start with the hot100 data AND THEN</li>
<li>we group the data by performer AND THEN</li>
<li>we summarize it by counting the number of rows in each group, calling the count “appearances” AND THEN</li>
<li>we arrange the result by appearances in descending order AND THEN</li>
<li>we kept just the first 10 rows</li>
</ul>
<p>Since we have our answer here and we’re not using the result later, we don’t need to create a new tibble or anything.</p>
<blockquote>
<p>AN IMPORTANT NOTE: The list we’ve created here is based on unique <code>performer</code> names, and as such considers collaborations separately. For instance, Drake is near the top of the list but those are only songs he performed alone and not the many, many collaborations he has had with other performers. So, songs by “Drake” are counted separately than “Drake featuring Future” and “Future featuring Drake.” You’ll need to make this clear when you write your data drop in a later assignment.</p>
</blockquote>
<p>So, <strong>Taylor Swift</strong> … is that who you guessed? A little history here, Swift past Elton John in the summer of 2019. Elton John has been around a long time, but Swift’s popularity at a young age, plus changes in how Billboard counts plays in the modern era (like streaming) has rocketed her to the top. (Sorry, Rocket Man).</p>
</div>
</div>
<div id="performersong-with-most-appearances" class="section level2" number="4.6">
<h2><span class="header-section-number">4.6</span> Performer/song with most appearances</h2>
<p>Our quest here is this: <strong>Which performer/song combination has been on the charts the most number of weeks at any position?</strong></p>
<p>This is very similar to our quest to find the artist with the most appearances, but we have to consider <code>performer</code> and <code>song</code> together because different artists can perform songs of the same name. For example, 17 different performers have a song called “Hold On” on the Hot 100 (at least through 2020).</p>
<ol style="list-style-type: decimal">
<li>Start a new section (headline, text describing goal and a new code chunk.)</li>
<li>Add the code below to the chunk and run it and then I’ll outline it below.</li>
</ol>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="count-analysis.html#cb44-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> <span class="co"># start with the data, and then ...</span></span>
<span id="cb44-2"><a href="count-analysis.html#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer, song) <span class="sc">%&gt;%</span> <span class="co"># group by performer and song, and then ..</span></span>
<span id="cb44-3"><a href="count-analysis.html#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">appearances =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> <span class="co"># name the column, then fill it with the number of rows ...</span></span>
<span id="cb44-4"><a href="count-analysis.html#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(appearances <span class="sc">%&gt;%</span> <span class="fu">desc</span>()) <span class="co"># arrange by appearances in descending order</span></span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;performer&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 29,389 × 3
## # Groups:   performer [10,061]
##    performer                                 song                    appearances
##    &lt;chr&gt;                                     &lt;chr&gt;                         &lt;int&gt;
##  1 Imagine Dragons                           Radioactive                      87
##  2 AWOLNATION                                Sail                             79
##  3 Jason Mraz                                I&#39;m Yours                        76
##  4 The Weeknd                                Blinding Lights                  76
##  5 LeAnn Rimes                               How Do I Live                    69
##  6 LMFAO Featuring Lauren Bennett &amp; GoonRock Party Rock Anthem                68
##  7 OneRepublic                               Counting Stars                   68
##  8 Adele                                     Rolling In The Deep              65
##  9 Jewel                                     Foolish Games/You Were…          65
## 10 Carrie Underwood                          Before He Cheats                 64
## # … with 29,379 more rows</code></pre>
<p>The logic is actually straightforward:</p>
<ul>
<li>We want to count combinations over two columns: <code>song, performer</code>. When you group_by more then one column, it will group rows where the values are the same in all columns. i.e. all rows with both “Rush” as a performer and <em>Tom Sawyer</em> as a song. Rows with “Rush” and <em>Red Barchetta</em> will be considered in a different group.</li>
<li>With <code>summarize()</code>, we name the new column first (we chose <code>appearances</code>), then describe what should fill it. In this case we filled the column using the <code>n()</code>, which counts the number of rows in each group.</li>
<li>Once you have a summary table, we sort it by appearances and set it to <strong>desc</strong>ending order, which puts the highest value on the top.</li>
</ul>
<p>We will <em>often</em> use <code>group_by()</code>, <code>summarize()</code> and <code>arrange()</code> together, which is why I’ll refer to this as the GSA trio. They are like three close friends that always want to be together.</p>
<div id="introducing-filter" class="section level3" number="4.6.1">
<h3><span class="header-section-number">4.6.1</span> Introducing filter()</h3>
<p>I showed you <code>head()</code> in the previous quest and that is useful to quickly cut off a list, but it does so indiscriminately. In this case, if we use the default <code>head()</code> that retains six rows, it would cut right in the middle of a tie at 68 records. (at least with data through 2020). A better strategy is to cut off the list at a logical place using <code>filter()</code>. Let’s dive into this new function:</p>
<p>Filtering is one of those Basic Data Journalism Functions:</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ckojM4rtlMc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p><br>
The dplyr function <code>filter()</code> reduces the number of rows in our data based on one or more criteria.</p>
<p>The syntax works like this:</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="count-analysis.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this is psuedo code. don&#39;t run it</span></span>
<span id="cb47-2"><a href="count-analysis.html#cb47-2" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="count-analysis.html#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(variable comparison value)</span>
<span id="cb47-4"><a href="count-analysis.html#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="count-analysis.html#cb47-5" aria-hidden="true" tabindex="-1"></a><span class="co"># example</span></span>
<span id="cb47-6"><a href="count-analysis.html#cb47-6" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb47-7"><a href="count-analysis.html#cb47-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(performer <span class="sc">==</span> <span class="st">&quot;Judas Priest&quot;</span>)</span></code></pre></div>
<p>The <code>filter()</code> function typically works in this order:</p>
<ul>
<li>What is the variable (or column) you are searching in.</li>
<li>What is the comparison you want to do. Equal to? Greater than?</li>
<li>What is the observation (or value in the data) you are looking for?</li>
</ul>
<p>Note the two equals signs <code>==</code> in our Judas Priest example above. It’s important to use two of them when you are looking for “equals,” as a single <code>=</code> will not work, as that means something else in R.</p>
<div id="comparisons-logical-tests" class="section level4" number="4.6.1.1">
<h4><span class="header-section-number">4.6.1.1</span> Comparisons: Logical tests</h4>
<p>There are a number of these logical test for the comparison:</p>
<table>
<thead>
<tr class="header">
<th align="left">Operator</th>
<th align="left">Definition</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">x <strong>&lt;</strong> y</td>
<td align="left">Less than</td>
</tr>
<tr class="even">
<td align="left">x <strong>&gt;</strong> y</td>
<td align="left">Greater than</td>
</tr>
<tr class="odd">
<td align="left">x <strong>==</strong> y</td>
<td align="left">Equal to</td>
</tr>
<tr class="even">
<td align="left">x <strong>&lt;=</strong> y</td>
<td align="left">Less than or equal to</td>
</tr>
<tr class="odd">
<td align="left">x <strong>&gt;=</strong> y</td>
<td align="left">Greater than or equal to</td>
</tr>
<tr class="even">
<td align="left">x <strong>!-</strong> y</td>
<td align="left">Not equal to</td>
</tr>
<tr class="odd">
<td align="left">x <strong>%in%</strong> c(y,z)</td>
<td align="left">In a group</td>
</tr>
<tr class="even">
<td align="left"><strong>is.na(</strong>x<strong>)</strong></td>
<td align="left">Is NA</td>
</tr>
<tr class="odd">
<td align="left"><strong>!is.na(</strong>x<strong>)</strong></td>
<td align="left">Is not NA</td>
</tr>
</tbody>
</table>
<p>Where you apply a filter matters. If we filter before group by/summarize/arrange (GSA) we are focusing the data before we summarize. If we filter after the GSA, we are affecting only the results of the summarize function, which is what we want to do here.</p>
</div>
<div id="filter-to-a-logical-cutoff" class="section level4" number="4.6.1.2">
<h4><span class="header-section-number">4.6.1.2</span> Filter to a logical cutoff</h4>
<p>In this case, I want you to use filter <em>after</em> the GSA actions to include <strong>only results with 65 or more appearances</strong>.</p>
<ol style="list-style-type: decimal">
<li>Edit your current chunk to add a filter as noted in the example below. I’ll explain it afte.</li>
</ol>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="count-analysis.html#cb48-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span></span>
<span id="cb48-2"><a href="count-analysis.html#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer, song) <span class="sc">%&gt;%</span></span>
<span id="cb48-3"><a href="count-analysis.html#cb48-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">appearances =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb48-4"><a href="count-analysis.html#cb48-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(appearances <span class="sc">%&gt;%</span> <span class="fu">desc</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb48-5"><a href="count-analysis.html#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(appearances <span class="sc">&gt;=</span> <span class="dv">65</span>) <span class="co"># this is the new line</span></span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;performer&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 9 × 3
## # Groups:   performer [9]
##   performer                                 song                     appearances
##   &lt;chr&gt;                                     &lt;chr&gt;                          &lt;int&gt;
## 1 Imagine Dragons                           Radioactive                       87
## 2 AWOLNATION                                Sail                              79
## 3 Jason Mraz                                I&#39;m Yours                         76
## 4 The Weeknd                                Blinding Lights                   76
## 5 LeAnn Rimes                               How Do I Live                     69
## 6 LMFAO Featuring Lauren Bennett &amp; GoonRock Party Rock Anthem                 68
## 7 OneRepublic                               Counting Stars                    68
## 8 Adele                                     Rolling In The Deep               65
## 9 Jewel                                     Foolish Games/You Were …          65</code></pre>
<p>Let’s break down that last line:</p>
<ul>
<li><code>filter()</code> is the function.</li>
<li>The first argument in the function is the column we are looking in, <code>appearances</code> in our case.</li>
<li>We then provide a comparison operator <code>&gt;=</code> to get “greater than or equal to.”</li>
<li>We then give the value to compare, <code>65</code> in our case.</li>
</ul>
</div>
</div>
</div>
<div id="songperformer-with-most-weeks-at-no.-1" class="section level2" number="4.7">
<h2><span class="header-section-number">4.7</span> Song/Performer with most weeks at No. 1</h2>
<p>We introduced <code>filter()</code> in rhe last quest to limit the summary. For this quest you’ll need to filter the data <em>before</em> the group by/summarize/arrange trio.</p>
<p>Let’s review the quest: <strong>Which performer/song combination was No. 1 for the most number of weeks?</strong></p>
<p>While this quest is very similar to the one above, it <em>really</em> helps to think about the logic of what you nneed and then build the query one line at a time to make each line works.</p>
<p>Let’s talk through the logic:</p>
<ul>
<li>We are starting with our <code>hot100</code> data.</li>
<li>Do we want to consider all the data? In this case, no: We only want songs that have a <code>week_position</code> of 1. This means we will <strong>filter</strong> before any summarizing.</li>
<li>Then we want to count the number of rows with the same <strong>performer</strong> and <strong>song</strong> combinations. This means we need to <code>group_by</code> both <code>performer</code> and <code>song</code>.</li>
<li>Since we are <strong>counting row</strong>, we need use <code>n()</code> as our summarize function, which counts the <strong>number</strong> or rows in each group.</li>
</ul>
<p>So let’s step through this with code:</p>
<ol style="list-style-type: decimal">
<li>Create a section with a headline, text and code chunk</li>
<li>Start with the <code>hot100</code> data and then pipe into <code>filter()</code>.</li>
<li>Within the filter, set the <code>week_position</code> to be <code>==</code> to <code>1</code>.</li>
<li>Run the result and check it</li>
</ol>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="count-analysis.html#cb51-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="count-analysis.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(week_position <span class="sc">==</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3,279 × 7
##    week_id    week_position song      performer   previous_week_p… peak_position
##    &lt;date&gt;             &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
##  1 1958-08-02             1 Poor Lit… Ricky Nels…               NA             1
##  2 1958-08-09             1 Poor Lit… Ricky Nels…                1             1
##  3 1958-08-16             1 Nel Blu … Domenico M…                2             1
##  4 1958-08-23             1 Little S… The Elegan…                2             1
##  5 1958-08-30             1 Nel Blu … Domenico M…                2             1
##  6 1958-09-06             1 Nel Blu … Domenico M…                1             1
##  7 1958-09-13             1 Nel Blu … Domenico M…                1             1
##  8 1958-09-20             1 Nel Blu … Domenico M…                1             1
##  9 1958-09-27             1 It&#39;s All… Tommy Edwa…                3             1
## 10 1958-10-04             1 It&#39;s All… Tommy Edwa…                1             1
## # … with 3,269 more rows, and 1 more variable: weeks_on_chart &lt;dbl&gt;</code></pre>
<p>The result should show <em>only</em> songs with a <code>1</code> for <code>week_position</code>.</p>
<p>The rest of our logic is just like our last quest. We need to group by the <code>song</code> and <code>performer</code> and then <code>summarize</code> using <code>n()</code> to count the rows.</p>
<ol style="list-style-type: decimal">
<li>Edit your existing chunk to add the <code>group_by</code> and <code>summarize</code> functions. Name your new column <code>appearances</code> and set it to count the rows with <code>n()</code>.</li>
</ol>
<blockquote>
<p>While I say to write and run your code one line at a time, <code>group_by()</code> won’t actually show you any different results, so I usually write <code>group_by()</code> and <code>summarize()</code> together.</p>
</blockquote>
<detail>
<summary>
Try this on your own before you peek
</summary>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="count-analysis.html#cb53-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="count-analysis.html#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(week_position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb53-3"><a href="count-analysis.html#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer, song) <span class="sc">%&gt;%</span></span>
<span id="cb53-4"><a href="count-analysis.html#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">appearances =</span> <span class="fu">n</span>())</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;performer&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 1,124 × 3
## # Groups:   performer [744]
##    performer                          song                           appearances
##    &lt;chr&gt;                              &lt;chr&gt;                                &lt;int&gt;
##  1 ? (Question Mark) &amp; The Mysterians 96 Tears                                 1
##  2 &#39;N Sync                            It&#39;s Gonna Be Me                         2
##  3 24kGoldn Featuring iann dior       Mood                                     8
##  4 2Pac Featuring K-Ci And JoJo       How Do U Want It/California L…           2
##  5 50 Cent                            In Da Club                               9
##  6 50 Cent Featuring Nate Dogg        21 Questions                             4
##  7 50 Cent Featuring Olivia           Candy Shop                               9
##  8 6ix9ine &amp; Nicki Minaj              Trollz                                   1
##  9 A Taste Of Honey                   Boogie Oogie Oogie                       3
## 10 a-ha                               Take On Me                               1
## # … with 1,114 more rows</code></pre>
<p></detail></p>
<p>Look at your results to make sure you have the three columns you expect: performer, song and appearances.</p>
<p>This doesn’t quite get us where we want because it is alphabetically by the perfomer. You need to <strong>arrange</strong> the data to show us the most appearances at the top.</p>
<ol style="list-style-type: decimal">
<li>Edit your chunk to add the <code>arrange()</code> function to sort by <code>appearances</code> in <code>desc()</code> order. This is just like our last quest.</li>
</ol>
<detail>
<summary>
Maybe check your last chunk on how you did this
</summary>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="count-analysis.html#cb56-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span></span>
<span id="cb56-2"><a href="count-analysis.html#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(week_position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb56-3"><a href="count-analysis.html#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer, song) <span class="sc">%&gt;%</span></span>
<span id="cb56-4"><a href="count-analysis.html#cb56-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">appearances =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb56-5"><a href="count-analysis.html#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(appearances <span class="sc">%&gt;%</span> <span class="fu">desc</span>())</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;performer&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 1,124 × 3
## # Groups:   performer [744]
##    performer                                         song            appearances
##    &lt;chr&gt;                                             &lt;chr&gt;                 &lt;int&gt;
##  1 Lil Nas X Featuring Billy Ray Cyrus               Old Town Road            19
##  2 Luis Fonsi &amp; Daddy Yankee Featuring Justin Bieber Despacito                16
##  3 Mariah Carey &amp; Boyz II Men                        One Sweet Day            16
##  4 Boyz II Men                                       I&#39;ll Make Love…          14
##  5 Elton John                                        Candle In The …          14
##  6 Los Del Rio                                       Macarena (Bays…          14
##  7 Mariah Carey                                      We Belong Toge…          14
##  8 Mark Ronson Featuring Bruno Mars                  Uptown Funk!             14
##  9 The Black Eyed Peas                               I Gotta Feeling          14
## 10 Whitney Houston                                   I Will Always …          14
## # … with 1,114 more rows</code></pre>
<p></detail></p>
<p>You have your answer now (you go, Lil Nas) but we are listing more than 1,000 rows. Let’s cut this off at a logical place like we did in our last quest.</p>
<ol style="list-style-type: decimal">
<li>Use <code>filter()</code> to cut your summary off at <code>appearances</code> of 14 or greater.</li>
</ol>
<detail>
<summary>
You’ve done this before … try it on your own!
</summary>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="count-analysis.html#cb59-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="count-analysis.html#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(week_position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb59-3"><a href="count-analysis.html#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer, song) <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="count-analysis.html#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">appearances =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb59-5"><a href="count-analysis.html#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(appearances <span class="sc">%&gt;%</span> <span class="fu">desc</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb59-6"><a href="count-analysis.html#cb59-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(appearances <span class="sc">&gt;=</span> <span class="dv">14</span>)</span></code></pre></div>
<pre><code>## `summarise()` has grouped output by &#39;performer&#39;. You can override using the `.groups` argument.</code></pre>
<pre><code>## # A tibble: 10 × 3
## # Groups:   performer [10]
##    performer                                         song            appearances
##    &lt;chr&gt;                                             &lt;chr&gt;                 &lt;int&gt;
##  1 Lil Nas X Featuring Billy Ray Cyrus               Old Town Road            19
##  2 Luis Fonsi &amp; Daddy Yankee Featuring Justin Bieber Despacito                16
##  3 Mariah Carey &amp; Boyz II Men                        One Sweet Day            16
##  4 Boyz II Men                                       I&#39;ll Make Love…          14
##  5 Elton John                                        Candle In The …          14
##  6 Los Del Rio                                       Macarena (Bays…          14
##  7 Mariah Carey                                      We Belong Toge…          14
##  8 Mark Ronson Featuring Bruno Mars                  Uptown Funk!             14
##  9 The Black Eyed Peas                               I Gotta Feeling          14
## 10 Whitney Houston                                   I Will Always …          14</code></pre>
<p></detail></p>
<p>Now you have the answers to the performer/song with the most weeks at No. 1 with a logical cutoff. If you add to the data, that logic will still hold and not cut off arbitrarily at a certain number of records.</p>
</div>
<div id="performer-with-most-songs-to-reach-no.-1" class="section level2" number="4.8">
<h2><span class="header-section-number">4.8</span> Performer with most songs to reach No. 1</h2>
<p>Our new quest is this: <strong>Which performer had the most songs reach No. 1?</strong> The answer might be easier to guess if you know music history, but perhaps not.</p>
<p>This sounds similar to our last quest, but there is a <strong>distinct</strong> difference. (That’s a bad joke that will reveal itself here in a bit.)</p>
<p>Again, let’s think through the logic of what we have to do to get our answer:</p>
<ul>
<li>We need to consider only No. 1 songs. (filter!)</li>
<li>Because a song could be No. 1 for more than one week, we need to consider the same song/performer combination only once. (We’ll introduce a new function for this.)</li>
<li>Once we have all the unique No. 1 songs in a list, then we can group by <strong>performer</strong> and count how many times many times they are on the list.</li>
</ul>
<p>Let’s start by getting the No. 1 songs. You’ve did this in the last quest.</p>
<ol style="list-style-type: decimal">
<li>Create a new section with a headline, text and code chunk.</li>
<li>Start with the <code>hot100</code> data and filter it so you only have <code>week_position</code> of 1.</li>
</ol>
<detail>
<summary>
<p>Try on your own. You got this!&lt;/summary.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="count-analysis.html#cb62-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb62-2"><a href="count-analysis.html#cb62-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(week_position <span class="sc">==</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3,279 × 7
##    week_id    week_position song      performer   previous_week_p… peak_position
##    &lt;date&gt;             &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt;
##  1 1958-08-02             1 Poor Lit… Ricky Nels…               NA             1
##  2 1958-08-09             1 Poor Lit… Ricky Nels…                1             1
##  3 1958-08-16             1 Nel Blu … Domenico M…                2             1
##  4 1958-08-23             1 Little S… The Elegan…                2             1
##  5 1958-08-30             1 Nel Blu … Domenico M…                2             1
##  6 1958-09-06             1 Nel Blu … Domenico M…                1             1
##  7 1958-09-13             1 Nel Blu … Domenico M…                1             1
##  8 1958-09-20             1 Nel Blu … Domenico M…                1             1
##  9 1958-09-27             1 It&#39;s All… Tommy Edwa…                3             1
## 10 1958-10-04             1 It&#39;s All… Tommy Edwa…                1             1
## # … with 3,269 more rows, and 1 more variable: weeks_on_chart &lt;dbl&gt;</code></pre>
<p></detail></p>
<p>Now look at the result. Note how “Poor Little Fool” shows up more than once? Other songs to as well. If we counted rows by <code>performer</code> now, we could count that song more than once. That’s not what we want.</p>
<div id="using-distinct" class="section level3" number="4.8.1">
<h3><span class="header-section-number">4.8.1</span> Using distinct()</h3>
<p>Our next challenge in our logic is to show only unique performer/song combinations. We do this with <a href="https://dplyr.tidyverse.org/reference/distinct.html"><code>distinct()</code></a>.</p>
<p>We feed the <code>distinct()</code> function with the variables we want to consider together, in our case the <code>perfomer</code> and <code>song</code>. All other columns are dropped since including them would mess up their distinctness.</p>
<ol style="list-style-type: decimal">
<li>Add the distinct() function to your code chunk.</li>
</ol>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="count-analysis.html#cb64-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb64-2"><a href="count-analysis.html#cb64-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(week_position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb64-3"><a href="count-analysis.html#cb64-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(song, performer)</span></code></pre></div>
<pre><code>## # A tibble: 1,124 × 2
##    song                            performer                       
##    &lt;chr&gt;                           &lt;chr&gt;                           
##  1 Poor Little Fool                Ricky Nelson                    
##  2 Nel Blu Dipinto Di Blu (Volaré) Domenico Modugno                
##  3 Little Star                     The Elegants                    
##  4 It&#39;s All In The Game            Tommy Edwards                   
##  5 It&#39;s Only Make Believe          Conway Twitty                   
##  6 Tom Dooley                      The Kingston Trio               
##  7 To Know Him, Is To Love Him     The Teddy Bears                 
##  8 The Chipmunk Song               The Chipmunks With David Seville
##  9 Smoke Gets In Your Eyes         The Platters                    
## 10 Stagger Lee                     Lloyd Price                     
## # … with 1,114 more rows</code></pre>
<p>Now we have a list of just No. 1 songs!</p>
</div>
<div id="summarize-the-performers" class="section level3" number="4.8.2">
<h3><span class="header-section-number">4.8.2</span> Summarize the performers</h3>
<p>Now that we have our list of No. 1 songs, we can “count” the number of times a performer is in the list to know how many No. 1 songs they have.</p>
<p>We’ll again use the group_by/summarize combination for this, but we are only grouping by <code>performer</code> since that is what we are counting.</p>
<ol style="list-style-type: decimal">
<li>Edit your chunk to add a group_by on <code>performer</code> and then a <code>summarize()</code> to count the rows. Name the new column <code>no_hits</code>. Run it.</li>
<li>After you are sure the group_by/summarize runs, add an <code>arrange()</code> to show the <code>no1_hits</code> in descending order.</li>
</ol>
<detail>
<summary>
You’ve done this. Give it ago!
</summary>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="count-analysis.html#cb66-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb66-2"><a href="count-analysis.html#cb66-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(week_position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb66-3"><a href="count-analysis.html#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(song, performer) <span class="sc">%&gt;%</span></span>
<span id="cb66-4"><a href="count-analysis.html#cb66-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer) <span class="sc">%&gt;%</span></span>
<span id="cb66-5"><a href="count-analysis.html#cb66-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">no1_hits =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb66-6"><a href="count-analysis.html#cb66-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(no1_hits <span class="sc">%&gt;%</span> <span class="fu">desc</span>())</span></code></pre></div>
<pre><code>## # A tibble: 744 × 2
##    performer          no1_hits
##    &lt;chr&gt;                 &lt;int&gt;
##  1 The Beatles              19
##  2 Mariah Carey             16
##  3 Madonna                  12
##  4 Michael Jackson          11
##  5 Whitney Houston          11
##  6 The Supremes             10
##  7 Bee Gees                  9
##  8 The Rolling Stones        8
##  9 Janet Jackson             7
## 10 Stevie Wonder             7
## # … with 734 more rows</code></pre>
<p></detail></p>
</div>
<div id="filter-for-a-good-cutoff" class="section level3" number="4.8.3">
<h3><span class="header-section-number">4.8.3</span> Filter for a good cutoff</h3>
<p>Like we did earlier, use a <code>filter()</code> after your arrange to cut the list off at a logical place.</p>
<ol style="list-style-type: decimal">
<li>Edit your chunk to filter the summary to show performer with <code>8</code> or more No. 1 hits.</li>
</ol>
<detail>
<summary>
You can do this. Really
</summary>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="count-analysis.html#cb68-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb68-2"><a href="count-analysis.html#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(week_position <span class="sc">==</span> <span class="dv">1</span>) <span class="sc">%&gt;%</span></span>
<span id="cb68-3"><a href="count-analysis.html#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(song, performer) <span class="sc">%&gt;%</span></span>
<span id="cb68-4"><a href="count-analysis.html#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer) <span class="sc">%&gt;%</span></span>
<span id="cb68-5"><a href="count-analysis.html#cb68-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">no1_hits =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb68-6"><a href="count-analysis.html#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(no1_hits <span class="sc">%&gt;%</span> <span class="fu">desc</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb68-7"><a href="count-analysis.html#cb68-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(no1_hits <span class="sc">&gt;=</span> <span class="dv">8</span>)</span></code></pre></div>
<pre><code>## # A tibble: 8 × 2
##   performer          no1_hits
##   &lt;chr&gt;                 &lt;int&gt;
## 1 The Beatles              19
## 2 Mariah Carey             16
## 3 Madonna                  12
## 4 Michael Jackson          11
## 5 Whitney Houston          11
## 6 The Supremes             10
## 7 Bee Gees                  9
## 8 The Rolling Stones        8</code></pre>
<p></detail></p>
</div>
</div>
<div id="no.-1-hits-in-last-five-years" class="section level2" number="4.9">
<h2><span class="header-section-number">4.9</span> No. 1 hits in last five years</h2>
<p>Which performer had the most songs reach No. 1 in the most recent five years?</p>
<p>Let’s talk through the logic. This is very similar to the No. 1 hits above but with two differences:</p>
<ul>
<li>In addition to filtering for No. 1 songs, we also want to filter for songs in 2016-2020.</li>
<li>We might need to adjust our last filter for a better “break point.”</li>
</ul>
<p>We haven’t talked about filtering dates, so let me tell you this: You can use filter operations on dates just like you do any other text. This will give you rows <em>after</em> 2015.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="count-analysis.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(week_id <span class="sc">&gt;</span> <span class="st">&quot;2015-12-31&quot;</span>)</span></code></pre></div>
<p>But since we need this filter before our group, we can do this within the same filter function where we get the number one songs.</p>
<ol style="list-style-type: decimal">
<li>Create a new section (headline, text, chunk).</li>
<li>Build (from scratch) the same filter, group_by, summarize and arrange as above, but leave out the cut-off filter at the end. (We’ll need to adjust that based on the results). Make sure it runs.</li>
<li>EDIT your filter to put a comma after <code>week_position == 1</code> and then add this filter: <code>week_id &gt; "2015-12-31"</code>. Run the code.</li>
<li>Build a new cut-off filter at the end keep only rows with more than 1 <code>top_hits</code>.</li>
</ol>
<details>
<summary>
No, really. Try it on your own first.
</summary>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="count-analysis.html#cb71-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href="count-analysis.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb71-3"><a href="count-analysis.html#cb71-3" aria-hidden="true" tabindex="-1"></a>    week_position <span class="sc">==</span> <span class="dv">1</span>,</span>
<span id="cb71-4"><a href="count-analysis.html#cb71-4" aria-hidden="true" tabindex="-1"></a>    week_id <span class="sc">&gt;</span> <span class="st">&quot;2015-12-31&quot;</span></span>
<span id="cb71-5"><a href="count-analysis.html#cb71-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb71-6"><a href="count-analysis.html#cb71-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>(song, performer) <span class="sc">%&gt;%</span> </span>
<span id="cb71-7"><a href="count-analysis.html#cb71-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(performer) <span class="sc">%&gt;%</span> </span>
<span id="cb71-8"><a href="count-analysis.html#cb71-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">top_hits =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb71-9"><a href="count-analysis.html#cb71-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(top_hits <span class="sc">%&gt;%</span> <span class="fu">desc</span>()) <span class="sc">%&gt;%</span> </span>
<span id="cb71-10"><a href="count-analysis.html#cb71-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(top_hits <span class="sc">&gt;</span> <span class="dv">1</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 2
##    performer      top_hits
##    &lt;chr&gt;             &lt;int&gt;
##  1 Drake                 5
##  2 Ariana Grande         3
##  3 Taylor Swift          3
##  4 BTS                   2
##  5 Cardi B               2
##  6 Ed Sheeran            2
##  7 Justin Bieber         2
##  8 Olivia Rodrigo        2
##  9 The Weeknd            2
## 10 Travis Scott          2</code></pre>
</details>
</div>
<div id="top-10-hits-overall" class="section level2" number="4.10">
<h2><span class="header-section-number">4.10</span> Top 10 hits overall</h2>
<p>Which performer had the most Top 10 hits overall?</p>
<p>This one I want you to do on your own.</p>
<p>The logic is very similar to the “Most No. 1 hits” quest you did before, but you need to adjust your filter to find songs within position 1 through 10. Don’t overthink it, but do recognize that the “top” of the charts are smaller numbers, not larger ones.</p>
<ol style="list-style-type: decimal">
<li>Make a new section</li>
<li>Describe what you are doing</li>
<li>Do it using the group_by/summarize method</li>
<li>Filter to cut off at a logical number or rows. (i.e., don’t stop at a tie)</li>
</ol>
<div id="a-shortcut-count" class="section level3" number="4.10.1">
<h3><span class="header-section-number">4.10.1</span> A shortcut: count()</h3>
<p>You are going to think I’m a horrible person, but there is an easier way to do this …</p>
<p>We count stuff in data science (and journalism) all the time. Because of this tidyverse has a shortcut to group and count rows of data. I needed to show you the long way because a) we will use <code>group_by()</code> and <code>summarize()</code> with other math that isn’t just counting rows, and b) you need to understand what is happening when you use <code>count()</code>, which is really just using group_by/summarize underneath.</p>
<p>The <a href="https://dplyr.tidyverse.org/reference/count.html"><code>count()</code></a> function takes the columns you want to group and then does the summarize on <code>n()</code> for you:</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="count-analysis.html#cb73-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb73-2"><a href="count-analysis.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(performer)</span></code></pre></div>
<pre><code>## # A tibble: 10,061 × 2
##    performer                                n
##    &lt;chr&gt;                                &lt;int&gt;
##  1 &quot;? (Question Mark) &amp; The Mysterians&quot;    33
##  2 &quot;&#39;N Sync&quot;                              172
##  3 &quot;&#39;N Sync &amp; Gloria Estefan&quot;              20
##  4 &quot;&#39;N Sync Featuring Nelly&quot;               20
##  5 &quot;&#39;Til Tuesday&quot;                          53
##  6 &quot;\&quot;Groove\&quot; Holmes&quot;                     14
##  7 &quot;\&quot;Little\&quot; Jimmy Dickens&quot;              10
##  8 &quot;\&quot;Pookie\&quot; Hudson&quot;                      1
##  9 &quot;\&quot;Weird Al\&quot; Yankovic&quot;                 91
## 10 &quot;(+44)&quot;                                  1
## # … with 10,051 more rows</code></pre>
<p>To get the same pretty table you still have to rename the new column and reverse the sort, you just do it differently as arguments within the <code>count()</code> function. You can view the <a href="https://dplyr.tidyverse.org/reference/count.html"><code>count()</code> options here.</a></p>
<ul>
<li>Add this chunk to your notebook (with a note you are trying <code>count()</code>) so you have it to refer to.</li>
</ul>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="count-analysis.html#cb75-1" aria-hidden="true" tabindex="-1"></a>hot100 <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="count-analysis.html#cb75-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(performer, <span class="at">name =</span> <span class="st">&quot;appearances&quot;</span>, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb75-3"><a href="count-analysis.html#cb75-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(appearances <span class="sc">&gt;</span> <span class="dv">600</span>)</span></code></pre></div>
<pre><code>## # A tibble: 13 × 2
##    performer       appearances
##    &lt;chr&gt;                 &lt;int&gt;
##  1 Taylor Swift           1022
##  2 Elton John              889
##  3 Madonna                 857
##  4 Kenny Chesney           758
##  5 Drake                   746
##  6 Tim McGraw              731
##  7 Keith Urban             673
##  8 Stevie Wonder           659
##  9 Rod Stewart             657
## 10 Mariah Carey            621
## 11 Michael Jackson         611
## 12 Chicago                 607
## 13 Rascal Flatts           604</code></pre>
<p>So you have to do the same things here as in our first quest, but when you just need a quick count to get an answer, then <code>count()</code> is brilliant.</p>
<blockquote>
<p>IMPORTANT: We concentrate on using group_by/summarize/arrange because it can do so much more than <code>count()</code>. Count can ONLY count rows. It can’t do any other kind of math in summarize.</p>
</blockquote>
</div>
<div id="complex-filters" class="section level3" number="4.10.2">
<h3><span class="header-section-number">4.10.2</span> Complex filters</h3>
<p>Don’t do these, but you’ll need them for reference later:</p>
<p>If you want filter data for multiple criteria, you can write two equations and combine with <code>&amp;</code>. Only rows with both sides being true are returned.</p>
<div class="sourceCode" id="cb77"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb77-1"><a href="count-analysis.html#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gives you only Poor Little Fool rows where song is No. 1, but not any other position</span></span>
<span id="cb77-2"><a href="count-analysis.html#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(song <span class="sc">==</span> <span class="st">&quot;Poor Little Fool&quot;</span> <span class="sc">&amp;</span> week_position <span class="sc">==</span> <span class="dv">1</span>)</span></code></pre></div>
<p>If you want an “or” filter, then you write two equations with a <code>|</code> between them.</p>
<blockquote>
<p><code>|</code> is the <em>Shift</em> of the <code>\</code> key above Return on your keyboard. That <code>|</code> character is also sometimes called a “pipe,” which gets confusing in R with <code>%&gt;%</code>.)</p>
</blockquote>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="count-analysis.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gives you Taylor or Drake songs</span></span>
<span id="cb78-2"><a href="count-analysis.html#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(performer <span class="sc">==</span> <span class="st">&quot;Taylor Swift&quot;</span> <span class="sc">|</span> performer <span class="sc">==</span> <span class="st">&quot;Drake&quot;</span>)</span></code></pre></div>
<p>If you have multiple criteria, you separate them with a comma <code>,</code>. Note I’ve also added returns to make it more readable.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="count-analysis.html#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="co"># gives us rows with either Taylor Swift or Drake, but only those at No. 1</span></span>
<span id="cb79-2"><a href="count-analysis.html#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(</span>
<span id="cb79-3"><a href="count-analysis.html#cb79-3" aria-hidden="true" tabindex="-1"></a>  performer <span class="sc">==</span> <span class="st">&quot;Taylor Swift&quot;</span> <span class="sc">|</span> performer <span class="sc">==</span> <span class="st">&quot;Drake&quot;</span>,</span>
<span id="cb79-4"><a href="count-analysis.html#cb79-4" aria-hidden="true" tabindex="-1"></a>  week_position <span class="sc">==</span> <span class="dv">1</span></span>
<span id="cb79-5"><a href="count-analysis.html#cb79-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</div>
</div>
<div id="review-of-what-weve-learned" class="section level2" number="4.11">
<h2><span class="header-section-number">4.11</span> Review of what we’ve learned</h2>
<p>We introduced a number of new functions in this lesson, most of them from the <a href="https://dplyr.tidyverse.org/">dplyr</a> package. Mostly we filtered and summarized our data. Here are the functions we introduced in this chapter, many with links to documentation:</p>
<ul>
<li><a href="https://dplyr.tidyverse.org/reference/filter.html"><code>filter()</code></a> returns only rows that meet logical criteria you specify.</li>
<li><a href="https://dplyr.tidyverse.org/reference/summarise.html"><code>summarize()</code></a> builds a summary table <em>about</em> your data. You can count rows <a href="https://dplyr.tidyverse.org/reference/n.html"><code>n()</code></a> or do math on numerical values, like <code>mean()</code>.</li>
<li><a href="https://dplyr.tidyverse.org/reference/group_by.html"><code>group_by()</code></a> is often used with <code>summarize()</code> to put data into groups before building a summary table based on the groups.</li>
<li><a href="https://dplyr.tidyverse.org/reference/distinct.html"><code>distinct()</code></a> returns rows based on unique values in columns you specify. i.e., it deduplicates data.</li>
<li><a href="https://dplyr.tidyverse.org/reference/count.html"><code>count()</code></a> is a shorthand for the group_by/summarize operation to count rows based on groups. You can name your summary columns and sort the data within the same function.</li>
</ul>
</div>
<div id="turn-in-your-project" class="section level2" number="4.12">
<h2><span class="header-section-number">4.12</span> Turn in your project</h2>
<ol style="list-style-type: decimal">
<li>Make sure everything runs properly (Restart R and Run All Chunks) and then Knit to HTML.</li>
<li>Zip the folder.</li>
<li>Upload to the Canvas assignment.</li>
</ol>
</div>
<div id="soundtrack-for-this-assignment" class="section level2" number="4.13">
<h2><span class="header-section-number">4.13</span> Soundtrack for this assignment</h2>
<p>This lesson was constructed with the vibes of <a href="https://www.thebrightlightsocialhour.com/home">The Bright Light Social Hour</a>. They’ve never had a song on the Hot 100 (at least not through 2020).</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="counts-import.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sums-import.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-counts-analysis.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>

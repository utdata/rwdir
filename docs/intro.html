<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.542">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Reporting with Data in R - 2&nbsp; Introduction to R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./billboard-cleaning.html" rel="next">
<link href="./install.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./intro.html"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to R</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Reporting with Data in R</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About this book</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./install.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Install Party</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to R</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Counting</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./billboard-cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Billboard Cleaning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./billboard-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Billboard Analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Summing</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./leso-cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Military Surplus Cleaning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./leso-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Military Surplus Analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Visualization</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./plots.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Intro to ggplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./plots-more.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Deeper into ggplot</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidy-data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Tidy data</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true">
 <span class="menu-text">Bind &amp; Join</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./denied-cleaning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Denied Cleaning</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./denied-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Denied Analysis</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true">
 <span class="menu-text">Extras</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./group-dates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Grouping by dates</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./count.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">Counting shortcuts</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./case-when.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Using case_when</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tidycensus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">tidycensus</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./git.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Using git</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./posit-cloud.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Using posit.cloud</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./functions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">R Functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./troubleshooting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Troubleshooting</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./getting-help.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Asking for help</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./explore.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Exploring a new dataset</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./charts-tips.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Chart production tips</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#about-quarto-r-and-scripted-journalism" id="toc-about-quarto-r-and-scripted-journalism" class="nav-link active" data-scroll-target="#about-quarto-r-and-scripted-journalism"><span class="header-section-number">2.1</span> About Quarto, R and scripted journalism</a></li>
  <li><a href="#rstudio-tour" id="toc-rstudio-tour" class="nav-link" data-scroll-target="#rstudio-tour"><span class="header-section-number">2.2</span> RStudio tour</a></li>
  <li><a href="#updating-preferences" id="toc-updating-preferences" class="nav-link" data-scroll-target="#updating-preferences"><span class="header-section-number">2.3</span> Updating preferences</a></li>
  <li><a href="#the-r-package-environment" id="toc-the-r-package-environment" class="nav-link" data-scroll-target="#the-r-package-environment"><span class="header-section-number">2.4</span> The R Package environment</a>
  <ul class="collapse">
  <li><a href="#how-we-use-packages" id="toc-how-we-use-packages" class="nav-link" data-scroll-target="#how-we-use-packages"><span class="header-section-number">2.4.1</span> How we use packages</a></li>
  <li><a href="#install-some-packages" id="toc-install-some-packages" class="nav-link" data-scroll-target="#install-some-packages"><span class="header-section-number">2.4.2</span> Install some packages</a></li>
  </ul></li>
  <li><a href="#starting-a-new-quarto-website" id="toc-starting-a-new-quarto-website" class="nav-link" data-scroll-target="#starting-a-new-quarto-website"><span class="header-section-number">2.5</span> Starting a new Quarto Website</a>
  <ul class="collapse">
  <li><a href="#the-files-pane" id="toc-the-files-pane" class="nav-link" data-scroll-target="#the-files-pane"><span class="header-section-number">2.5.1</span> The files pane</a></li>
  </ul></li>
  <li><a href="#the-quarto-document" id="toc-the-quarto-document" class="nav-link" data-scroll-target="#the-quarto-document"><span class="header-section-number">2.6</span> The Quarto document</a>
  <ul class="collapse">
  <li><a href="#render-the-document" id="toc-render-the-document" class="nav-link" data-scroll-target="#render-the-document"><span class="header-section-number">2.6.1</span> Render the document</a></li>
  <li><a href="#the-metadata" id="toc-the-metadata" class="nav-link" data-scroll-target="#the-metadata"><span class="header-section-number">2.6.2</span> The metadata</a></li>
  <li><a href="#r-code-chunks" id="toc-r-code-chunks" class="nav-link" data-scroll-target="#r-code-chunks"><span class="header-section-number">2.6.3</span> R code chunks</a></li>
  </ul></li>
  <li><a href="#lets-do-some-data-analysis" id="toc-lets-do-some-data-analysis" class="nav-link" data-scroll-target="#lets-do-some-data-analysis"><span class="header-section-number">2.7</span> Let’s do some data analysis</a>
  <ul class="collapse">
  <li><a href="#use-markdown-to-describe-thoughts-goals" id="toc-use-markdown-to-describe-thoughts-goals" class="nav-link" data-scroll-target="#use-markdown-to-describe-thoughts-goals"><span class="header-section-number">2.7.1</span> Use Markdown to describe thoughts, goals</a></li>
  <li><a href="#adding-new-code-chunks" id="toc-adding-new-code-chunks" class="nav-link" data-scroll-target="#adding-new-code-chunks"><span class="header-section-number">2.7.2</span> Adding new code chunks</a></li>
  <li><a href="#practice-adding-code-chunks" id="toc-practice-adding-code-chunks" class="nav-link" data-scroll-target="#practice-adding-code-chunks"><span class="header-section-number">2.7.3</span> Practice adding code chunks</a></li>
  <li><a href="#the-toolbar" id="toc-the-toolbar" class="nav-link" data-scroll-target="#the-toolbar"><span class="header-section-number">2.7.4</span> The toolbar</a></li>
  </ul></li>
  <li><a href="#a-quick-look-back-at-files" id="toc-a-quick-look-back-at-files" class="nav-link" data-scroll-target="#a-quick-look-back-at-files"><span class="header-section-number">2.8</span> A quick look back at files</a></li>
  <li><a href="#publish-to-quarto.pub" id="toc-publish-to-quarto.pub" class="nav-link" data-scroll-target="#publish-to-quarto.pub"><span class="header-section-number">2.9</span> Publish to quarto.pub</a></li>
  <li><a href="#on-your-own-update-the-about-page" id="toc-on-your-own-update-the-about-page" class="nav-link" data-scroll-target="#on-your-own-update-the-about-page"><span class="header-section-number">2.10</span> On your own: Update the About page</a></li>
  <li><a href="#turning-in-our-projects" id="toc-turning-in-our-projects" class="nav-link" data-scroll-target="#turning-in-our-projects"><span class="header-section-number">2.11</span> Turning in our projects</a>
  <ul class="collapse">
  <li><a href="#exporting-for-posit.cloud" id="toc-exporting-for-posit.cloud" class="nav-link" data-scroll-target="#exporting-for-posit.cloud"><span class="header-section-number">2.11.1</span> Exporting for posit.cloud</a></li>
  </ul></li>
  <li><a href="#review-of-what-weve-learned-so-far" id="toc-review-of-what-weve-learned-so-far" class="nav-link" data-scroll-target="#review-of-what-weve-learned-so-far"><span class="header-section-number">2.12</span> Review of what we’ve learned so far</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="intro" class="quarto-section-identifier"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Introduction to R</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="about-quarto-r-and-scripted-journalism" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="about-quarto-r-and-scripted-journalism"><span class="header-section-number">2.1</span> About Quarto, R and scripted journalism</h2>
<p>Before we dive into RStudio and programming and all that, I want to show you where we are heading, so you can “visualize success”. As I wrote in the book intro, I’m a believer in Scripted Journalism … data journalism that is repeatable, transparent and annotated. As such, the whole purpose of this book is to train you <strong>to create documents to share your work</strong>.</p>
<p>The best way to explain this is to show you an example.</p>
<ol type="1">
<li>Go to this link in a new browser window: <a href="https://christianmcdonald.quarto.pub/mls-salaries/">Major League Soccer salaries</a>.</li>
</ol>
<p>This is a website with all the code from a data journalism project. If you click on the navigation link for <a href="https://christianmcdonald.quarto.pub/mls-salaries/01-cleaning.html">Cleaning</a> you can read where the data come from and see all the steps I went through – with code and explanation – to process the data so I could work with it. And in the <a href="https://christianmcdonald.quarto.pub/mls-salaries/02-analysis.html">Analysis 2024</a> notebook you’ll see I set out with some questions for the data, and then I wrote the code to find my answers. Along with the way I wrote explanations of how and why I did what I did.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/mls-analysis.png" class="img-fluid figure-img"></p>
<figcaption>Quarto Pub page</figcaption>
</figure>
</div>
<p>This website was created using Quarto and R, and the tool I used to write it was the RStudio IDE. Here’s the crazy part: <strong>I didn’t have to write any HTML code,</strong> I just wrote my thoughts in text and my code in R. With a few short lines of configuration and a two-word command <code>quarto publish</code> I was able to publish my work on the Internet for free.</p>
<p>Keep this in mind:</p>
<ul>
<li>We can also easily publish the same work in other formats, like PDF, Word or even a slide show.</li>
<li>We can also choose NOT to “publish” our work. We don’t <em>have</em> to share our work on the internet, we are just ready if we want to.</li>
</ul>
<p>Creating shareable work is our goal <strong>for every project</strong>. Let’s get started.</p>
</section>
<section id="rstudio-tour" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="rstudio-tour"><span class="header-section-number">2.2</span> RStudio tour</h2>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you are using the online <strong>posit.cloud version of RStudio</strong>, then some steps have to be done differently, mainly in dealing with project creation and exporting. I’ll try to note when I’m aware of differences, but may not go into great detail in the book. Happy to do so in class.</p>
<p>In this case, you need go to your posit.cloud account and then use the blue <strong>New Project</strong> button to launch a new RStudio project, and then continue below.</p>
</div>
</div>
<p>When you launch RStudio, you’ll get a screen that looks like this (but without the pretty arrows):</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/intro-start.png" class="img-fluid figure-img"></p>
<figcaption>RStudio launch screen</figcaption>
</figure>
</div>
</section>
<section id="updating-preferences" class="level2" data-number="2.3">
<h2 data-number="2.3" class="anchored" data-anchor-id="updating-preferences"><span class="header-section-number">2.3</span> Updating preferences</h2>
<p>There are some preferences in RStudio that I would like you to change. By default, the program wants to save the state of your work (all the variables and such) when you close a project, <a href="https://www.r-bloggers.com/2017/04/using-r-dont-save-your-workspace/">but that is typically not good practice</a>. We’ll change that.</p>
<ol type="1">
<li>Go to the <strong>Tools</strong> menu and choose <strong>Global Options</strong>.</li>
<li>Under the <strong>General</strong> tab, uncheck the first four boxes.</li>
<li>On the option “Save Workspace to .Rdata on exit”, change that to <strong>Never</strong>.</li>
<li>Click <em>Apply</em> to save the change (but don’t close the box yet).</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/rstudio-prefs.png" class="img-fluid figure-img"></p>
<figcaption>RStudio preferences</figcaption>
</figure>
</div>
<p>Next we will set some values in the <strong>Code</strong> pane.</p>
<ol type="1">
<li>On the left options, click on the <strong>Code</strong> pane.</li>
<li>Check the box for <strong>Use native pipe operator, |&gt;</strong>.</li>
<li>Click <strong>OK</strong> to save and close the box.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/native_pipe_pref.png" class="img-fluid figure-img"></p>
<figcaption>Native pipe preference</figcaption>
</figure>
</div>
<p>We’ll get into why we did this part later.</p>
</section>
<section id="the-r-package-environment" class="level2" data-number="2.4">
<h2 data-number="2.4" class="anchored" data-anchor-id="the-r-package-environment"><span class="header-section-number">2.4</span> The R Package environment</h2>
<p>R is an open-source language, which means that other programmers can contribute to how it works. It is what makes R beautiful.</p>
<p>What happens is developers will find it difficult to do a certain task, so they will write code that solves that problem and save it into an R “package” so they can use it later. They share that code with the community, and suddenly the R garage has an <a href="https://youtu.be/Y1En6FKd5Pk?t=24">“ultimate set of tools”</a> that would make Spicoli’s dad proud.</p>
<p>One set of these tools is the <a href="https://www.tidyverse.org/">tidyverse</a> developed by Hadley Wickham and other developers at Posit. It’s a set of R packages for data science that are designed to work together in similar ways. Prof.&nbsp;Lukito and I are worshipers of the tidyverse worldview and we’ll use these tools extensively. While not required reading, I highly recommend Wickham’s book <a href="https://r4ds.hadley.nz/">R for Data Science</a>, which is free.</p>
<p>There are also a series of useful tidyverse <a href="https://posit.co/resources/cheatsheets/">cheatsheets</a> that can help you as you use the packages and functions from the tidyverse. We’ll refer to these throughout the course.</p>
<p>We will use these tidyverse packages extensively throughout the course. We’ll install some other packages later when we need them.</p>
<section id="how-we-use-packages" class="level3" data-number="2.4.1">
<h3 data-number="2.4.1" class="anchored" data-anchor-id="how-we-use-packages"><span class="header-section-number">2.4.1</span> How we use packages</h3>
<p>I’ll show you how in a sec, but know there are two steps to using an R package:</p>
<ul>
<li><strong>Install the package</strong> onto your computer by using <code>install.packages("package_name")</code>. You only have to do this once for each computer, so I usually do it using the R Console instead of in a notebook.</li>
<li><strong>Include the library</strong> using <code>library(package_name)</code>. This has to be done for each notebook or script that uses it, so it is usually one of the first things you’ll see in a notebook.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>We use “quotes” around the package name when we are installing, but we DON’T need quotes when we load the library.</p>
</div>
</div>
</section>
<section id="install-some-packages" class="level3" data-number="2.4.2">
<h3 data-number="2.4.2" class="anchored" data-anchor-id="install-some-packages"><span class="header-section-number">2.4.2</span> Install some packages</h3>
<p>We need to install some packages before we can go further. To do this, we will use the <strong>Console</strong>, which we haven’t talked about much yet.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/import-console.png" class="img-fluid figure-img"></p>
<figcaption>The Console and Terminal</figcaption>
</figure>
</div>
<ol type="1">
<li>Use the image above to orient yourself to the R Console and Terminal. (But note the code we use is a little different.)</li>
<li>Copy the code below and paste it into the Console, then hit <strong>Return</strong>.</li>
</ol>
<div class="sourceCode" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="fu">c</span>(<span class="st">"quarto"</span>, <span class="st">"rmarkdown"</span>, <span class="st">"tidyverse"</span>, <span class="st">"janitor"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You’ll see a bunch of response fly by in the Console. It’s probably all fine unless it ends the last response with an error.</p>
<p>If you are using the RStudio IDE app on your computer, you only have to use <code>install.packages()</code> on each package once. However, if you are using the online posit.cloud version of RStudio, you’ll have to do this for <strong>each new project</strong> because each project is a new virtual computer. I’ve included a <a href="./posit-cloud.html">posit.cloud cheetsheet here</a></p>
<!--
When you install the "tidyverse" package you actually get a bunch of individual packages. In the wild you'll see references to "dplyr" and even some functions referenced as `dplyr::filter()` but they are all part of the tidyverse. You can explore the list at [tidyverse.org](https://www.tidyverse.org/).
-->
<p>OK, we’re done with all the computer setup. Let’s get to work.</p>
</section>
</section>
<section id="starting-a-new-quarto-website" class="level2" data-number="2.5">
<h2 data-number="2.5" class="anchored" data-anchor-id="starting-a-new-quarto-website"><span class="header-section-number">2.5</span> Starting a new Quarto Website</h2>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is a case where posit.cloud differs greatly. See the <a href="./posit-cloud.html">posit.cloud Appendix</a> to see how to build a new Quarto Website project.</p>
</div>
</div>
<p>When we work in RStudio, we will create “Projects” to hold all the files related to one another. This sets the “working directory”, which is a sort of home base for the project.</p>
<ol type="1">
<li>In the icon list at the top of your program, click on the second button that is a hexagon with a green <code>+R</code> sign.</li>
<li>That brings up a box to create the project with several options. You want <strong>New Directory</strong> in this case.</li>
<li>For <strong>Project Type</strong>, choose <strong>Quarto Website</strong>.</li>
<li>Next, for the <strong>Directory name</strong>, choose a new name for your project folder. For this project, use “firstname-first-project” but use YOUR firstname.</li>
<li>For the subdirectory, you want to use the <strong>Browse</strong> button to find your <code>rwd</code> folder we created earlier.</li>
</ol>
<p>I want you to be anal retentive about naming your folders. It’s a good programming habit.</p>
<ul>
<li>Use lowercase characters.</li>
<li>Don’t use spaces. Use dashes.</li>
<li>For this class, start with your first name.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/create-quarto-website.png" class="img-fluid figure-img"></p>
<figcaption>Quarto project, directory</figcaption>
</figure>
</div>
<p>When you hit <strong>Create Project</strong>, your RStudio window will refresh and two things will happen:</p>
<ul>
<li>You’ll see a number of files listed in your <strong>Files</strong> window.</li>
<li>A new document window will open on the left.</li>
</ul>
<section id="the-files-pane" class="level3" data-number="2.5.1">
<h3 data-number="2.5.1" class="anchored" data-anchor-id="the-files-pane"><span class="header-section-number">2.5.1</span> The files pane</h3>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/quarto-project-new.png" class="img-fluid figure-img"></p>
<figcaption>New Quarto Project</figcaption>
</figure>
</div>
<p>Let’s walk through the files created and explain what they are in order of importance.</p>
<ul>
<li>The <code>_quarto.yml</code> file is a YAML configuration file for your project. This allows us to set publishing rules for our Quarto project. We might not get too much into all the options, but you can read more about it in the <a href="https://quarto.org/docs/guide/">Quarto Guide</a> if you like.</li>
<li>The <code>index.qmd</code> file is a Quarto document that makes the “home page” of your website. In this book you’ll use the index to describe your project and record other important information related to it. Each Quarto file you create can become a new page in your website, and they all end in <code>.qmd</code>, which stands for Quarto Markdown. (We might also encounter and edit <code>.Rmd</code> files, which are very similar, but just a little less awesome.) The <code>about.qmd</code> file is another Quarto document created as a placeholder. We’ll usually rename/reuse that or delete it.</li>
<li>The <code>christian-first-project.Rproj</code> file is your <strong>Project</strong> file. It sets the <em>working directory</em> or what is essentially “home base” for your project. When you go to open your project again, this is the file you will open.</li>
<li><code>styles.css</code> is file where you can assert extra control on your website. We won’t use it.</li>
<li>The <code>about.qmd</code> files is another Quarto document created as an example for you. We’ll rarely use those after today.</li>
</ul>
<p>The big thing to remember is this: Most of our work is done in files with the <code>.qmd</code> suffix.</p>
</section>
</section>
<section id="the-quarto-document" class="level2" data-number="2.6">
<h2 data-number="2.6" class="anchored" data-anchor-id="the-quarto-document"><span class="header-section-number">2.6</span> The Quarto document</h2>
<p>The document that opened on the left is our Quarto document where we will do our work. The Quarto document is a method of authoring programming documents where the result can be output in a multiple formats: As HTML, PDFs, slideshows, books, etc. In fact, this very book you are reading is written in R using Quarto.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/quarto-new-document.png" class="img-fluid figure-img"></p>
<figcaption>New Quarto document</figcaption>
</figure>
</div>
<p>I could wax poetic about the birth of Quarto and the evolution of what came before it, but you won’t really care. Let’s break this down to what you need to know:</p>
<ul>
<li>These documents allow us to weave together our <strong>thoughts</strong> and our <strong>code</strong>. We’ll use <a href="https://quarto.org/docs/authoring/markdown-basics.html">Markdown</a> to record our thoughts, and R to write our code.</li>
<li>We <em>write</em> the document and we <em>run</em> the code to see the results, but all the while we are creating documents that we will be <strong>rendered</strong> to share with others. Our goal with these documents is to explain to an “audience” what we are doing with our data analysis. Often our most important audience is our future self.</li>
</ul>
<p>Think of <em>Render</em> like exporting or publishing a pretty version of your work.</p>
<section id="render-the-document" class="level3" data-number="2.6.1">
<h3 data-number="2.6.1" class="anchored" data-anchor-id="render-the-document"><span class="header-section-number">2.6.1</span> Render the document</h3>
<p>Let’s see what this basic document looks like when when we Render it.</p>
<ol type="1">
<li>In the toolbar of the document you’ll see a blue arrow with <strong>Render</strong> after it.</li>
<li>Click on that button or word.</li>
</ol>
<p>What this should do is open up the Console below the document and you’ll see a bunch of feedback, but on the right side of RStudio. You should end up with the <strong>Viewer</strong> pane that shows your document. Here is a tour of sorts:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/quarto-render.png" class="img-fluid figure-img"></p>
<figcaption>Render Quarto</figcaption>
</figure>
</div>
<p>For the posit.cloud users, this will launch in a new web browser window. The gear next to the Render button has the option to view previews in a new browser Window or the RStudio Viewer pane.</p>
</section>
<section id="the-metadata" class="level3" data-number="2.6.2">
<h3 data-number="2.6.2" class="anchored" data-anchor-id="the-metadata"><span class="header-section-number">2.6.2</span> The metadata</h3>
<p>The top of our document has what we call the <strong>metadata</strong> of our document written in YAML. These are commands to control the output of our document. Right now it only has the title of our document.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode txt code-with-copy"><code class="sourceCode default"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>title: "christian-first-project"</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>---</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>When we created our project, RStudio added the name of our folder here, <strong>which kinda sucks</strong> because that is not what the title is for. It should describe a title for your project like the top of a Microsoft Word or Google Docs document.</p>
<ol type="1">
<li>Edit the text inside the quotes to be more like a title you would find in a Word or Google Doc document, like below, but with your name:</li>
</ol>
<div class="sourceCode" id="cb3"><pre class="sourceCode txt code-with-copy"><code class="sourceCode default"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>title: "Christian's First Quarto project"</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>---</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<ol start="2" type="1">
<li><strong>Re-render</strong> the document so you can see the updates. (You can click on the <strong>Render</strong> button or do <strong>Cmd-Shift-K</strong> to update it.)</li>
</ol>
</section>
<section id="r-code-chunks" class="level3" data-number="2.6.3">
<h3 data-number="2.6.3" class="anchored" data-anchor-id="r-code-chunks"><span class="header-section-number">2.6.3</span> R code chunks</h3>
<p>The next bit of our document shows an R chunk:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/quarto-r-chunk.png" class="img-fluid figure-img"></p>
<figcaption>R chunk</figcaption>
</figure>
</div>
<p>This is where we write and execute our programming code. Let’s break down parts of this:</p>
<ul>
<li>The three tick marks ` at the beginning and end indicate where the code chunk starts and ends.</li>
<li>The <code>{r}</code> part notes that this is R code. (Quarto supports other languages like <code>{python}</code>, but we’ll stick with R.)</li>
<li>The <code>1 + 1</code> part is the code. In this case, it is some basic math. We do cooler stuff later.</li>
<li>The green triangle that points to the right will <strong>run all the code in this chunk</strong>.</li>
<li>The gray triangle that points down with the green bar will <strong>run all the code above this chunk</strong>.</li>
</ul>
<p>Let’s run this chunk of code to see what happens.</p>
<ol type="1">
<li>Click on the green triangle.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/quarto-code-run.png" class="img-fluid figure-img"></p>
<figcaption>Code chunk has run</figcaption>
</figure>
</div>
<p>Doing this executes the code that is in the R block and it will print the result to your document below the chunk. You might have noticed something similar when you rendered your document earlier.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are about five keyboard commands that I will <strong><em>implore</em></strong> you to learn. Here are the first three. Remember if you are on a PC use <strong>Cntl</strong> instead of <strong>Cmd</strong>.</p>
<ul>
<li><strong>Cmd+option+i</strong> will insert a code block.</li>
<li><strong>Cmd+Return</strong> will run a single line (or selection) of code within a code block.</li>
<li><strong>Cmd+Shift+Return</strong> will run a whole code chunk.</li>
</ul>
</div>
</div>
</section>
</section>
<section id="lets-do-some-data-analysis" class="level2" data-number="2.7">
<h2 data-number="2.7" class="anchored" data-anchor-id="lets-do-some-data-analysis"><span class="header-section-number">2.7</span> Let’s do some data analysis</h2>
<p>Remember the goal of this class is to use data analysis to make sense of the world and then explain to others what we are doing. There are multiple parts to this process:</p>
<ul>
<li>What are we thinking? What is our goal?</li>
<li>Our code that gets us those answer.</li>
<li>Our thoughts about the results, if any.</li>
</ul>
<p>Today we will explore the <a href="https://www.psychologytoday.com/us/blog/meet-catch-and-keep/201405/who-is-too-young-or-too-old-you-date">socially-acceptable age to date someone older or younger than ourselves</a>.</p>
<p>I’ll give you an example of this, starting with what we are thinking.</p>
<section id="use-markdown-to-describe-thoughts-goals" class="level3" data-number="2.7.1">
<h3 data-number="2.7.1" class="anchored" data-anchor-id="use-markdown-to-describe-thoughts-goals"><span class="header-section-number">2.7.1</span> Use Markdown to describe thoughts, goals</h3>
<ol type="1">
<li>Copy the text below. Note you can use the copy-clipboard button in the book if you roll your cursor over the code and click on the clipboard icon at the top right.</li>
<li>Paste the code at the bottom of your notebook.</li>
<li>Re-render your document to see what it looks like.</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="sourceCode txt code-with-copy"><code class="sourceCode default"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>## My upper dating age</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>The following section details the [socially-acceptable maximum age of anyone you should date](https://www.psychologytoday.com/us/blog/meet-catch-and-keep/201405/who-is-too-young-or-too-old-you-date).</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>The math works like this:</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>- Take your age</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>- subtract 7</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>- Double the result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Let’s walk through this Markdown code. You might bookmark this <a href="https://quarto.org/docs/authoring/markdown-basics.html">Markdown basics</a> page so you can refer back to it as you learn.</p>
<ul>
<li>The <code>##</code> line is a “Header 2” headline, meaning it is the second biggest. (The title is an H1/biggest.) The more hashmarks <code>###</code> you add the smaller headline you get.</li>
<li>There is a full blank return between each element, including paragraphs of text. The exception is the bullet list.</li>
<li>In the first paragraph we have embedded a hyperlink. We put the words we want to show inside square brackets and the URL in parenthesis DIRECTLY after the closing square bracket: <code>[words to link](https://the_url.org)</code>.</li>
<li>Using <code>-</code> at the beginning of a line creates a bullet list. (You can also use <code>*</code>). Those lines need to be one after another without blank lines.</li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>I should note at this point there is a “Visual” editor where RStudio gives you more formatted look as your editing as it writes Markdown underneath the hood. I want you to use the “Source” editor so you can see and learn the underlying Markdown syntax. All my examples will be written in “Source” mode. After you pass this class, you can use “Visual” mode.</p>
</div>
</div>
</section>
<section id="adding-new-code-chunks" class="level3" data-number="2.7.2">
<h3 data-number="2.7.2" class="anchored" data-anchor-id="adding-new-code-chunks"><span class="header-section-number">2.7.2</span> Adding new code chunks</h3>
<p>Let’s add a new R chunk to add the code that will calculate the maximum age of someone we should date.</p>
<ol type="1">
<li>Add a few blank lines after your Markdown text.</li>
<li>Use the keyboard command <em>Cmd+Option+i</em> to add an R chunk.</li>
<li>Your cursor will be inserted into the middle of the chunk. Type or copy this code in the space provided:</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># update 57 to your actual age</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>age <span class="ot">&lt;-</span> <span class="dv">57</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>(age <span class="sc">-</span> <span class="dv">7</span>) <span class="sc">*</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Change the number to your real age.</li>
<li>With your cursor somewhere in the code block, use the key command <em>Cmd+Shift+Return</em>, which is the key command to RUN ALL LINES of code chunk.</li>
</ol>
<p>Congratulations! The answer given at the bottom of that code chunk is the upper end age of someone socially acceptable for you to date.</p>
<p>Throwing aside whether the formula is sound, let’s break down the code.</p>
<ul>
<li><code># update 57 to your age</code> is a comment. It’s a way to explain what is happening in the code without being considered part of the code. We create comments inside code chunks by starting with <code>#</code>. You can also add a comment at the end of a line. Comments will appear in grey text in your code chunks if formatted correctly.</li>
<li><code>age &lt;- 57</code> is assigning a number (<code>57</code>) to an R object/variable called (<code>age</code>). A variable is a placeholder. It can hold numbers, text or even groups of numbers. Variables are key to programming because they allow you to change a value as you go along.</li>
<li>The next part is simple math: <code>(age - 7) * 2</code> takes the value of <code>age</code> and subtracts <code>7</code>, then multiplies by <code>2</code>.</li>
<li>When you run it, you get below it the result of the math equation, <code>[1] 100</code> in my case. That means there was one observation [1], and the value was “100”. For the record, my wife is <em>much younger</em> than 100. Perhaps this formula breaks down when you get older <code>¯\_(ツ)_/¯</code>.</li>
</ul>
<p>Now you can play with the number assigned to the age variable to test out different ages.</p>
</section>
<section id="practice-adding-code-chunks" class="level3" data-number="2.7.3">
<h3 data-number="2.7.3" class="anchored" data-anchor-id="practice-adding-code-chunks"><span class="header-section-number">2.7.3</span> Practice adding code chunks</h3>
<p>Now, I want you to add a similar section that calculates the <strong>minimum</strong> age of someone you should date, but using the formula <code>(age / 2) + 7</code>.</p>
<ol type="1">
<li>Add a Markdown headline and text describing what you are doing.</li>
<li>Use the keyboard command to create a new code chunk.</li>
<li>Include a comment within the code block that explains you are using the <code>age</code> variable already established.</li>
<li>Add the math statement <code>(age / 2) + 7</code> to the chunk.</li>
<li>Run the chunk and re-render your document.</li>
</ol>
<div class="cell">
<details class="code-fold">
<summary>Try it on your own before you peek here!</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Using age variable from above</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>(age <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="dv">7</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Now you know the youngest a person should be that you date. FWIW, we don’t need to recreate the <code>age</code> variable since we already have it. A Quarto document is designed to run from top to bottom so that all the pieces work together.</p>
</section>
<section id="the-toolbar" class="level3" data-number="2.7.4">
<h3 data-number="2.7.4" class="anchored" data-anchor-id="the-toolbar"><span class="header-section-number">2.7.4</span> The toolbar</h3>
<p>One last thing to point out in the document window: The toolbar that runs across the top of the document window. The image below explains some of the more useful tools, but you <em>REALLY</em> should learn and use the keyboard commands instead.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/quarto-run-menu.png" class="img-fluid figure-img"></p>
<figcaption>R Notebook toolbar</figcaption>
</figure>
</div>
</section>
</section>
<section id="a-quick-look-back-at-files" class="level2" data-number="2.8">
<h2 data-number="2.8" class="anchored" data-anchor-id="a-quick-look-back-at-files"><span class="header-section-number">2.8</span> A quick look back at files</h2>
<p>We’ve been concentrating on editing the Quarto document, but let’s peek back at the Files pane to note some new files that were created.</p>
<ol type="1">
<li>In the window with the viewer, you’ll notice several other tabs: Files, Plots, Packages, etc. Click on the <strong>Files</strong> tab.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/quarto-files-list.png" class="img-fluid figure-img"></p>
<figcaption>Quarto files list</figcaption>
</figure>
</div>
<p>Note there is a new folder there, <code>_site</code>. All your rendered versions to into the folder to make it easy to share or publish them.</p>
<p>With our next project, we’ll create some other folders to store our data and such.</p>
</section>
<section id="publish-to-quarto.pub" class="level2" data-number="2.9">
<h2 data-number="2.9" class="anchored" data-anchor-id="publish-to-quarto.pub"><span class="header-section-number">2.9</span> Publish to quarto.pub</h2>
<p>Let’s publish our work to the Internet!!!!</p>
<ol type="1">
<li>Go to <a href="https://quartopub.com/">quartopub.com</a> and sign up for a free account.</li>
<li>Come back to RStudio and down by the Console, click on the <strong>Terminal</strong> <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a> pane.</li>
<li>Type in <code>quarto publish</code> and hit <strong>Return</strong> on your keyboard.</li>
</ol>
<p>A bunch of stuff will happen in your Terminal pane. Here is a video showing this:</p>
<div class="quarto-video"><iframe data-external="1" src="https://www.youtube.com/embed/ctkKKgD1uQc" width="400" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>A couple of things about this the video clip above:</p>
<ul>
<li>The first time you run <code>quarto publish</code>, you’ll be asked to authenticate to quarto.pub, so it will be a little different.</li>
<li>In the last bit of that video, a browser window opens with your website. That’s cool!</li>
</ul>
<p>You can learn more about <a href="https://quarto.org/docs/publishing/quarto-pub.html">Quarto pub here</a>, including how to configure your profile page.</p>
</section>
<section id="on-your-own-update-the-about-page" class="level2" data-number="2.10">
<h2 data-number="2.10" class="anchored" data-anchor-id="on-your-own-update-the-about-page"><span class="header-section-number">2.10</span> On your own: Update the About page</h2>
<p>Try some things on your own! Go into the <code>about.qmd</code> page and write some things about yourself, like your favorite hobbies. Use the <a href="https://quarto.org/docs/authoring/markdown-basics.html">Markdown</a> guide to write headlines, lists and maybe even try an image? (You can use a URL from an image on the web.)</p>
<ul>
<li>Re-render your pages</li>
<li>Re-publish your pages by going back to Terminal and using the <code>quarto publish</code> command.</li>
</ul>
</section>
<section id="turning-in-our-projects" class="level2" data-number="2.11">
<h2 data-number="2.11" class="anchored" data-anchor-id="turning-in-our-projects"><span class="header-section-number">2.11</span> Turning in our projects</h2>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>This is a bit different for posit.cloud users. See below.</p>
</div>
</div>
<p>The best way to turn in all of those files into Canvas is to compress the project folder into a single <code>.zip</code> file that you can upload to the assignment.</p>
<ol type="1">
<li>Make sure all your files are saved and rendered.</li>
<li>In your computer’s Finder, open the <code>Documents/rwd</code> folder.</li>
<li>Follow the directions for your operating system linked below to create a compressed version of your <code>yourname-final-project</code> folder.
<ul>
<li><a href="https://www.macinstruct.com/tutorials/how-to-compress-zip-files-and-folders-on-a-mac/">Compress files on a Mac</a>.</li>
<li><a href="https://www.laptopmag.com/articles/how-to-zip-files-windows-10">Compress flies on Windows</a>.</li>
</ul></li>
<li>Upload the resulting <code>.zip</code> file to the assignment for this week in Canvas.</li>
</ol>
<p>If you later make changes to your R files after you’ve zipped your folder, you’ll need to to <code>zip</code> it again. Make sure you send me the new version (or delete the old one first).</p>
<p>Because we are building “repeatable” code, I’ll be able to download your <code>.zip</code> files, uncompress them, and the re-run them to get the same results.</p>
<p>Well done!</p>
<section id="exporting-for-posit.cloud" class="level3" data-number="2.11.1">
<h3 data-number="2.11.1" class="anchored" data-anchor-id="exporting-for-posit.cloud"><span class="header-section-number">2.11.1</span> Exporting for posit.cloud</h3>
<p>Exporting is a little different for posit.cloud users. You can export your project pretty easily by following the directions in this screenshot:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/export-posit.png" class="img-fluid figure-img"></p>
<figcaption>Export posit</figcaption>
</figure>
</div>
<p>This will save the <code>.zip</code> file to your downloads folder. Submit that <code>.zip</code> file to Canvas.</p>
</section>
</section>
<section id="review-of-what-weve-learned-so-far" class="level2" data-number="2.12">
<h2 data-number="2.12" class="anchored" data-anchor-id="review-of-what-weve-learned-so-far"><span class="header-section-number">2.12</span> Review of what we’ve learned so far</h2>
<ul>
<li>You’ve learned about the RStudio IDE and how you write and render R code with it.</li>
<li>You used <code>install.packages()</code> to download R packages to your computer. Typically executed from within the Console and only once per computer. We installed a lot of packages including the <a href="https://www.tidyverse.org/packages/">tidyverse</a>.</li>
<li>You created a Quarto Website and related Quarto documents with code on them.</li>
<li>You published your work on Quarto Pub to share over the internet.</li>
</ul>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>The Terminal is where you can send commands to your computer using text vs.&nbsp;pointing and clicking through “normal” actions. It’s super powerful and useful, but this is probably the only terminal command we’ll use.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./install.html" class="pagination-link  aria-label=" &lt;span="" party&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Install Party</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./billboard-cleaning.html" class="pagination-link" aria-label="<span class='chapter-number'>3</span>&nbsp; <span class='chapter-title'>Billboard Cleaning</span>">
        <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Billboard Cleaning</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>
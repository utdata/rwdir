<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 14 Cleaning | Reporting with Data in R</title>
  <meta name="description" content="Chapter 14 Cleaning | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism and Media, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 14 Cleaning | Reporting with Data in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 14 Cleaning | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism and Media, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  <meta name="github-repo" content="utdata/rwdir" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 14 Cleaning | Reporting with Data in R" />
  
  <meta name="twitter:description" content="Chapter 14 Cleaning | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism and Media, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  

<meta name="author" content="Christian McDonald" />


<meta name="date" content="2021-09-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="review---data-wrangling.html"/>
<link rel="next" href="sped-import.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.19/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<style type="text/css">
  p.caption {
    color: #777;
    margin-top: 10px;
  }
  p code, pre, pre code, li code {
    background-color: #DCDCDC !important;
  }
</style>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Reporting with Data in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this book</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-my-philosphy"><i class="fa fa-check"></i>About my philosphy</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#tips-on-my-writing-style"><i class="fa fa-check"></i>Tips on my writing style</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#things-to-do"><i class="fa fa-check"></i>Things to do</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#notes-some-important"><i class="fa fa-check"></i>Notes, some important</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#copy-code-blocks"><i class="fa fa-check"></i>Copy code blocks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other resources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Install Party</a>
<ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#mac-vs-pc"><i class="fa fa-check"></i><b>1.1</b> Mac vs PC</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="install.html"><a href="install.html#class-project-folder"><i class="fa fa-check"></i><b>1.4</b> Class project folder</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#rstudio-tour"><i class="fa fa-check"></i><b>2.1</b> RStudio tour</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#updating-preferences"><i class="fa fa-check"></i><b>2.2</b> Updating preferences</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#starting-a-new-project"><i class="fa fa-check"></i><b>2.3</b> Starting a new Project</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#using-r-notebooks"><i class="fa fa-check"></i><b>2.4</b> Using R Notebooks</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#create-your-first-notebook"><i class="fa fa-check"></i><b>2.4.1</b> Create your first notebook</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro.html"><a href="intro.html#save-the-.rmd-file"><i class="fa fa-check"></i><b>2.4.2</b> Save the .Rmd file</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro.html"><a href="intro.html#run-the-notebook"><i class="fa fa-check"></i><b>2.4.3</b> Run the notebook</a></li>
<li class="chapter" data-level="2.4.4" data-path="intro.html"><a href="intro.html#a-note-about-rmarkdown"><i class="fa fa-check"></i><b>2.4.4</b> A note about RMarkdown</a></li>
<li class="chapter" data-level="2.4.5" data-path="intro.html"><a href="intro.html#adding-new-code-chunks"><i class="fa fa-check"></i><b>2.4.5</b> Adding new code chunks</a></li>
<li class="chapter" data-level="2.4.6" data-path="intro.html"><a href="intro.html#practice-adding-code-chunks"><i class="fa fa-check"></i><b>2.4.6</b> Practice adding code chunks</a></li>
<li class="chapter" data-level="2.4.7" data-path="intro.html"><a href="intro.html#preview-the-report"><i class="fa fa-check"></i><b>2.4.7</b> Preview the report</a></li>
<li class="chapter" data-level="2.4.8" data-path="intro.html"><a href="intro.html#the-toolbar"><i class="fa fa-check"></i><b>2.4.8</b> The toolbar</a></li>
<li class="chapter" data-level="2.4.9" data-path="intro.html"><a href="intro.html#knit-the-final-workbook"><i class="fa fa-check"></i><b>2.4.9</b> Knit the final workbook</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#turning-in-our-projects"><i class="fa fa-check"></i><b>2.5</b> Turning in our projects</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="import.html"><a href="import.html"><i class="fa fa-check"></i><b>3</b> Import</a>
<ul>
<li class="chapter" data-level="3.1" data-path="import.html"><a href="import.html#learning-goals-of-this-lesson"><i class="fa fa-check"></i><b>3.1</b> Learning goals of this lesson</a></li>
<li class="chapter" data-level="3.2" data-path="import.html"><a href="import.html#basic-steps-of-this-lesson"><i class="fa fa-check"></i><b>3.2</b> Basic steps of this lesson</a></li>
<li class="chapter" data-level="3.3" data-path="import.html"><a href="import.html#create-a-new-project"><i class="fa fa-check"></i><b>3.3</b> Create a new project</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="import.html"><a href="import.html#describe-the-goals-of-the-notebook"><i class="fa fa-check"></i><b>3.3.1</b> Describe the goals of the notebook</a></li>
<li class="chapter" data-level="3.3.2" data-path="import.html"><a href="import.html#the-r-package-environment"><i class="fa fa-check"></i><b>3.3.2</b> The R Package environment</a></li>
<li class="chapter" data-level="3.3.3" data-path="import.html"><a href="import.html#installing-and-using-packages"><i class="fa fa-check"></i><b>3.3.3</b> Installing and using packages</a></li>
<li class="chapter" data-level="3.3.4" data-path="import.html"><a href="import.html#load-the-libraries"><i class="fa fa-check"></i><b>3.3.4</b> Load the libraries</a></li>
<li class="chapter" data-level="3.3.5" data-path="import.html"><a href="import.html#create-a-directory-for-your-data"><i class="fa fa-check"></i><b>3.3.5</b> Create a directory for your data</a></li>
<li class="chapter" data-level="3.3.6" data-path="import.html"><a href="import.html#lets-get-our-data"><i class="fa fa-check"></i><b>3.3.6</b> Let’s get our data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="import.html"><a href="import.html#about-data-sources"><i class="fa fa-check"></i><b>3.4</b> About data sources</a></li>
<li class="chapter" data-level="3.5" data-path="import.html"><a href="import.html#our-project-data"><i class="fa fa-check"></i><b>3.5</b> Our project data</a></li>
<li class="chapter" data-level="3.6" data-path="import.html"><a href="import.html#data-dictionary"><i class="fa fa-check"></i><b>3.6</b> Data dictionary</a></li>
<li class="chapter" data-level="3.7" data-path="import.html"><a href="import.html#import-the-data"><i class="fa fa-check"></i><b>3.7</b> Import the data</a></li>
<li class="chapter" data-level="3.8" data-path="import.html"><a href="import.html#assign-our-import-to-a-tibble"><i class="fa fa-check"></i><b>3.8</b> Assign our import to a tibble</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="import.html"><a href="import.html#print-a-peek-to-the-screen"><i class="fa fa-check"></i><b>3.8.1</b> Print a peek to the screen</a></li>
<li class="chapter" data-level="3.8.2" data-path="import.html"><a href="import.html#glimpse-the-data"><i class="fa fa-check"></i><b>3.8.2</b> Glimpse the data</a></li>
<li class="chapter" data-level="3.8.3" data-path="import.html"><a href="import.html#about-the-pipe"><i class="fa fa-check"></i><b>3.8.3</b> About the pipe %&gt;%</a></li>
<li class="chapter" data-level="3.8.4" data-path="import.html"><a href="import.html#what-is-clean-data"><i class="fa fa-check"></i><b>3.8.4</b> What is clean data</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="import.html"><a href="import.html#cleaning-column-names"><i class="fa fa-check"></i><b>3.9</b> Cleaning column names</a></li>
<li class="chapter" data-level="3.10" data-path="import.html"><a href="import.html#fixing-the-date"><i class="fa fa-check"></i><b>3.10</b> Fixing the date</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="import.html"><a href="import.html#working-with-mutate"><i class="fa fa-check"></i><b>3.10.1</b> Working with mutate()</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="import.html"><a href="import.html#arrange-the-data"><i class="fa fa-check"></i><b>3.11</b> Arrange the data</a></li>
<li class="chapter" data-level="3.12" data-path="import.html"><a href="import.html#selecting-columns"><i class="fa fa-check"></i><b>3.12</b> Selecting columns</a></li>
<li class="chapter" data-level="3.13" data-path="import.html"><a href="import.html#exporting-data"><i class="fa fa-check"></i><b>3.13</b> Exporting data</a>
<ul>
<li class="chapter" data-level="3.13.1" data-path="import.html"><a href="import.html#single-notebook-philosophy"><i class="fa fa-check"></i><b>3.13.1</b> Single-notebook philosophy</a></li>
<li class="chapter" data-level="3.13.2" data-path="import.html"><a href="import.html#exporting-as-rds"><i class="fa fa-check"></i><b>3.13.2</b> Exporting as rds</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="import.html"><a href="import.html#naming-chunks"><i class="fa fa-check"></i><b>3.14</b> Naming chunks</a></li>
<li class="chapter" data-level="3.15" data-path="import.html"><a href="import.html#knit-your-page"><i class="fa fa-check"></i><b>3.15</b> Knit your page</a></li>
<li class="chapter" data-level="3.16" data-path="import.html"><a href="import.html#review-of-what-weve-learned-so-far"><i class="fa fa-check"></i><b>3.16</b> Review of what we’ve learned so far</a></li>
<li class="chapter" data-level="3.17" data-path="import.html"><a href="import.html#whats-next"><i class="fa fa-check"></i><b>3.17</b> What’s next</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="wrangle.html"><a href="wrangle.html"><i class="fa fa-check"></i><b>4</b> Wrangle</a>
<ul>
<li class="chapter" data-level="4.1" data-path="wrangle.html"><a href="wrangle.html#goals-of-this-lesson"><i class="fa fa-check"></i><b>4.1</b> Goals of this lesson</a></li>
<li class="chapter" data-level="4.2" data-path="wrangle.html"><a href="wrangle.html#about-the-story"><i class="fa fa-check"></i><b>4.2</b> About the story</a></li>
<li class="chapter" data-level="4.3" data-path="wrangle.html"><a href="wrangle.html#setting-up-an-analysis-notebook"><i class="fa fa-check"></i><b>4.3</b> Setting up an analysis notebook</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="wrangle.html"><a href="wrangle.html#import-the-data-on-your-own"><i class="fa fa-check"></i><b>4.3.1</b> Import the data on your own</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="wrangle.html"><a href="wrangle.html#introducing-dplyr"><i class="fa fa-check"></i><b>4.4</b> Introducing dplyr</a></li>
<li class="chapter" data-level="4.5" data-path="wrangle.html"><a href="wrangle.html#most-appearances"><i class="fa fa-check"></i><b>4.5</b> Most appearances</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="wrangle.html"><a href="wrangle.html#group-aggregate"><i class="fa fa-check"></i><b>4.5.1</b> Group &amp; Aggregate</a></li>
<li class="chapter" data-level="4.5.2" data-path="wrangle.html"><a href="wrangle.html#summarize"><i class="fa fa-check"></i><b>4.5.2</b> Summarize</a></li>
<li class="chapter" data-level="4.5.3" data-path="wrangle.html"><a href="wrangle.html#group-by"><i class="fa fa-check"></i><b>4.5.3</b> Group by</a></li>
<li class="chapter" data-level="4.5.4" data-path="wrangle.html"><a href="wrangle.html#arrange-the-results"><i class="fa fa-check"></i><b>4.5.4</b> Arrange the results</a></li>
<li class="chapter" data-level="4.5.5" data-path="wrangle.html"><a href="wrangle.html#get-the-top-of-the-list"><i class="fa fa-check"></i><b>4.5.5</b> Get the top of the list</a></li>
<li class="chapter" data-level="4.5.6" data-path="wrangle.html"><a href="wrangle.html#a-shortcut-count"><i class="fa fa-check"></i><b>4.5.6</b> A shortcut: count()</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="wrangle.html"><a href="wrangle.html#most-songs-to-reach-no.-1"><i class="fa fa-check"></i><b>4.6</b> Most songs to reach No. 1</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="wrangle.html"><a href="wrangle.html#filter"><i class="fa fa-check"></i><b>4.6.1</b> Filter</a></li>
<li class="chapter" data-level="4.6.2" data-path="wrangle.html"><a href="wrangle.html#comparisons-logical-tests"><i class="fa fa-check"></i><b>4.6.2</b> Comparisons: Logical tests</a></li>
<li class="chapter" data-level="4.6.3" data-path="wrangle.html"><a href="wrangle.html#filter-for-week_position"><i class="fa fa-check"></i><b>4.6.3</b> Filter for week_position</a></li>
<li class="chapter" data-level="4.6.4" data-path="wrangle.html"><a href="wrangle.html#complex-filters"><i class="fa fa-check"></i><b>4.6.4</b> Complex filters</a></li>
<li class="chapter" data-level="4.6.5" data-path="wrangle.html"><a href="wrangle.html#using-distinct"><i class="fa fa-check"></i><b>4.6.5</b> Using distinct()</a></li>
<li class="chapter" data-level="4.6.6" data-path="wrangle.html"><a href="wrangle.html#summarize-the-performers"><i class="fa fa-check"></i><b>4.6.6</b> Summarize the performers</a></li>
<li class="chapter" data-level="4.6.7" data-path="wrangle.html"><a href="wrangle.html#filter-after-summary"><i class="fa fa-check"></i><b>4.6.7</b> Filter after summary</a></li>
<li class="chapter" data-level="4.6.8" data-path="wrangle.html"><a href="wrangle.html#try-count-on-your-own"><i class="fa fa-check"></i><b>4.6.8</b> Try count on your own</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="wrangle.html"><a href="wrangle.html#no.-1-hits-in-last-five-years"><i class="fa fa-check"></i><b>4.7</b> No. 1 hits in last five years</a>
<ul>
<li class="chapter" data-level="4.7.1" data-path="wrangle.html"><a href="wrangle.html#group-on-your-own"><i class="fa fa-check"></i><b>4.7.1</b> Group on your own</a></li>
</ul></li>
<li class="chapter" data-level="4.8" data-path="wrangle.html"><a href="wrangle.html#top-10-hits-overall"><i class="fa fa-check"></i><b>4.8</b> Top 10 hits overall</a></li>
<li class="chapter" data-level="4.9" data-path="wrangle.html"><a href="wrangle.html#songperformer-with-most-appearances-at-any-position"><i class="fa fa-check"></i><b>4.9</b> Song/Performer with most appearances at any position</a></li>
<li class="chapter" data-level="4.10" data-path="wrangle.html"><a href="wrangle.html#songperformer-with-most-weeks-at-no.-1"><i class="fa fa-check"></i><b>4.10</b> Song/Performer with most weeks at No. 1</a></li>
<li class="chapter" data-level="4.11" data-path="wrangle.html"><a href="wrangle.html#review-of-what-weve-learned"><i class="fa fa-check"></i><b>4.11</b> Review of what we’ve learned</a></li>
<li class="chapter" data-level="4.12" data-path="wrangle.html"><a href="wrangle.html#turn-in-your-project"><i class="fa fa-check"></i><b>4.12</b> Turn in your project</a></li>
<li class="chapter" data-level="4.13" data-path="wrangle.html"><a href="wrangle.html#soundtrack-for-this-assignment"><i class="fa fa-check"></i><b>4.13</b> Soundtrack for this assignment</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sums-import.html"><a href="sums-import.html"><i class="fa fa-check"></i><b>5</b> Summarize with math - import</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sums-import.html"><a href="sums-import.html#about-the-story-military-surplus-transfers"><i class="fa fa-check"></i><b>5.1</b> About the story: Military surplus transfers</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="sums-import.html"><a href="sums-import.html#the-leso-program"><i class="fa fa-check"></i><b>5.1.1</b> The LESO program</a></li>
<li class="chapter" data-level="5.1.2" data-path="sums-import.html"><a href="sums-import.html#about-the-data"><i class="fa fa-check"></i><b>5.1.2</b> About the data</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="sums-import.html"><a href="sums-import.html#the-questions-we-will-answer"><i class="fa fa-check"></i><b>5.2</b> The questions we will answer</a></li>
<li class="chapter" data-level="5.3" data-path="sums-import.html"><a href="sums-import.html#create-your-project"><i class="fa fa-check"></i><b>5.3</b> Create your project</a></li>
<li class="chapter" data-level="5.4" data-path="sums-import.html"><a href="sums-import.html#importcleaning-notebook"><i class="fa fa-check"></i><b>5.4</b> Import/cleaning notebook</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="sums-import.html"><a href="sums-import.html#add-the-goals-of-the-notebook"><i class="fa fa-check"></i><b>5.4.1</b> Add the goals of the notebook</a></li>
<li class="chapter" data-level="5.4.2" data-path="sums-import.html"><a href="sums-import.html#add-a-setup-section"><i class="fa fa-check"></i><b>5.4.2</b> Add a setup section</a></li>
<li class="chapter" data-level="5.4.3" data-path="sums-import.html"><a href="sums-import.html#download-the-data"><i class="fa fa-check"></i><b>5.4.3</b> Download the data</a></li>
<li class="chapter" data-level="5.4.4" data-path="sums-import.html"><a href="sums-import.html#import-the-data-1"><i class="fa fa-check"></i><b>5.4.4</b> Import the data</a></li>
<li class="chapter" data-level="5.4.5" data-path="sums-import.html"><a href="sums-import.html#glimpse-the-data-1"><i class="fa fa-check"></i><b>5.4.5</b> Glimpse the data</a></li>
<li class="chapter" data-level="5.4.6" data-path="sums-import.html"><a href="sums-import.html#remove-unnecessary-columns"><i class="fa fa-check"></i><b>5.4.6</b> Remove unnecessary columns</a></li>
<li class="chapter" data-level="5.4.7" data-path="sums-import.html"><a href="sums-import.html#create-a-total_value-column"><i class="fa fa-check"></i><b>5.4.7</b> Create a total_value column</a></li>
<li class="chapter" data-level="5.4.8" data-path="sums-import.html"><a href="sums-import.html#filtering-our-data"><i class="fa fa-check"></i><b>5.4.8</b> Filtering our data</a></li>
<li class="chapter" data-level="5.4.9" data-path="sums-import.html"><a href="sums-import.html#export-cleaned-data"><i class="fa fa-check"></i><b>5.4.9</b> Export cleaned data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sums-analyze.html"><a href="sums-analyze.html"><i class="fa fa-check"></i><b>6</b> Summarize with math - analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sums-analyze.html"><a href="sums-analyze.html#learning-goals-of-this-lesson-1"><i class="fa fa-check"></i><b>6.1</b> Learning goals of this lesson</a></li>
<li class="chapter" data-level="6.2" data-path="sums-analyze.html"><a href="sums-analyze.html#questions-to-answer"><i class="fa fa-check"></i><b>6.2</b> Questions to answer</a></li>
<li class="chapter" data-level="6.3" data-path="sums-analyze.html"><a href="sums-analyze.html#set-up-the-analysis-notebook"><i class="fa fa-check"></i><b>6.3</b> Set up the analysis notebook</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="sums-analyze.html"><a href="sums-analyze.html#load-the-data-into-a-tibble"><i class="fa fa-check"></i><b>6.3.1</b> Load the data into a tibble</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="sums-analyze.html"><a href="sums-analyze.html#how-to-tackle-summaries"><i class="fa fa-check"></i><b>6.4</b> How to tackle summaries</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="sums-analyze.html"><a href="sums-analyze.html#summaries-with-math"><i class="fa fa-check"></i><b>6.4.1</b> Summaries with math</a></li>
<li class="chapter" data-level="6.4.2" data-path="sums-analyze.html"><a href="sums-analyze.html#add-the-total_value"><i class="fa fa-check"></i><b>6.4.2</b> Add the total_value</a></li>
<li class="chapter" data-level="6.4.3" data-path="sums-analyze.html"><a href="sums-analyze.html#arrange-the-results-1"><i class="fa fa-check"></i><b>6.4.3</b> Arrange the results</a></li>
<li class="chapter" data-level="6.4.4" data-path="sums-analyze.html"><a href="sums-analyze.html#consider-the-results"><i class="fa fa-check"></i><b>6.4.4</b> Consider the results</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="sums-analyze.html"><a href="sums-analyze.html#looking-a-local-agencies"><i class="fa fa-check"></i><b>6.5</b> Looking a local agencies</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="sums-analyze.html"><a href="sums-analyze.html#filter-in-a-vector"><i class="fa fa-check"></i><b>6.5.1</b> Filter in a vector</a></li>
<li class="chapter" data-level="6.5.2" data-path="sums-analyze.html"><a href="sums-analyze.html#item-quantiies-totals-for-local-agencies"><i class="fa fa-check"></i><b>6.5.2</b> Item quantiies, totals for local agencies</a></li>
<li class="chapter" data-level="6.5.3" data-path="sums-analyze.html"><a href="sums-analyze.html#filter-from-a-collection"><i class="fa fa-check"></i><b>6.5.3</b> Filter from a collection</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="sums-analyze.html"><a href="sums-analyze.html#write-a-data-drop"><i class="fa fa-check"></i><b>6.6</b> Write a data drop</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="plots.html"><a href="plots.html"><i class="fa fa-check"></i><b>7</b> Plots</a>
<ul>
<li class="chapter" data-level="7.1" data-path="plots.html"><a href="plots.html#updates-needed"><i class="fa fa-check"></i><b>7.1</b> UPDATES NEEDED</a></li>
<li class="chapter" data-level="7.2" data-path="plots.html"><a href="plots.html#goals-for-this-section"><i class="fa fa-check"></i><b>7.2</b> Goals for this section</a></li>
<li class="chapter" data-level="7.3" data-path="plots.html"><a href="plots.html#introduction-ggplot"><i class="fa fa-check"></i><b>7.3</b> Introduction ggplot</a></li>
<li class="chapter" data-level="7.4" data-path="plots.html"><a href="plots.html#the-basic-ggplot-template"><i class="fa fa-check"></i><b>7.4</b> The basic ggplot template</a></li>
<li class="chapter" data-level="7.5" data-path="plots.html"><a href="plots.html#lets-plot"><i class="fa fa-check"></i><b>7.5</b> Let’s plot!</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="plots.html"><a href="plots.html#set-up-our-notebook"><i class="fa fa-check"></i><b>7.5.1</b> Set up our Notebook</a></li>
<li class="chapter" data-level="7.5.2" data-path="plots.html"><a href="plots.html#scatterplot"><i class="fa fa-check"></i><b>7.5.2</b> Scatterplot</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="plots.html"><a href="plots.html#plotting-our-wells-data"><i class="fa fa-check"></i><b>7.6</b> Plotting our wells data</a>
<ul>
<li class="chapter" data-level="7.6.1" data-path="plots.html"><a href="plots.html#total-wells-per-county"><i class="fa fa-check"></i><b>7.6.1</b> Total wells per county</a></li>
<li class="chapter" data-level="7.6.2" data-path="plots.html"><a href="plots.html#add-a-layer-of-text-labels"><i class="fa fa-check"></i><b>7.6.2</b> Add a layer of text labels</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="plots.html"><a href="plots.html#wells-per-county-over-time"><i class="fa fa-check"></i><b>7.7</b> Wells per county over time</a>
<ul>
<li class="chapter" data-level="7.7.1" data-path="plots.html"><a href="plots.html#work-up-the-data-frame"><i class="fa fa-check"></i><b>7.7.1</b> Work up the data frame</a></li>
<li class="chapter" data-level="7.7.2" data-path="plots.html"><a href="plots.html#draw-the-plot"><i class="fa fa-check"></i><b>7.7.2</b> Draw the plot</a></li>
<li class="chapter" data-level="7.7.3" data-path="plots.html"><a href="plots.html#your-turn-add-layers"><i class="fa fa-check"></i><b>7.7.3</b> Your turn: Add layers</a></li>
<li class="chapter" data-level="7.7.4" data-path="plots.html"><a href="plots.html#dates-as-numbers-and-the-problems-they-cause"><i class="fa fa-check"></i><b>7.7.4</b> Dates as numbers and the problems they cause</a></li>
</ul></li>
<li class="chapter" data-level="7.8" data-path="plots.html"><a href="plots.html#your-turn-build-a-line-chart"><i class="fa fa-check"></i><b>7.8</b> Your turn: Build a line chart</a></li>
<li class="chapter" data-level="7.9" data-path="plots.html"><a href="plots.html#review-of-ggplot"><i class="fa fa-check"></i><b>7.9</b> Review of ggplot</a></li>
<li class="chapter" data-level="7.10" data-path="plots.html"><a href="plots.html#plotly-for-more-interactive-graphics"><i class="fa fa-check"></i><b>7.10</b> Plotly for more interactive graphics</a>
<ul>
<li class="chapter" data-level="7.10.1" data-path="plots.html"><a href="plots.html#ggplotly"><i class="fa fa-check"></i><b>7.10.1</b> ggplotly</a></li>
<li class="chapter" data-level="7.10.2" data-path="plots.html"><a href="plots.html#more-with-plot_ly-function"><i class="fa fa-check"></i><b>7.10.2</b> More with <code>plot_ly()</code> function</a></li>
<li class="chapter" data-level="7.10.3" data-path="plots.html"><a href="plots.html#plotlys-freemium-model"><i class="fa fa-check"></i><b>7.10.3</b> Plotly’s freemium model</a></li>
</ul></li>
<li class="chapter" data-level="7.11" data-path="plots.html"><a href="plots.html#resources"><i class="fa fa-check"></i><b>7.11</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tidy.html"><a href="tidy.html"><i class="fa fa-check"></i><b>8</b> Tidy data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tidy.html"><a href="tidy.html#updates-needed-1"><i class="fa fa-check"></i><b>8.1</b> UPDATES NEEDED</a></li>
<li class="chapter" data-level="8.2" data-path="tidy.html"><a href="tidy.html#goals-for-this-section-1"><i class="fa fa-check"></i><b>8.2</b> Goals for this section</a></li>
<li class="chapter" data-level="8.3" data-path="tidy.html"><a href="tidy.html#what-is-tidy-data"><i class="fa fa-check"></i><b>8.3</b> What is tidy data</a></li>
<li class="chapter" data-level="8.4" data-path="tidy.html"><a href="tidy.html#tidyr-package"><i class="fa fa-check"></i><b>8.4</b> Tidyr package</a></li>
<li class="chapter" data-level="8.5" data-path="tidy.html"><a href="tidy.html#the-tidyr-verbs"><i class="fa fa-check"></i><b>8.5</b> The tidyr verbs</a></li>
<li class="chapter" data-level="8.6" data-path="tidy.html"><a href="tidy.html#set-up-the-mixbev-project"><i class="fa fa-check"></i><b>8.6</b> Set up the mixbev project</a></li>
<li class="chapter" data-level="8.7" data-path="tidy.html"><a href="tidy.html#create-an-explore-notebook"><i class="fa fa-check"></i><b>8.7</b> Create an explore notebook</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="tidy.html"><a href="tidy.html#peruse-the-data"><i class="fa fa-check"></i><b>8.7.1</b> Peruse the data</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="tidy.html"><a href="tidy.html#what-might-we-learn-about-this-dataset"><i class="fa fa-check"></i><b>8.8</b> What might we learn about this dataset</a></li>
<li class="chapter" data-level="8.9" data-path="tidy.html"><a href="tidy.html#add-years-and-months-values"><i class="fa fa-check"></i><b>8.9</b> Add years and months values</a></li>
<li class="chapter" data-level="8.10" data-path="tidy.html"><a href="tidy.html#campus-bars"><i class="fa fa-check"></i><b>8.10</b> Campus bars</a>
<ul>
<li class="chapter" data-level="8.10.1" data-path="tidy.html"><a href="tidy.html#total-78705-sales-leaders-in-2018"><i class="fa fa-check"></i><b>8.10.1</b> Total 78705 sales leaders in 2018</a></li>
</ul></li>
<li class="chapter" data-level="8.11" data-path="tidy.html"><a href="tidy.html#west-campus-student-hot-spots"><i class="fa fa-check"></i><b>8.11</b> West Campus student hot spots</a></li>
<li class="chapter" data-level="8.12" data-path="tidy.html"><a href="tidy.html#campus-area-bar-sales-over-time"><i class="fa fa-check"></i><b>8.12</b> Campus-area bar sales over time</a>
<ul>
<li class="chapter" data-level="8.12.1" data-path="tidy.html"><a href="tidy.html#visualizing-your-visualization"><i class="fa fa-check"></i><b>8.12.1</b> Visualizing your visualization</a></li>
<li class="chapter" data-level="8.12.2" data-path="tidy.html"><a href="tidy.html#what-did-we-find"><i class="fa fa-check"></i><b>8.12.2</b> What did we find?</a></li>
</ul></li>
<li class="chapter" data-level="8.13" data-path="tidy.html"><a href="tidy.html#types-of-sales-within-student-bars"><i class="fa fa-check"></i><b>8.13</b> Types of sales within student bars</a></li>
<li class="chapter" data-level="8.14" data-path="tidy.html"><a href="tidy.html#how-gather-works"><i class="fa fa-check"></i><b>8.14</b> How gather() works</a></li>
<li class="chapter" data-level="8.15" data-path="tidy.html"><a href="tidy.html#applying-gather-to-beer-wine-and-liquor"><i class="fa fa-check"></i><b>8.15</b> Applying gather() to beer, wine and liquor</a>
<ul>
<li class="chapter" data-level="8.15.1" data-path="tidy.html"><a href="tidy.html#plot-sales-by-type-for-a-single-campus-area-bar"><i class="fa fa-check"></i><b>8.15.1</b> Plot sales by type for a single campus-area bar</a></li>
<li class="chapter" data-level="8.15.2" data-path="tidy.html"><a href="tidy.html#plot-sales-by-type-for-multiple-campus-area-bars"><i class="fa fa-check"></i><b>8.15.2</b> Plot sales by type for multiple campus-area bars</a></li>
<li class="chapter" data-level="8.15.3" data-path="tidy.html"><a href="tidy.html#what-did-we-learn"><i class="fa fa-check"></i><b>8.15.3</b> What did we learn?</a></li>
</ul></li>
<li class="chapter" data-level="8.16" data-path="tidy.html"><a href="tidy.html#the-spread-function"><i class="fa fa-check"></i><b>8.16</b> The spread() function</a></li>
<li class="chapter" data-level="8.17" data-path="tidy.html"><a href="tidy.html#practice-assignment-exploring-the-top-seller"><i class="fa fa-check"></i><b>8.17</b> Practice assignment: Exploring the top seller</a></li>
<li class="chapter" data-level="8.18" data-path="tidy.html"><a href="tidy.html#bonus-top-5-sellers-in-travis-county-over-three-years"><i class="fa fa-check"></i><b>8.18</b> Bonus: Top 5 sellers in Travis County over three years</a></li>
<li class="chapter" data-level="8.19" data-path="tidy.html"><a href="tidy.html#bonus-total-sales-by-county"><i class="fa fa-check"></i><b>8.19</b> Bonus: Total sales by county</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="review-plots.html"><a href="review-plots.html"><i class="fa fa-check"></i><b>9</b> Review: Plots</a>
<ul>
<li class="chapter" data-level="9.1" data-path="review-plots.html"><a href="review-plots.html#updates-needed-2"><i class="fa fa-check"></i><b>9.1</b> UPDATES NEEDED</a></li>
<li class="chapter" data-level="9.2" data-path="review-plots.html"><a href="review-plots.html#project-setup"><i class="fa fa-check"></i><b>9.2</b> Project setup</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="review-plots.html"><a href="review-plots.html#download-the-data-1"><i class="fa fa-check"></i><b>9.2.1</b> Download the data</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="review-plots.html"><a href="review-plots.html#the-story"><i class="fa fa-check"></i><b>9.3</b> The story</a></li>
<li class="chapter" data-level="9.4" data-path="review-plots.html"><a href="review-plots.html#explore-the-data"><i class="fa fa-check"></i><b>9.4</b> Explore the data</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="review-plots.html"><a href="review-plots.html#third-down-conversions"><i class="fa fa-check"></i><b>9.4.1</b> Third-down conversions</a></li>
<li class="chapter" data-level="9.4.2" data-path="review-plots.html"><a href="review-plots.html#scoring"><i class="fa fa-check"></i><b>9.4.2</b> Scoring</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="review-plots.html"><a href="review-plots.html#about-joins"><i class="fa fa-check"></i><b>9.5</b> About joins</a></li>
<li class="chapter" data-level="9.6" data-path="review-plots.html"><a href="review-plots.html#build-our-scatterplot"><i class="fa fa-check"></i><b>9.6</b> Build our scatterplot</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="review-plots.html"><a href="review-plots.html#add-a-fit-line"><i class="fa fa-check"></i><b>9.6.1</b> Add a fit line</a></li>
<li class="chapter" data-level="9.6.2" data-path="review-plots.html"><a href="review-plots.html#run-a-correlation-test"><i class="fa fa-check"></i><b>9.6.2</b> Run a correlation test</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="review-plots.html"><a href="review-plots.html#how-does-texas-compare"><i class="fa fa-check"></i><b>9.7</b> How does Texas compare?</a></li>
<li class="chapter" data-level="9.8" data-path="review-plots.html"><a href="review-plots.html#correlaton-test-for-texas"><i class="fa fa-check"></i><b>9.8</b> Correlaton test for Texas</a></li>
<li class="chapter" data-level="9.9" data-path="review-plots.html"><a href="review-plots.html#practice-1-compare-penn-state"><i class="fa fa-check"></i><b>9.9</b> Practice 1: Compare Penn State</a></li>
<li class="chapter" data-level="9.10" data-path="review-plots.html"><a href="review-plots.html#practice-2-penalties-vs-scoring"><i class="fa fa-check"></i><b>9.10</b> Practice 2: Penalties vs scoring</a></li>
<li class="chapter" data-level="9.11" data-path="review-plots.html"><a href="review-plots.html#using-bind_rows-to-merge-data-sets"><i class="fa fa-check"></i><b>9.11</b> Using bind_rows() to merge data sets</a>
<ul>
<li class="chapter" data-level="9.11.1" data-path="review-plots.html"><a href="review-plots.html#combine-data-with-a-group"><i class="fa fa-check"></i><b>9.11.1</b> Combine data with a group</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="reordering-factors.html"><a href="reordering-factors.html"><i class="fa fa-check"></i><b>10</b> Reordering factors</a>
<ul>
<li class="chapter" data-level="10.1" data-path="reordering-factors.html"><a href="reordering-factors.html#goals-for-this-section-2"><i class="fa fa-check"></i><b>10.1</b> Goals for this section</a></li>
<li class="chapter" data-level="10.2" data-path="reordering-factors.html"><a href="reordering-factors.html#create-our-survey-project"><i class="fa fa-check"></i><b>10.2</b> Create our survey project</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="reordering-factors.html"><a href="reordering-factors.html#setup"><i class="fa fa-check"></i><b>10.2.1</b> Setup</a></li>
<li class="chapter" data-level="10.2.2" data-path="reordering-factors.html"><a href="reordering-factors.html#libraries"><i class="fa fa-check"></i><b>10.2.2</b> Libraries</a></li>
<li class="chapter" data-level="10.2.3" data-path="reordering-factors.html"><a href="reordering-factors.html#import-the-data-2"><i class="fa fa-check"></i><b>10.2.3</b> Import the data</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="reordering-factors.html"><a href="reordering-factors.html#figuring-out-our-data-shape"><i class="fa fa-check"></i><b>10.3</b> Figuring out our data shape</a></li>
<li class="chapter" data-level="10.4" data-path="reordering-factors.html"><a href="reordering-factors.html#charting-the-popularity-of-princess"><i class="fa fa-check"></i><b>10.4</b> Charting the popularity of princess</a></li>
<li class="chapter" data-level="10.5" data-path="reordering-factors.html"><a href="reordering-factors.html#create-our-princess-plot"><i class="fa fa-check"></i><b>10.5</b> Create our princess plot</a>
<ul>
<li class="chapter" data-level="10.5.1" data-path="reordering-factors.html"><a href="reordering-factors.html#labels-and-titles"><i class="fa fa-check"></i><b>10.5.1</b> Labels and titles</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="reordering-factors.html"><a href="reordering-factors.html#factors"><i class="fa fa-check"></i><b>10.6</b> Factors</a></li>
<li class="chapter" data-level="10.7" data-path="reordering-factors.html"><a href="reordering-factors.html#reorder-princess"><i class="fa fa-check"></i><b>10.7</b> Reorder princess</a></li>
<li class="chapter" data-level="10.8" data-path="reordering-factors.html"><a href="reordering-factors.html#factors-recap"><i class="fa fa-check"></i><b>10.8</b> Factors recap</a></li>
<li class="chapter" data-level="10.9" data-path="reordering-factors.html"><a href="reordering-factors.html#practice-make-an-ice-cream-chart"><i class="fa fa-check"></i><b>10.9</b> Practice: Make an ice cream chart</a>
<ul>
<li class="chapter" data-level="10.9.1" data-path="reordering-factors.html"><a href="reordering-factors.html#turn-in-this-project"><i class="fa fa-check"></i><b>10.9.1</b> Turn in this project</a></li>
</ul></li>
<li class="chapter" data-level="10.10" data-path="reordering-factors.html"><a href="reordering-factors.html#resources-1"><i class="fa fa-check"></i><b>10.10</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="plotly.html"><a href="plotly.html"><i class="fa fa-check"></i><b>11</b> Plotly</a></li>
<li class="chapter" data-level="12" data-path="census.html"><a href="census.html"><i class="fa fa-check"></i><b>12</b> Census</a>
<ul>
<li class="chapter" data-level="12.1" data-path="census.html"><a href="census.html#goals-of-this-section"><i class="fa fa-check"></i><b>12.1</b> Goals of this section</a></li>
<li class="chapter" data-level="12.2" data-path="census.html"><a href="census.html#census-bureau-programs-and-platforms"><i class="fa fa-check"></i><b>12.2</b> Census Bureau programs and platforms</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="census.html"><a href="census.html#decennial-census"><i class="fa fa-check"></i><b>12.2.1</b> Decennial Census</a></li>
<li class="chapter" data-level="12.2.2" data-path="census.html"><a href="census.html#american-community-survey"><i class="fa fa-check"></i><b>12.2.2</b> American Community Survey</a></li>
<li class="chapter" data-level="12.2.3" data-path="census.html"><a href="census.html#population-estimates-program"><i class="fa fa-check"></i><b>12.2.3</b> Population Estimates Program</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="census.html"><a href="census.html#using-the-new-data-portal"><i class="fa fa-check"></i><b>12.3</b> Using the new data portal</a>
<ul>
<li class="chapter" data-level="12.3.1" data-path="census.html"><a href="census.html#tips-about-using-downloaded-portal-data-in-r"><i class="fa fa-check"></i><b>12.3.1</b> Tips about using downloaded portal data in R</a></li>
<li class="chapter" data-level="12.3.2" data-path="census.html"><a href="census.html#importing-downloaded-data"><i class="fa fa-check"></i><b>12.3.2</b> Importing downloaded data</a></li>
<li class="chapter" data-level="12.3.3" data-path="census.html"><a href="census.html#fields-made-to-join-with-other-data"><i class="fa fa-check"></i><b>12.3.3</b> Fields made to join with other data</a></li>
</ul></li>
<li class="chapter" data-level="12.4" data-path="census.html"><a href="census.html#using-the-census-api-in-r"><i class="fa fa-check"></i><b>12.4</b> Using the Census API in R</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="census.html"><a href="census.html#setting-up-an-api-key"><i class="fa fa-check"></i><b>12.4.1</b> Setting up an API key</a></li>
<li class="chapter" data-level="12.4.2" data-path="census.html"><a href="census.html#the-censusapi-package"><i class="fa fa-check"></i><b>12.4.2</b> The censusapi package</a></li>
<li class="chapter" data-level="12.4.3" data-path="census.html"><a href="census.html#the-tidycensus-package"><i class="fa fa-check"></i><b>12.4.3</b> The tidycensus package</a></li>
<li class="chapter" data-level="12.4.4" data-path="census.html"><a href="census.html#adding-geometry-to-tidycensus"><i class="fa fa-check"></i><b>12.4.4</b> Adding geometry to tidycensus</a></li>
<li class="chapter" data-level="12.4.5" data-path="census.html"><a href="census.html#map-shapes-only-with-tigris"><i class="fa fa-check"></i><b>12.4.5</b> Map shapes only with tigris</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="census.html"><a href="census.html#interactive-maps-with-leaflet"><i class="fa fa-check"></i><b>12.5</b> Interactive maps with leaflet</a></li>
<li class="chapter" data-level="12.6" data-path="census.html"><a href="census.html#resources-2"><i class="fa fa-check"></i><b>12.6</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="review---data-wrangling.html"><a href="review---data-wrangling.html"><i class="fa fa-check"></i><b>13</b> Review - Data wrangling</a>
<ul>
<li class="chapter" data-level="13.1" data-path="review---data-wrangling.html"><a href="review---data-wrangling.html#start-a-new-project"><i class="fa fa-check"></i><b>13.1</b> Start a new project</a></li>
<li class="chapter" data-level="13.2" data-path="review---data-wrangling.html"><a href="review---data-wrangling.html#downloading-our-data"><i class="fa fa-check"></i><b>13.2</b> Downloading our data</a></li>
<li class="chapter" data-level="13.3" data-path="review---data-wrangling.html"><a href="review---data-wrangling.html#importing-from-an-excel-spreadsheet"><i class="fa fa-check"></i><b>13.3</b> Importing from an Excel spreadsheet</a></li>
<li class="chapter" data-level="13.4" data-path="review---data-wrangling.html"><a href="review---data-wrangling.html#a-quick-look-at-our-data"><i class="fa fa-check"></i><b>13.4</b> A quick look at our data</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="cleaning.html"><a href="cleaning.html"><i class="fa fa-check"></i><b>14</b> Cleaning</a>
<ul>
<li class="chapter" data-level="14.1" data-path="cleaning.html"><a href="cleaning.html#not-finished-needs-rewrite"><i class="fa fa-check"></i><b>14.1</b> NOT FINISHED, NEEDS REWRITE</a></li>
<li class="chapter" data-level="14.2" data-path="cleaning.html"><a href="cleaning.html#goals-for-this-section-3"><i class="fa fa-check"></i><b>14.2</b> Goals for this section</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="cleaning.html"><a href="cleaning.html#resources-3"><i class="fa fa-check"></i><b>14.2.1</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="cleaning.html"><a href="cleaning.html#explain-thyself"><i class="fa fa-check"></i><b>14.3</b> Explain thyself</a></li>
<li class="chapter" data-level="14.4" data-path="cleaning.html"><a href="cleaning.html#syntax-etiquette"><i class="fa fa-check"></i><b>14.4</b> Syntax etiquette</a></li>
<li class="chapter" data-level="14.5" data-path="cleaning.html"><a href="cleaning.html#recode-the-apd_race-column"><i class="fa fa-check"></i><b>14.5</b> Recode the <code>apd_race</code> column</a></li>
<li class="chapter" data-level="14.6" data-path="cleaning.html"><a href="cleaning.html#filter-out-data-we-dont-need"><i class="fa fa-check"></i><b>14.6</b> Filter out data we don’t need</a>
<ul>
<li class="chapter" data-level="14.6.1" data-path="cleaning.html"><a href="cleaning.html#about-marijuana-charges"><i class="fa fa-check"></i><b>14.6.1</b> About marijuana charges</a></li>
<li class="chapter" data-level="14.6.2" data-path="cleaning.html"><a href="cleaning.html#filter-out-delivery-charges"><i class="fa fa-check"></i><b>14.6.2</b> Filter out delivery charges</a></li>
<li class="chapter" data-level="14.6.3" data-path="cleaning.html"><a href="cleaning.html#remove-controlled-substance"><i class="fa fa-check"></i><b>14.6.3</b> Remove controlled substance</a></li>
<li class="chapter" data-level="14.6.4" data-path="cleaning.html"><a href="cleaning.html#remove-drug-free-zones"><i class="fa fa-check"></i><b>14.6.4</b> Remove drug free zones</a></li>
<li class="chapter" data-level="14.6.5" data-path="cleaning.html"><a href="cleaning.html#remove-request-to-apprehend"><i class="fa fa-check"></i><b>14.6.5</b> Remove request to apprehend</a></li>
<li class="chapter" data-level="14.6.6" data-path="cleaning.html"><a href="cleaning.html#removing-more-unwated-records"><i class="fa fa-check"></i><b>14.6.6</b> Removing more unwated records</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="cleaning.html"><a href="cleaning.html#finding-just-b-misdemeanors"><i class="fa fa-check"></i><b>14.7</b> Finding just B misdemeanors</a></li>
<li class="chapter" data-level="14.8" data-path="cleaning.html"><a href="cleaning.html#export-your-updated-data-frame"><i class="fa fa-check"></i><b>14.8</b> Export your updated data frame</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="sped-import.html"><a href="sped-import.html"><i class="fa fa-check"></i><b>15</b> SPED Joins</a>
<ul>
<li class="chapter" data-level="15.1" data-path="sped-import.html"><a href="sped-import.html#goals-for-this-section-4"><i class="fa fa-check"></i><b>15.1</b> Goals for this section</a></li>
<li class="chapter" data-level="15.2" data-path="sped-import.html"><a href="sped-import.html#our-project-data-1"><i class="fa fa-check"></i><b>15.2</b> Our project data</a></li>
<li class="chapter" data-level="15.3" data-path="sped-import.html"><a href="sped-import.html#about-data-sources-1"><i class="fa fa-check"></i><b>15.3</b> About data sources</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="sped-import.html"><a href="sped-import.html#what-is-clean-data-1"><i class="fa fa-check"></i><b>15.3.1</b> What is clean data</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="sped-import.html"><a href="sped-import.html#create-a-new-project-1"><i class="fa fa-check"></i><b>15.4</b> Create a new project</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="sped-import.html"><a href="sped-import.html#the-r-package-environment-1"><i class="fa fa-check"></i><b>15.4.1</b> The R Package environment</a></li>
<li class="chapter" data-level="15.4.2" data-path="sped-import.html"><a href="sped-import.html#installing-and-using-packages-1"><i class="fa fa-check"></i><b>15.4.2</b> Installing and using packages</a></li>
<li class="chapter" data-level="15.4.3" data-path="sped-import.html"><a href="sped-import.html#load-the-libraries-1"><i class="fa fa-check"></i><b>15.4.3</b> Load the libraries</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="sped-import.html"><a href="sped-import.html#downloading-raw-data"><i class="fa fa-check"></i><b>15.5</b> Downloading raw data</a>
<ul>
<li class="chapter" data-level="15.5.1" data-path="sped-import.html"><a href="sped-import.html#create-a-directory-for-your-data-1"><i class="fa fa-check"></i><b>15.5.1</b> Create a directory for your data</a></li>
<li class="chapter" data-level="15.5.2" data-path="sped-import.html"><a href="sped-import.html#lets-get-some-data"><i class="fa fa-check"></i><b>15.5.2</b> Let’s get some data</a></li>
<li class="chapter" data-level="15.5.3" data-path="sped-import.html"><a href="sped-import.html#peek-at-the-data-file"><i class="fa fa-check"></i><b>15.5.3</b> Peek at the data file</a></li>
<li class="chapter" data-level="15.5.4" data-path="sped-import.html"><a href="sped-import.html#import-csv-as-data"><i class="fa fa-check"></i><b>15.5.4</b> Import csv as data</a></li>
</ul></li>
<li class="chapter" data-level="15.6" data-path="sped-import.html"><a href="sped-import.html#assign-our-import-to-a-data-frame"><i class="fa fa-check"></i><b>15.6</b> Assign our import to a data frame</a>
<ul>
<li class="chapter" data-level="15.6.1" data-path="sped-import.html"><a href="sped-import.html#print-a-peek-to-the-screen-1"><i class="fa fa-check"></i><b>15.6.1</b> Print a peek to the screen</a></li>
<li class="chapter" data-level="15.6.2" data-path="sped-import.html"><a href="sped-import.html#glimpse-the-data-2"><i class="fa fa-check"></i><b>15.6.2</b> Glimpse the data</a></li>
<li class="chapter" data-level="15.6.3" data-path="sped-import.html"><a href="sped-import.html#about-the-pipe-1"><i class="fa fa-check"></i><b>15.6.3</b> About the pipe %&gt;%</a></li>
<li class="chapter" data-level="15.6.4" data-path="sped-import.html"><a href="sped-import.html#creating-consistent-column-names"><i class="fa fa-check"></i><b>15.6.4</b> Creating consistent column names</a></li>
<li class="chapter" data-level="15.6.5" data-path="sped-import.html"><a href="sped-import.html#import-other-data-frames"><i class="fa fa-check"></i><b>15.6.5</b> Import other data frames</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="sped-import.html"><a href="sped-import.html#prepare-data-for-joining"><i class="fa fa-check"></i><b>15.7</b> Prepare data for joining</a>
<ul>
<li class="chapter" data-level="15.7.1" data-path="sped-import.html"><a href="sped-import.html#prepare-the-directory-data"><i class="fa fa-check"></i><b>15.7.1</b> Prepare the directory data</a></li>
<li class="chapter" data-level="15.7.2" data-path="sped-import.html"><a href="sped-import.html#prepare-cstud-data"><i class="fa fa-check"></i><b>15.7.2</b> Prepare CSTUD data</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="sped-import.html"><a href="sped-import.html#joining-the-data-together"><i class="fa fa-check"></i><b>15.8</b> Joining the data together</a></li>
<li class="chapter" data-level="15.9" data-path="sped-import.html"><a href="sped-import.html#exporting-data-1"><i class="fa fa-check"></i><b>15.9</b> Exporting data</a>
<ul>
<li class="chapter" data-level="15.9.1" data-path="sped-import.html"><a href="sped-import.html#single-notebook-philosophy-1"><i class="fa fa-check"></i><b>15.9.1</b> Single-notebook philosophy</a></li>
<li class="chapter" data-level="15.9.2" data-path="sped-import.html"><a href="sped-import.html#exporting-as-rds-1"><i class="fa fa-check"></i><b>15.9.2</b> Exporting as rds</a></li>
</ul></li>
<li class="chapter" data-level="15.10" data-path="sped-import.html"><a href="sped-import.html#review-of-what-weve-learned-so-far-1"><i class="fa fa-check"></i><b>15.10</b> Review of what we’ve learned so far</a></li>
<li class="chapter" data-level="15.11" data-path="sped-import.html"><a href="sped-import.html#resources-4"><i class="fa fa-check"></i><b>15.11</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="sped-transform.html"><a href="sped-transform.html"><i class="fa fa-check"></i><b>16</b> Transform</a>
<ul>
<li class="chapter" data-level="16.1" data-path="sped-transform.html"><a href="sped-transform.html#rewite-tasks"><i class="fa fa-check"></i><b>16.1</b> Rewite tasks</a></li>
<li class="chapter" data-level="16.2" data-path="sped-transform.html"><a href="sped-transform.html#goals-for-the-section"><i class="fa fa-check"></i><b>16.2</b> Goals for the section</a></li>
<li class="chapter" data-level="16.3" data-path="sped-transform.html"><a href="sped-transform.html#introducing-dplyr-1"><i class="fa fa-check"></i><b>16.3</b> Introducing dplyr</a></li>
<li class="chapter" data-level="16.4" data-path="sped-transform.html"><a href="sped-transform.html#start-a-new-r-notebook"><i class="fa fa-check"></i><b>16.4</b> Start a new R Notebook</a></li>
<li class="chapter" data-level="16.5" data-path="sped-transform.html"><a href="sped-transform.html#record-our-goals"><i class="fa fa-check"></i><b>16.5</b> Record our goals</a></li>
<li class="chapter" data-level="16.6" data-path="sped-transform.html"><a href="sped-transform.html#setup-1"><i class="fa fa-check"></i><b>16.6</b> Setup</a>
<ul>
<li class="chapter" data-level="16.6.1" data-path="sped-transform.html"><a href="sped-transform.html#naming-our-chunks"><i class="fa fa-check"></i><b>16.6.1</b> Naming our chunks</a></li>
</ul></li>
<li class="chapter" data-level="16.7" data-path="sped-transform.html"><a href="sped-transform.html#import-our-data"><i class="fa fa-check"></i><b>16.7</b> Import our data</a></li>
<li class="chapter" data-level="16.8" data-path="sped-transform.html"><a href="sped-transform.html#explore-instruction-type"><i class="fa fa-check"></i><b>16.8</b> Explore instruction type</a></li>
<li class="chapter" data-level="16.9" data-path="sped-transform.html"><a href="sped-transform.html#filter-1"><i class="fa fa-check"></i><b>16.9</b> Filter()</a>
<ul>
<li class="chapter" data-level="16.9.1" data-path="sped-transform.html"><a href="sped-transform.html#filter-for-regular-instructional-schools"><i class="fa fa-check"></i><b>16.9.1</b> Filter for Regular Instructional schools</a></li>
<li class="chapter" data-level="16.9.2" data-path="sped-transform.html"><a href="sped-transform.html#logical-tests"><i class="fa fa-check"></i><b>16.9.2</b> Logical tests</a></li>
<li class="chapter" data-level="16.9.3" data-path="sped-transform.html"><a href="sped-transform.html#common-mistakes-with-filter"><i class="fa fa-check"></i><b>16.9.3</b> Common mistakes with filter</a></li>
</ul></li>
<li class="chapter" data-level="16.10" data-path="sped-transform.html"><a href="sped-transform.html#combining-filters"><i class="fa fa-check"></i><b>16.10</b> Combining filters</a>
<ul>
<li class="chapter" data-level="16.10.1" data-path="sped-transform.html"><a href="sped-transform.html#common-mistakes-with-combining-filters"><i class="fa fa-check"></i><b>16.10.1</b> Common mistakes with combining filters</a></li>
</ul></li>
<li class="chapter" data-level="16.11" data-path="sped-transform.html"><a href="sped-transform.html#select"><i class="fa fa-check"></i><b>16.11</b> Select()</a></li>
<li class="chapter" data-level="16.12" data-path="sped-transform.html"><a href="sped-transform.html#how-to-describe-the-change"><i class="fa fa-check"></i><b>16.12</b> How to describe the change</a>
<ul>
<li class="chapter" data-level="16.12.1" data-path="sped-transform.html"><a href="sped-transform.html#describing-the-count-changes"><i class="fa fa-check"></i><b>16.12.1</b> Describing the count changes</a></li>
<li class="chapter" data-level="16.12.2" data-path="sped-transform.html"><a href="sped-transform.html#describing-percentage-differences"><i class="fa fa-check"></i><b>16.12.2</b> Describing percentage differences</a></li>
</ul></li>
<li class="chapter" data-level="16.13" data-path="sped-transform.html"><a href="sped-transform.html#mutate"><i class="fa fa-check"></i><b>16.13</b> Mutate()</a>
<ul>
<li class="chapter" data-level="16.13.1" data-path="sped-transform.html"><a href="sped-transform.html#simple-change-of-counts"><i class="fa fa-check"></i><b>16.13.1</b> Simple change of counts</a></li>
<li class="chapter" data-level="16.13.2" data-path="sped-transform.html"><a href="sped-transform.html#calculate-percent-change"><i class="fa fa-check"></i><b>16.13.2</b> Calculate percent change</a></li>
<li class="chapter" data-level="16.13.3" data-path="sped-transform.html"><a href="sped-transform.html#calculate-percentage-point-difference"><i class="fa fa-check"></i><b>16.13.3</b> Calculate percentage point difference</a></li>
<li class="chapter" data-level="16.13.4" data-path="sped-transform.html"><a href="sped-transform.html#calculating-our-special-education-threshold"><i class="fa fa-check"></i><b>16.13.4</b> Calculating our special education threshold</a></li>
</ul></li>
<li class="chapter" data-level="16.14" data-path="sped-transform.html"><a href="sped-transform.html#export-your-computations"><i class="fa fa-check"></i><b>16.14</b> Export your computations</a></li>
<li class="chapter" data-level="16.15" data-path="sped-transform.html"><a href="sped-transform.html#more-dplyr-in-next-lesson"><i class="fa fa-check"></i><b>16.15</b> More dplyr in next lesson</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="sped-summarize.html"><a href="sped-summarize.html"><i class="fa fa-check"></i><b>17</b> Summarize</a>
<ul>
<li class="chapter" data-level="17.1" data-path="sped-summarize.html"><a href="sped-summarize.html#new-task-new-notebook"><i class="fa fa-check"></i><b>17.1</b> New task, new notebook</a>
<ul>
<li class="chapter" data-level="17.1.1" data-path="sped-summarize.html"><a href="sped-summarize.html#create-analysis-notebook"><i class="fa fa-check"></i><b>17.1.1</b> Create analysis notebook</a></li>
<li class="chapter" data-level="17.1.2" data-path="sped-summarize.html"><a href="sped-summarize.html#import-1"><i class="fa fa-check"></i><b>17.1.2</b> Import</a></li>
<li class="chapter" data-level="17.1.3" data-path="sped-summarize.html"><a href="sped-summarize.html#filter-to-austin-isd"><i class="fa fa-check"></i><b>17.1.3</b> Filter to Austin ISD</a></li>
</ul></li>
<li class="chapter" data-level="17.2" data-path="sped-summarize.html"><a href="sped-summarize.html#sorting-with-arrange"><i class="fa fa-check"></i><b>17.2</b> Sorting with arrange()</a>
<ul>
<li class="chapter" data-level="17.2.1" data-path="sped-summarize.html"><a href="sped-summarize.html#about-arrange"><i class="fa fa-check"></i><b>17.2.1</b> About arrange</a></li>
<li class="chapter" data-level="17.2.2" data-path="sped-summarize.html"><a href="sped-summarize.html#most-new-special-education-students"><i class="fa fa-check"></i><b>17.2.2</b> Most new special education students</a></li>
<li class="chapter" data-level="17.2.3" data-path="sped-summarize.html"><a href="sped-summarize.html#the-head-command"><i class="fa fa-check"></i><b>17.2.3</b> The head() command</a></li>
<li class="chapter" data-level="17.2.4" data-path="sped-summarize.html"><a href="sped-summarize.html#highest-share-of-special-education-students-in-2020"><i class="fa fa-check"></i><b>17.2.4</b> Highest share of special education students in 2020</a></li>
<li class="chapter" data-level="17.2.5" data-path="sped-summarize.html"><a href="sped-summarize.html#greatest-change-in-share-of-special-education-students"><i class="fa fa-check"></i><b>17.2.5</b> Greatest change in share of special education students</a></li>
</ul></li>
<li class="chapter" data-level="17.3" data-path="sped-summarize.html"><a href="sped-summarize.html#aggregates-with-summarize"><i class="fa fa-check"></i><b>17.3</b> Aggregates with summarize()</a></li>
<li class="chapter" data-level="17.4" data-path="sped-summarize.html"><a href="sped-summarize.html#group_by"><i class="fa fa-check"></i><b>17.4</b> Group_by()</a>
<ul>
<li class="chapter" data-level="17.4.1" data-path="sped-summarize.html"><a href="sped-summarize.html#group-and-count"><i class="fa fa-check"></i><b>17.4.1</b> Group and count</a></li>
<li class="chapter" data-level="17.4.2" data-path="sped-summarize.html"><a href="sped-summarize.html#the-count-function-shortcut"><i class="fa fa-check"></i><b>17.4.2</b> The count() function shortcut</a></li>
<li class="chapter" data-level="17.4.3" data-path="sped-summarize.html"><a href="sped-summarize.html#comparing-thresholds-for-2015-and-2020"><i class="fa fa-check"></i><b>17.4.3</b> Comparing thresholds for 2015 and 2020</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="sped-summarize.html"><a href="sped-summarize.html#more-on-summarize"><i class="fa fa-check"></i><b>17.5</b> More on summarize</a>
<ul>
<li class="chapter" data-level="17.5.1" data-path="sped-summarize.html"><a href="sped-summarize.html#ignoring-na-values"><i class="fa fa-check"></i><b>17.5.1</b> Ignoring NA values</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="sped-summarize.html"><a href="sped-summarize.html#review-what-we-learned"><i class="fa fa-check"></i><b>17.6</b> Review what we learned</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html"><i class="fa fa-check"></i><b>18</b> How to tackle a new dataset</a>
<ul>
<li class="chapter" data-level="18.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#needs-review"><i class="fa fa-check"></i><b>18.1</b> NEEDS REVIEW</a></li>
<li class="chapter" data-level="18.2" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#start-by-listing-questions"><i class="fa fa-check"></i><b>18.2</b> Start by listing questions</a></li>
<li class="chapter" data-level="18.3" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#understand-your-data"><i class="fa fa-check"></i><b>18.3</b> Understand your data</a></li>
<li class="chapter" data-level="18.4" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#counting-and-aggregation"><i class="fa fa-check"></i><b>18.4</b> Counting and aggregation</a>
<ul>
<li class="chapter" data-level="18.4.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#counting-rows-based-on-a-column"><i class="fa fa-check"></i><b>18.4.1</b> Counting rows based on a column</a></li>
<li class="chapter" data-level="18.4.2" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#sum-mean-and-other-aggregations"><i class="fa fa-check"></i><b>18.4.2</b> Sum, mean and other aggregations</a></li>
<li class="chapter" data-level="18.4.3" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#creating-columns-to-show-difference"><i class="fa fa-check"></i><b>18.4.3</b> Creating columns to show difference</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#cleaning-up-categorical-data"><i class="fa fa-check"></i><b>18.5</b> Cleaning up categorical data</a></li>
<li class="chapter" data-level="18.6" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#time-as-a-variable"><i class="fa fa-check"></i><b>18.6</b> Time as a variable</a></li>
<li class="chapter" data-level="18.7" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#explore-the-distributions-in-your-data"><i class="fa fa-check"></i><b>18.7</b> Explore the distributions in your data</a>
<ul>
<li class="chapter" data-level="18.7.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#more-on-histograms"><i class="fa fa-check"></i><b>18.7.1</b> More on histograms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="verbs.html"><a href="verbs.html"><i class="fa fa-check"></i><b>19</b> Verbs</a>
<ul>
<li class="chapter" data-level="19.1" data-path="verbs.html"><a href="verbs.html#needs-review-1"><i class="fa fa-check"></i><b>19.1</b> NEEDS REVIEW</a></li>
<li class="chapter" data-level="19.2" data-path="verbs.html"><a href="verbs.html#importexport"><i class="fa fa-check"></i><b>19.2</b> Import/Export</a></li>
<li class="chapter" data-level="19.3" data-path="verbs.html"><a href="verbs.html#data-manipulation"><i class="fa fa-check"></i><b>19.3</b> Data manipulation</a></li>
<li class="chapter" data-level="19.4" data-path="verbs.html"><a href="verbs.html#aggregation"><i class="fa fa-check"></i><b>19.4</b> Aggregation</a></li>
<li class="chapter" data-level="19.5" data-path="verbs.html"><a href="verbs.html#math"><i class="fa fa-check"></i><b>19.5</b> Math</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="chart-examples.html"><a href="chart-examples.html"><i class="fa fa-check"></i><b>20</b> Chart examples</a>
<ul>
<li class="chapter" data-level="20.1" data-path="chart-examples.html"><a href="chart-examples.html#needs-review-2"><i class="fa fa-check"></i><b>20.1</b> NEEDS REVIEW</a></li>
<li class="chapter" data-level="20.2" data-path="chart-examples.html"><a href="chart-examples.html#bar-charts"><i class="fa fa-check"></i><b>20.2</b> Bar charts</a>
<ul>
<li class="chapter" data-level="20.2.1" data-path="chart-examples.html"><a href="chart-examples.html#explanaton"><i class="fa fa-check"></i><b>20.2.1</b> Explanaton</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="chart-examples.html"><a href="chart-examples.html#column-chart"><i class="fa fa-check"></i><b>20.3</b> Column chart</a></li>
<li class="chapter" data-level="20.4" data-path="chart-examples.html"><a href="chart-examples.html#a-line-chart"><i class="fa fa-check"></i><b>20.4</b> A line chart</a>
<ul>
<li class="chapter" data-level="20.4.1" data-path="chart-examples.html"><a href="chart-examples.html#explanation"><i class="fa fa-check"></i><b>20.4.1</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="chart-examples.html"><a href="chart-examples.html#scatterplot-1"><i class="fa fa-check"></i><b>20.5</b> Scatterplot</a>
<ul>
<li class="chapter" data-level="20.5.1" data-path="chart-examples.html"><a href="chart-examples.html#explanation-1"><i class="fa fa-check"></i><b>20.5.1</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="20.6" data-path="chart-examples.html"><a href="chart-examples.html#histogram"><i class="fa fa-check"></i><b>20.6</b> Histogram</a></li>
<li class="chapter" data-level="20.7" data-path="chart-examples.html"><a href="chart-examples.html#titles-labels-and-other-cleanup"><i class="fa fa-check"></i><b>20.7</b> Titles, labels and other cleanup</a>
<ul>
<li class="chapter" data-level="20.7.1" data-path="chart-examples.html"><a href="chart-examples.html#title-and-axis-labels"><i class="fa fa-check"></i><b>20.7.1</b> Title and axis labels</a></li>
<li class="chapter" data-level="20.7.2" data-path="chart-examples.html"><a href="chart-examples.html#flip-the-graphic"><i class="fa fa-check"></i><b>20.7.2</b> Flip the graphic</a></li>
<li class="chapter" data-level="20.7.3" data-path="chart-examples.html"><a href="chart-examples.html#fix-exponential-numbers-on-an-axis"><i class="fa fa-check"></i><b>20.7.3</b> Fix exponential numbers on an axis</a></li>
</ul></li>
<li class="chapter" data-level="20.8" data-path="chart-examples.html"><a href="chart-examples.html#interactivity-with-plotly"><i class="fa fa-check"></i><b>20.8</b> Interactivity with plotly</a></li>
<li class="chapter" data-level="20.9" data-path="chart-examples.html"><a href="chart-examples.html#resources-5"><i class="fa fa-check"></i><b>20.9</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html"><i class="fa fa-check"></i><b>21</b> Publishing your findings</a>
<ul>
<li class="chapter" data-level="21.1" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#needs-review-3"><i class="fa fa-check"></i><b>21.1</b> NEEDS REVIEW</a></li>
<li class="chapter" data-level="21.2" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#examples"><i class="fa fa-check"></i><b>21.2</b> Examples</a></li>
<li class="chapter" data-level="21.3" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#how-to-publish-your-projects"><i class="fa fa-check"></i><b>21.3</b> How to publish your projects</a>
<ul>
<li class="chapter" data-level="21.3.1" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#using-github-pages"><i class="fa fa-check"></i><b>21.3.1</b> Using Github Pages</a></li>
</ul></li>
<li class="chapter" data-level="21.4" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#making-branded-graphics"><i class="fa fa-check"></i><b>21.4</b> Making branded graphics</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reporting with Data in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cleaning" class="section level1" number="14">
<h1><span class="header-section-number">Chapter 14</span> Cleaning</h1>
<div id="not-finished-needs-rewrite" class="section level2" number="14.1">
<h2><span class="header-section-number">14.1</span> NOT FINISHED, NEEDS REWRITE</h2>
<ul>
<li>include section on clean code and advanced tips. naming chunks. good indents. good markdown. tips for the navigation dropdown. keyboard command review. Restart and run.</li>
<li>recode</li>
<li>case_when</li>
<li>Fix lists</li>
</ul>
<hr />
<p>In this chapter we are continuing with our “arrests” project in the <code>01-import.Rmd</code> notebook. We’ll use some cleaning techniques to prepare our data for analysis later in a different notebook.</p>
</div>
<div id="goals-for-this-section-3" class="section level2" number="14.2">
<h2><span class="header-section-number">14.2</span> Goals for this section</h2>
<ul>
<li>Recap good coding practices and build on them.</li>
<li>Create a <code>race_simplified</code> column using <code>recode()</code>.</li>
<li>Create a cleaned <code>arrest_charge</code> column.</li>
<li>Export data for next notebook.</li>
</ul>
<div id="resources-3" class="section level3" number="14.2.1">
<h3><span class="header-section-number">14.2.1</span> Resources</h3>
<blockquote>
<p>Update these resources or kill it since I link within the text.</p>
</blockquote>
<ul>
<li><a href="https://r4ds.had.co.nz/strings.html">Strings</a> chapter from Hadley Wickham’s book, specifically about <a href="https://r4ds.had.co.nz/strings.html#replacing-matches"><code>str_replace()</code></a>.</li>
<li><a href="https://www.rdocumentation.org/packages/stringr/versions/1.3.1/topics/str_replace">RDocumentation</a> on <code>str_replace()</code>.</li>
<li><a href="https://github.com/rstudio/cheatsheets/raw/master/strings.pdf">stringr cheatsheet</a>.</li>
</ul>
</div>
</div>
<div id="explain-thyself" class="section level2" number="14.3">
<h2><span class="header-section-number">14.3</span> Explain thyself</h2>
<p>Throughout this notebook, we want to explain our thoughts and goals in Markdown. You want to write these concepts out for collaborators or others who might read your work, but your future self is your first, best audience.</p>
<ul>
<li><p>Organize sections of your notebook with headlines. Write about the goal of each section.</p></li>
<li><p>Each code block in the section should have a human readable explanation of the goal or task.</p></li>
<li><p>Name your chunks.</p></li>
<li><p>Use <code>#</code> comments in your code if you need more clarity.</p></li>
<li><p>Go back and update your notebook with these things if you don’t have them already.</p></li>
</ul>
</div>
<div id="syntax-etiquette" class="section level2" number="14.4">
<h2><span class="header-section-number">14.4</span> Syntax etiquette</h2>
<p>You might have noticed when I write code in R, I add returns and indent code to keep it readable. I usually pipe <code>%&gt;%</code> to a new line unless I have just one pipe. If I have a list of items within a function, I might put each item on a new line so they are easier to read.</p>
<p>One thing you want to do is make sure no one line is too long. A good place to start adding returns to shorten a line (or nesting it) is within a function. The nested code should be indented one tab stop. RStudio helps you set tabs when you hit return, but you might need to clean up your code as you go along.</p>
<p>This code chunk we’ve already written includes a lot of these concepts, including some comments to help me understand my code later. Comments like this can be on a line of their own or at the end of a line.</p>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="cleaning.html#cb189-1" aria-hidden="true" tabindex="-1"></a>data <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(</span>
<span id="cb189-2"><a href="cleaning.html#cb189-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># breaking up read_excel to make shorting line</span></span>
<span id="cb189-3"><a href="cleaning.html#cb189-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;data-raw/APD_marijuana_arrests_2016-2020_data.xlsx&quot;</span>,</span>
<span id="cb189-4"><a href="cleaning.html#cb189-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sheet =</span> <span class="st">&quot;Results&quot;</span>,</span>
<span id="cb189-5"><a href="cleaning.html#cb189-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">col_types =</span> <span class="fu">c</span>(</span>
<span id="cb189-6"><a href="cleaning.html#cb189-6" aria-hidden="true" tabindex="-1"></a>      <span class="co"># putting values on own lines for readability</span></span>
<span id="cb189-7"><a href="cleaning.html#cb189-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;text&quot;</span>,  <span class="co"># key</span></span>
<span id="cb189-8"><a href="cleaning.html#cb189-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;guess&quot;</span>, <span class="co"># date</span></span>
<span id="cb189-9"><a href="cleaning.html#cb189-9" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;guess&quot;</span>, <span class="co"># charge</span></span>
<span id="cb189-10"><a href="cleaning.html#cb189-10" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;guess&quot;</span>, <span class="co"># race</span></span>
<span id="cb189-11"><a href="cleaning.html#cb189-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;guess&quot;</span>, <span class="co"># sex</span></span>
<span id="cb189-12"><a href="cleaning.html#cb189-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;guess&quot;</span>, <span class="co"># location</span></span>
<span id="cb189-13"><a href="cleaning.html#cb189-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;text&quot;</span>,  <span class="co"># zip</span></span>
<span id="cb189-14"><a href="cleaning.html#cb189-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;guess&quot;</span>, <span class="co"># x coordinate</span></span>
<span id="cb189-15"><a href="cleaning.html#cb189-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;guess&quot;</span>  <span class="co"># y coordinate</span></span>
<span id="cb189-16"><a href="cleaning.html#cb189-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb189-17"><a href="cleaning.html#cb189-17" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>()</span></code></pre></div>
<ul>
<li>Go back through your code chunks and make sure the syntax is clean.</li>
</ul>
</div>
<div id="recode-the-apd_race-column" class="section level2" number="14.5">
<h2><span class="header-section-number">14.5</span> Recode the <code>apd_race</code> column</h2>
<p>We’re going to create a simplified race column by “recoding” the values from the <code>apd_race</code> column. We’ll create a smaller set of races, combing some into “other.”</p>
<p>First, let’s review the <code>apd_race</code> values:</p>
<div class="sourceCode" id="cb190"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb190-1"><a href="cleaning.html#cb190-1" aria-hidden="true" tabindex="-1"></a>data <span class="sc">%&gt;%</span> <span class="fu">count</span>(apd_race)</span></code></pre></div>
<pre><code>## # A tibble: 8 × 2
##   apd_race                           n
##   &lt;chr&gt;                          &lt;int&gt;
## 1 AMERICAN INDIAN/ALASKAN NATIVE     3
## 2 ASIAN                             48
## 3 BLACK                           2733
## 4 HAWAIIAN/PACIFIC ISLANDER          1
## 5 HISPANIC OR LATINO              3202
## 6 MIDDLE EASTERN                    21
## 7 UNKNOWN                            7
## 8 WHITE                           1813</code></pre>
<p>Let’s rename everything that isn’t Asian, Black, Hispanic or White as Other. We need to make a note (in Markdown!) that we are including the Unknowns in Other and include a note with any graphic or analysis we do later.</p>
<p>We are creating a new column (and avoid writing over an existing column) so we can keep the old one if we perhaps want to look at the more specific race/ethnicities. We’ll also port the results into a new data frame <code>data_race</code> in case we need to get to the original data for any reason.</p>
<p>We are using two functions here to accomplish this: We use <code>mutate()</code> to create the column and we name the new columns <code>race_simple</code>. The values for that are filled with the <code>recode()</code> function that lists the existing value first, then the new values (which is kinda opposite from mutate, where we name the new item first).</p>
<p><code>mutate()</code> works like this:</p>
<div class="sourceCode" id="cb192"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb192-1"><a href="cleaning.html#cb192-1" aria-hidden="true" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb192-2"><a href="cleaning.html#cb192-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb192-3"><a href="cleaning.html#cb192-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">new_col_name =</span> data_to_draw_from</span>
<span id="cb192-4"><a href="cleaning.html#cb192-4" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>And <code>recode()</code> works like this (but we will use this were <code>data_to_draw_from</code> is in our mutate).</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="cleaning.html#cb193-1" aria-hidden="true" tabindex="-1"></a><span class="fu">recode</span>(</span>
<span id="cb193-2"><a href="cleaning.html#cb193-2" aria-hidden="true" tabindex="-1"></a>  <span class="st">&quot;Old Value&quot;</span> <span class="ot">=</span> <span class="st">&quot;New Value&quot;</span></span>
<span id="cb193-3"><a href="cleaning.html#cb193-3" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>This is like a “search and replace” for a value within a column.</p>
<p>As we recode our new column we’ll leave out “ASIAN,” “BLACK,” and “WHITE” because we aren’t changing them. I’m recoding “HISPANIC OR LATINO” to just “HISPANIC” for simplicity and graph labels used later.</p>
<ul>
<li>Read over the code below to understand what is going on, then try to write it yourself without looking back. Run the code and if there is an error, read that first and try to figure it out.</li>
</ul>
<blockquote>
<p>The completed code is below, but know I wrote it in stages. Sometimes I’ll write part of the code first and make sure it works. I might write the mutate part and just fill <code>race_simple</code> from <code>apd_race</code> to make sure it works, then edit that to add the <code>recode()</code> step. I might not assign the data to a new data frame until I work out all the functions. It’s a process. Below I just have the finished product. I used a count using both columns to check my work.</p>
</blockquote>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="cleaning.html#cb194-1" aria-hidden="true" tabindex="-1"></a>data_race <span class="ot">&lt;-</span> data <span class="sc">%&gt;%</span> </span>
<span id="cb194-2"><a href="cleaning.html#cb194-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb194-3"><a href="cleaning.html#cb194-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">race_simple =</span> <span class="fu">recode</span>(apd_race,</span>
<span id="cb194-4"><a href="cleaning.html#cb194-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;AMERICAN INDIAN/ALASKAN NATIVE&quot;</span> <span class="ot">=</span> <span class="st">&quot;OTHER&quot;</span>,</span>
<span id="cb194-5"><a href="cleaning.html#cb194-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;HAWAIIAN/PACIFIC ISLANDER&quot;</span> <span class="ot">=</span> <span class="st">&quot;OTHER&quot;</span>,</span>
<span id="cb194-6"><a href="cleaning.html#cb194-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;HISPANIC OR LATINO&quot;</span> <span class="ot">=</span> <span class="st">&quot;HISPANIC&quot;</span>,</span>
<span id="cb194-7"><a href="cleaning.html#cb194-7" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;MIDDLE EASTERN&quot;</span> <span class="ot">=</span> <span class="st">&quot;OTHER&quot;</span>,</span>
<span id="cb194-8"><a href="cleaning.html#cb194-8" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;UNKNOWN&quot;</span> <span class="ot">=</span> <span class="st">&quot;OTHER&quot;</span>,</span>
<span id="cb194-9"><a href="cleaning.html#cb194-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb194-10"><a href="cleaning.html#cb194-10" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb194-11"><a href="cleaning.html#cb194-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb194-12"><a href="cleaning.html#cb194-12" aria-hidden="true" tabindex="-1"></a><span class="co"># peek at the results</span></span>
<span id="cb194-13"><a href="cleaning.html#cb194-13" aria-hidden="true" tabindex="-1"></a>data_race <span class="sc">%&gt;%</span></span>
<span id="cb194-14"><a href="cleaning.html#cb194-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(</span>
<span id="cb194-15"><a href="cleaning.html#cb194-15" aria-hidden="true" tabindex="-1"></a>    apd_race, race_simple</span>
<span id="cb194-16"><a href="cleaning.html#cb194-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 8 × 3
##   apd_race                       race_simple     n
##   &lt;chr&gt;                          &lt;chr&gt;       &lt;int&gt;
## 1 AMERICAN INDIAN/ALASKAN NATIVE OTHER           3
## 2 ASIAN                          ASIAN          48
## 3 BLACK                          BLACK        2733
## 4 HAWAIIAN/PACIFIC ISLANDER      OTHER           1
## 5 HISPANIC OR LATINO             HISPANIC     3202
## 6 MIDDLE EASTERN                 OTHER          21
## 7 UNKNOWN                        OTHER           7
## 8 WHITE                          WHITE        1813</code></pre>
<p>And now I can look just at the new column to get an idea of the simplified race breakdown.</p>
<ul>
<li>Add this chunk to your notebook.</li>
</ul>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="cleaning.html#cb196-1" aria-hidden="true" tabindex="-1"></a>data_race <span class="sc">%&gt;%</span> <span class="fu">count</span>(race_simple)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   race_simple     n
##   &lt;chr&gt;       &lt;int&gt;
## 1 ASIAN          48
## 2 BLACK        2733
## 3 HISPANIC     3202
## 4 OTHER          32
## 5 WHITE        1813</code></pre>
<p>The <code>race_simple</code> column was added to the end of the data frame. If you look at your environment, <code>data_race</code> has 10 columns vs 9 for <code>data</code>.</p>
</div>
<div id="filter-out-data-we-dont-need" class="section level2" number="14.6">
<h2><span class="header-section-number">14.6</span> Filter out data we don’t need</h2>
<p>Cleaning up the <code>arrest_charge</code> column is more complicated and we need to talk about our goals first. Let’s look again at the different <code>arrest_charge</code> values.</p>
<ul>
<li>Add this count to your notebook</li>
</ul>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="cleaning.html#cb198-1" aria-hidden="true" tabindex="-1"></a>data_race <span class="sc">%&gt;%</span> </span>
<span id="cb198-2"><a href="cleaning.html#cb198-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge) <span class="sc">%&gt;%</span> </span>
<span id="cb198-3"><a href="cleaning.html#cb198-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(n <span class="sc">%&gt;%</span> <span class="fu">desc</span>())</span></code></pre></div>
<pre><code>## # A tibble: 155 × 2
##    arrest_charge                    n
##    &lt;chr&gt;                        &lt;int&gt;
##  1 POSS MARIJ &lt; 2OZ              2214
##  2 POSS MARIJ &lt;2OZ               1963
##  3 POSS MARIJUANA &lt;2OZ           1355
##  4 POSS MARIJ &lt;2OZ (MB)           848
##  5 POSSESSION OF MARIJUANA &lt;2OZ   346
##  6 POSS MARIJ                     199
##  7 POSS MARIJUANA                 140
##  8 POSS MARIJ &gt;2OZ&lt;=4OZ            85
##  9 POSS MARIJ &gt;4OZ&lt;=5LBS           82
## 10 POSS MARIJ &lt;= 5LBS &gt; 4OZ        57
## # … with 145 more rows</code></pre>
<p>In your notebook you’ll be able to page through the results and you can see they are a mess. (This published page doesn’t paginate the results.)</p>
<div id="about-marijuana-charges" class="section level3" number="14.6.1">
<h3><span class="header-section-number">14.6.1</span> About marijuana charges</h3>
<p>Understanding what these charges are is important to the story. We only care about Class B Possession charges, which are under 2 ounces. (Class A is between 2 and 4 ounces.) We also need to be aware of Drug Free Zone (or DFZ) charges as those are “enhanced” to a higher charge, so we want to exclude those. We also want to exclude Delivery charges and anything not marijuana. Lastly, we also want to remove charges that include “request to apprehend” as in that case the police were looking for the suspect on a different charge.</p>
<p>So, in short, we only want charges under 2OZ without Drug Free Zone.</p>
<p><strong>This will be a process!</strong> We’ll build filters and sometimes use <code>count()</code> to check the results before creating new data frames with the filtered data.</p>
</div>
<div id="filter-out-delivery-charges" class="section level3" number="14.6.2">
<h3><span class="header-section-number">14.6.2</span> Filter out delivery charges</h3>
<p>Before we can remove data, we need to make sure we can find it properly. As you page through the charges results above, you’ll see some rows have “DEL” in the charge description. We will use <code>filter()</code> (which we’ve used in the Transform chapter) and <code>str_detect()</code> to find these records, review them, and then “negate” the filter so they are NOT included.</p>
<ul>
<li>Create a new chunk called “filter-del” and include the following code. I explain it afterward.</li>
</ul>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="cleaning.html#cb200-1" aria-hidden="true" tabindex="-1"></a>data_race <span class="sc">%&gt;%</span> </span>
<span id="cb200-2"><a href="cleaning.html#cb200-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb200-3"><a href="cleaning.html#cb200-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(arrest_charge, <span class="st">&quot;DEL&quot;</span>) </span>
<span id="cb200-4"><a href="cleaning.html#cb200-4" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 27 × 10
##    arrest_primary_k… arrest_date         arrest_charge         apd_race    sex  
##    &lt;chr&gt;             &lt;dttm&gt;              &lt;chr&gt;                 &lt;chr&gt;       &lt;chr&gt;
##  1 201600659         2016-01-05 00:00:00 DEL MARIJUANA &lt;= 5LB… WHITE       M    
##  2 201603658         2016-01-27 00:00:00 DEL MARIJ &lt;= 5LBS &gt; … BLACK       M    
##  3 201604087         2016-01-30 00:00:00 DEL MARIJ &lt;= 5LBS &gt; … HISPANIC O… M    
##  4 201606440         2016-02-16 00:00:00 DEL MARIJUANA &lt;=5LBS… HISPANIC O… M    
##  5 201610015         2016-03-14 00:00:00 POSS MARIJ &lt; 2OZ W/I… HISPANIC O… M    
##  6 201611111         2016-03-22 00:00:00 POSS MARIJ &lt;= 5LBS &gt;… HISPANIC O… M    
##  7 201641367         2016-11-14 00:00:00 DEL MARIJ MARIJUANA-… HISPANIC O… M    
##  8 201641369         2016-11-14 00:00:00 DEL MARIJUANA- 2LBS   HISPANIC O… F    
##  9 201704935         2017-02-07 00:00:00 MANF/DEL-POSS MARIJ … BLACK       M    
## 10 201800337         2018-01-03 00:00:00 DEL MARIJUANA &gt;1/4 O… BLACK       M    
## # … with 17 more rows, and 5 more variables: arrest_location &lt;chr&gt;, zip &lt;chr&gt;,
## #   arrest_x_coordinate &lt;dbl&gt;, arrest_y_coordinate &lt;dbl&gt;, race_simple &lt;chr&gt;</code></pre>
<p>The <code>filter()</code> selects data based on a set of rules we give it. In the past, we fed the function a column name and a value to look for. This time we are feeding is a function <code>str_detect()</code> which takes two values: The column to look in, and then the text we are looking for. This method will find the text no matter where it appears within the field.</p>
<p>There are 27 results. As you page through these results you’ll see all the rows that have DEL in it, including some that have POS like “MANF/DEL-POSS MARIJ &lt;= 4OZ &gt; 2OZ.” That’s OK If it is a delivery, we don’t want it.</p>
<p>Now we add the “negate” option of <code>!</code> before the <code>str_detect</code> so we get all the rows <strong>except</strong> those with “DEL.”</p>
<ul>
<li>Update your “filter-del” chunk to add <code>!</code> right before the <code>str_detect</code> and run it.</li>
</ul>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="cleaning.html#cb202-1" aria-hidden="true" tabindex="-1"></a>data_race <span class="sc">%&gt;%</span> </span>
<span id="cb202-2"><a href="cleaning.html#cb202-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb202-3"><a href="cleaning.html#cb202-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, <span class="st">&quot;DEL&quot;</span>)</span>
<span id="cb202-4"><a href="cleaning.html#cb202-4" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 7,801 × 10
##    arrest_primary_key arrest_date         arrest_charge     apd_race       sex  
##    &lt;chr&gt;              &lt;dttm&gt;              &lt;chr&gt;             &lt;chr&gt;          &lt;chr&gt;
##  1 201600012          2016-01-01 00:00:00 POSS MARIJUANA &lt;… BLACK          M    
##  2 201600018          2016-01-01 00:00:00 POSS MARIJ &lt; 2OZ  BLACK          M    
##  3 201600061          2016-01-01 00:00:00 POSS MARIJ &lt; 2OZ  HISPANIC OR L… M    
##  4 201600074          2016-01-01 00:00:00 POSS MARIJ &lt; 2OZ  HISPANIC OR L… M    
##  5 201600131          2016-01-01 00:00:00 POSS MARIJ &lt; 2OZ  BLACK          M    
##  6 201600145          2016-01-01 00:00:00 POSS MARIJ &lt; 2OZ  HISPANIC OR L… M    
##  7 201600153          2016-01-01 00:00:00 POSS MARIJ &lt; 2OZ  WHITE          F    
##  8 201600154          2016-01-01 00:00:00 POSS MARIJ &lt; 2OZ  HISPANIC OR L… M    
##  9 201600172          2016-01-01 00:00:00 POSS MARIJ &lt; 2OZ  HISPANIC OR L… M    
## 10 201600176          2016-01-01 00:00:00 POSS MARIJ &lt; 2OZ  BLACK          M    
## # … with 7,791 more rows, and 5 more variables: arrest_location &lt;chr&gt;,
## #   zip &lt;chr&gt;, arrest_x_coordinate &lt;dbl&gt;, arrest_y_coordinate &lt;dbl&gt;,
## #   race_simple &lt;chr&gt;</code></pre>
<p>Now we’ll assign that filter to a new data frame. Some folks might consider this overkill and just reassign the cleaned data to the existing <code>data_race</code> tibble. This can get confusing if you make changes up and down your notebook, so I like to create new tibbles with my changed data.</p>
<ul>
<li>Update your “filter-del” chunk to assign the results to a new tibble, <code>data_nodel</code>.</li>
</ul>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="cleaning.html#cb204-1" aria-hidden="true" tabindex="-1"></a>data_nodel <span class="ot">&lt;-</span> data_race <span class="sc">%&gt;%</span> </span>
<span id="cb204-2"><a href="cleaning.html#cb204-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb204-3"><a href="cleaning.html#cb204-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, <span class="st">&quot;DEL&quot;</span>)</span>
<span id="cb204-4"><a href="cleaning.html#cb204-4" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>If you look at your environment you’ll see the <code>data_nodel</code> data has 27 fewer observations than the <code>data</code> tibble, the same number or records you got in your original filter. This is good!</p>
</div>
<div id="remove-controlled-substance" class="section level3" number="14.6.3">
<h3><span class="header-section-number">14.6.3</span> Remove controlled substance</h3>
<p>If you look at the charges again, you’ll see some other charges that are NOT related to marijuana. These are “controlled substance” charges. We don’t want them.</p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="cleaning.html#cb205-1" aria-hidden="true" tabindex="-1"></a>data_nodel <span class="sc">%&gt;%</span> </span>
<span id="cb205-2"><a href="cleaning.html#cb205-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge)</span></code></pre></div>
<pre><code>## # A tibble: 139 × 2
##    arrest_charge                              n
##    &lt;chr&gt;                                  &lt;int&gt;
##  1 POM                                        1
##  2 POSS CS PG 1 &lt;1G                           1
##  3 POSS CS PG 3&lt; 28G                          3
##  4 POSS CS PG 3&lt; 28G - TYLENOL W/ CODEINE     1
##  5 POSS CS PG 3&lt; 28G -PILLS                   1
##  6 POSS CS PG 3&lt; 28G -XANEX -ALPRAZOLAM       1
##  7 POSS CS PG 3&lt; 28G (PILLS)                  1
##  8 POSS CS PG 3&lt; 28G / XANAX (ALPRAZOLAM)     1
##  9 POSS CS PG 3&lt; 28G- KLONOPIN                1
## 10 POSS CS PG 3&lt; 28G- XANAX                   1
## # … with 129 more rows</code></pre>
<p>We want to remove all the cases with “CS” in the <code>arrest_charge</code> field.</p>
<ul>
<li>Use the same technique that we used for DEL to remove the CS records and assign the results to a new dataframe <code>data_nocs</code>. Try it on your own before looking at the answer below.</li>
</ul>
<details>
<summary>
Try it first! Click to reveal answer.
</summary>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="cleaning.html#cb207-1" aria-hidden="true" tabindex="-1"></a>data_nocs <span class="ot">&lt;-</span> data_nodel <span class="sc">%&gt;%</span> </span>
<span id="cb207-2"><a href="cleaning.html#cb207-2" aria-hidden="true" tabindex="-1"></a><span class="fu">filter</span>(</span>
<span id="cb207-3"><a href="cleaning.html#cb207-3" aria-hidden="true" tabindex="-1"></a>  <span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, <span class="st">&quot;CS&quot;</span>)</span>
<span id="cb207-4"><a href="cleaning.html#cb207-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
</details>
</div>
<div id="remove-drug-free-zones" class="section level3" number="14.6.4">
<h3><span class="header-section-number">14.6.4</span> Remove drug free zones</h3>
<p>Our next move is to remove all the records that have a drug free zone enhancement. Let’s look at the charges data once again using <code>count()</code>.</p>
<ul>
<li>Create a new chunk called “dfz-count” and use our <code>data_nocs</code> tibble to count <code>arrest_charge</code> values.</li>
</ul>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="cleaning.html#cb208-1" aria-hidden="true" tabindex="-1"></a>data_nocs <span class="sc">%&gt;%</span> </span>
<span id="cb208-2"><a href="cleaning.html#cb208-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge)</span></code></pre></div>
<pre><code>## # A tibble: 130 × 2
##    arrest_charge                   n
##    &lt;chr&gt;                       &lt;int&gt;
##  1 POM                             1
##  2 POSS MARIJ                    199
##  3 POSS MARIJ  - LT 2 OZ           1
##  4 POSS MARIJ  -1 LB               1
##  5 POSS MARIJ  4OZ - 5LBS          1
##  6 POSS MARIJ  4OZ&lt;5LBS            1
##  7 POSS MARIJ - DRUG FREE ZONE     1
##  8 POSS MARIJ (FS)                 1
##  9 POSS MARIJ (MB)                 1
## 10 POSS MARIJ &lt; 2OZ             2214
## # … with 120 more rows</code></pre>
<p>As you look through the results, you’ll see the drug free zone designation is handled many different ways: DFZ, DRUG FREE ZONE, SCHOOL ZONE, etc. This might take some trial and error.</p>
<p>We will use <code>str_detect()</code> again, but we need to search for multiple terms and we want to make sure the filter works as expected. So we’ll create a variable <code>dfz_terms</code> which will include a list of terms we want to search, using some <a href="https://regexone.com/">regular expressions</a>. We also use our <code>count()</code> function to check our results.</p>
<blockquote>
<p>Regular expressions are a powerful pattern matching concept that can get a little complicated. We’ll take them slow and only use what we need to get our results.</p>
</blockquote>
<ul>
<li>Start a new chunk called “dfz-filter” and set it up like the code below and run it. I’ll explain what is going on below.</li>
</ul>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="cleaning.html#cb210-1" aria-hidden="true" tabindex="-1"></a>dfz_terms <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;DFZ|SCHOOL|DRUG&quot;</span>)</span>
<span id="cb210-2"><a href="cleaning.html#cb210-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-3"><a href="cleaning.html#cb210-3" aria-hidden="true" tabindex="-1"></a>data_nocs <span class="sc">%&gt;%</span> </span>
<span id="cb210-4"><a href="cleaning.html#cb210-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">str_detect</span>(arrest_charge, dfz_terms)) <span class="sc">%&gt;%</span> </span>
<span id="cb210-5"><a href="cleaning.html#cb210-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge)</span>
<span id="cb210-6"><a href="cleaning.html#cb210-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-7"><a href="cleaning.html#cb210-7" aria-hidden="true" tabindex="-1"></a>data_nocs <span class="sc">%&gt;%</span> </span>
<span id="cb210-8"><a href="cleaning.html#cb210-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, dfz_terms)) <span class="sc">%&gt;%</span> </span>
<span id="cb210-9"><a href="cleaning.html#cb210-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge)</span></code></pre></div>
<p>This code gives you two sets of results. I’m giving you screen shots because this published page doesn’t behave the same way.</p>
<p>The first has the results that include the terms we are looking for:</p>
<div class="figure">
<img src="images/cleaning-dfz.png" alt="" />
<p class="caption">DFZ</p>
</div>
<p>Then second set shows the terms that DON’T have our terms because we negated them:</p>
<div class="figure">
<img src="images/cleaning-nodfz.png" alt="" />
<p class="caption">No DFZ</p>
</div>
<p>Now let me explain the code.</p>
<p>The first line creates a variable of terms to use in our string detect: “DFZ|SCHOOL|DRUG.” The pipe <code>|</code> is a “regular expression” that means “or.” So when we use this list in our <code>str_detect()</code> function we are looking for DFZ or SCHOOL or DRUG.</p>
<p>I set this up like this so we can use the same list of terms to look at the filter that contains the terms and look at a filter that negates the terms. It’s the same concept we used for deliveries and controlled substances, but we create the search term in a variable so we can double-check to make sure we are getting the results we want.</p>
<p>Now that we know our terms are good and we are getting the results we want, we can build a new data table using a negated <code>str_detect</code> using those same terms.</p>
<ul>
<li>Create a new chunk that assigns the result of a filter negating the dfz_terms. Call the new tibble <code>data_nodfz</code>). Use the hint below only if you can’t figure it out. Remember, you don’t need the count() anymore, just the filter. You should end up with 7672 observations.</li>
</ul>
<details>
<summary>
Click here for the answer
</summary>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="cleaning.html#cb211-1" aria-hidden="true" tabindex="-1"></a>data_nodfz <span class="ot">&lt;-</span> data_nocs <span class="sc">%&gt;%</span> </span>
<span id="cb211-2"><a href="cleaning.html#cb211-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, dfz_terms))</span></code></pre></div>
</details>
</div>
<div id="remove-request-to-apprehend" class="section level3" number="14.6.5">
<h3><span class="header-section-number">14.6.5</span> Remove request to apprehend</h3>
<p>Use the same method as above to remove any records that have “REQUEST” or “RTA.” Remember to start from your new <code>data_nodfz</code> tibble and name your new one <code>data_norta</code>. You should end up with 7665 observations.</p>
<details>
<summary>
Try it first!
</summary>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="cleaning.html#cb212-1" aria-hidden="true" tabindex="-1"></a>rta_terms <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;REQUEST|RTA&quot;</span>)</span>
<span id="cb212-2"><a href="cleaning.html#cb212-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-3"><a href="cleaning.html#cb212-3" aria-hidden="true" tabindex="-1"></a><span class="co"># dfz results</span></span>
<span id="cb212-4"><a href="cleaning.html#cb212-4" aria-hidden="true" tabindex="-1"></a>data_nodfz <span class="sc">%&gt;%</span> </span>
<span id="cb212-5"><a href="cleaning.html#cb212-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb212-6"><a href="cleaning.html#cb212-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(arrest_charge, rta_terms)</span>
<span id="cb212-7"><a href="cleaning.html#cb212-7" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb212-8"><a href="cleaning.html#cb212-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-9"><a href="cleaning.html#cb212-9" aria-hidden="true" tabindex="-1"></a><span class="co"># no dfz results</span></span>
<span id="cb212-10"><a href="cleaning.html#cb212-10" aria-hidden="true" tabindex="-1"></a>data_nodfz <span class="sc">%&gt;%</span> </span>
<span id="cb212-11"><a href="cleaning.html#cb212-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb212-12"><a href="cleaning.html#cb212-12" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, rta_terms)</span>
<span id="cb212-13"><a href="cleaning.html#cb212-13" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb212-14"><a href="cleaning.html#cb212-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge)</span>
<span id="cb212-15"><a href="cleaning.html#cb212-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb212-16"><a href="cleaning.html#cb212-16" aria-hidden="true" tabindex="-1"></a><span class="co"># make new data frame</span></span>
<span id="cb212-17"><a href="cleaning.html#cb212-17" aria-hidden="true" tabindex="-1"></a>data_norta <span class="ot">&lt;-</span> data_nodfz <span class="sc">%&gt;%</span> </span>
<span id="cb212-18"><a href="cleaning.html#cb212-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb212-19"><a href="cleaning.html#cb212-19" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, rta_terms)</span>
<span id="cb212-20"><a href="cleaning.html#cb212-20" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
</details>
</div>
<div id="removing-more-unwated-records" class="section level3" number="14.6.6">
<h3><span class="header-section-number">14.6.6</span> Removing more unwated records</h3>
<p>This charge code really is a mess. There are some other things we can remove before getting to our main challenge of finding only charges of &lt;2OZ. There are some codes used in the charges that we know we don’t want, like <code>(MA)</code> for an A Misdemeanor, and <code>(FS)</code> for a state felony, and <code>(F3)</code> for 3rd degree felony. This is tricky because we can’t remove all “MA” text because that would catch “MARIJUANA,” too. We have to include the parenthesis <code>(MA)</code>, and that can be tricky in regular expressions (aka regex). The parenthesis is a special character in regex so we have to “escape” it to use it as a character. Even more confusing, <a href="https://stringr.tidyverse.org/articles/regular-expressions.html#escaping">when using R we have to double-escape</a> it. This is much too confusing to get into in detail here, so this filter is a “gimmie.”</p>
<p>We’ll also remove any row that has a charge with “LB” because that definitely is more than 2 OZ.</p>
<ul>
<li>Add this chunk to your project and run it.</li>
</ul>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="cleaning.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="co"># list escapes ( to get (MA), etc</span></span>
<span id="cb213-2"><a href="cleaning.html#cb213-2" aria-hidden="true" tabindex="-1"></a>fs_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;</span><span class="sc">\\</span><span class="st">(MA</span><span class="sc">\\</span><span class="st">)|</span><span class="sc">\\</span><span class="st">(FS</span><span class="sc">\\</span><span class="st">)|</span><span class="sc">\\</span><span class="st">(F3</span><span class="sc">\\</span><span class="st">)|LB&quot;</span>)</span>
<span id="cb213-3"><a href="cleaning.html#cb213-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-4"><a href="cleaning.html#cb213-4" aria-hidden="true" tabindex="-1"></a><span class="co"># checks the catch list</span></span>
<span id="cb213-5"><a href="cleaning.html#cb213-5" aria-hidden="true" tabindex="-1"></a>data_norta <span class="sc">%&gt;%</span> </span>
<span id="cb213-6"><a href="cleaning.html#cb213-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb213-7"><a href="cleaning.html#cb213-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(arrest_charge, fs_list)</span>
<span id="cb213-8"><a href="cleaning.html#cb213-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb213-9"><a href="cleaning.html#cb213-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge)</span></code></pre></div>
<pre><code>## # A tibble: 28 × 2
##    arrest_charge                          n
##    &lt;chr&gt;                              &lt;int&gt;
##  1 POSS MARIJ  -1 LB                      1
##  2 POSS MARIJ  4OZ - 5LBS                 1
##  3 POSS MARIJ  4OZ&lt;5LBS                   1
##  4 POSS MARIJ (FS)                        1
##  5 POSS MARIJ &lt;= 50 LBS &gt;5LBS             8
##  6 POSS MARIJ &lt;= 5LBS &gt; 4 OZ              1
##  7 POSS MARIJ &lt;= 5LBS &gt; 4OZ              57
##  8 POSS MARIJ &lt;= 5LBS &gt; 4OZ     4 LBS     1
##  9 POSS MARIJ &lt;=5LBS&gt;50LBS                2
## 10 POSS MARIJ &lt;=5LBS&gt;50LBS(F3)            6
## # … with 18 more rows</code></pre>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="cleaning.html#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="co"># checks the negate</span></span>
<span id="cb215-2"><a href="cleaning.html#cb215-2" aria-hidden="true" tabindex="-1"></a>data_norta <span class="sc">%&gt;%</span> </span>
<span id="cb215-3"><a href="cleaning.html#cb215-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb215-4"><a href="cleaning.html#cb215-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, fs_list)</span>
<span id="cb215-5"><a href="cleaning.html#cb215-5" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb215-6"><a href="cleaning.html#cb215-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge)</span></code></pre></div>
<pre><code>## # A tibble: 58 × 2
##    arrest_charge                         n
##    &lt;chr&gt;                             &lt;int&gt;
##  1 POM                                   1
##  2 POSS MARIJ                          199
##  3 POSS MARIJ  - LT 2 OZ                 1
##  4 POSS MARIJ (MB)                       1
##  5 POSS MARIJ &lt; 2OZ                   2214
##  6 POSS MARIJ &lt; 2OZ    -&lt; 4OZ            1
##  7 POSS MARIJ &lt; 2OZ   -&lt;4OZ              1
##  8 POSS MARIJ &lt; 2OZ - POM                1
##  9 POSS MARIJ &lt; 2OZ - POSS MARIJUANA     1
## 10 POSS MARIJ &lt; 2OZ -BY WEIGHT           1
## # … with 48 more rows</code></pre>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="cleaning.html#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># does the deed</span></span>
<span id="cb217-2"><a href="cleaning.html#cb217-2" aria-hidden="true" tabindex="-1"></a>data_nofs <span class="ot">&lt;-</span> data_norta <span class="sc">%&gt;%</span> </span>
<span id="cb217-3"><a href="cleaning.html#cb217-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb217-4"><a href="cleaning.html#cb217-4" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, fs_list)</span>
<span id="cb217-5"><a href="cleaning.html#cb217-5" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>You now have <code>data_nofs</code> tibble, which we’ll continue with.</p>
</div>
</div>
<div id="finding-just-b-misdemeanors" class="section level2" number="14.7">
<h2><span class="header-section-number">14.7</span> Finding just B misdemeanors</h2>
<blockquote>
<blockquote>
<p>THIS IS WHERE I STOPPED LAST.</p>
</blockquote>
</blockquote>
<p>We’ve removed a lot of crap, but now we have the hard part. How do we get just B misdemeanors while dealing with some obvious data coding errors?</p>
<blockquote>
<p>attempts to get to just b mis</p>
</blockquote>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="cleaning.html#cb218-1" aria-hidden="true" tabindex="-1"></a>mb_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;&lt; *2&quot;</span>)</span>
<span id="cb218-2"><a href="cleaning.html#cb218-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb218-3"><a href="cleaning.html#cb218-3" aria-hidden="true" tabindex="-1"></a>data_nofs <span class="sc">%&gt;%</span> </span>
<span id="cb218-4"><a href="cleaning.html#cb218-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb218-5"><a href="cleaning.html#cb218-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">str_detect</span>(arrest_charge, mb_list)</span>
<span id="cb218-6"><a href="cleaning.html#cb218-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb218-7"><a href="cleaning.html#cb218-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge)</span></code></pre></div>
<pre><code>## # A tibble: 30 × 2
##    arrest_charge                         n
##    &lt;chr&gt;                             &lt;int&gt;
##  1 POSS MARIJ &lt; 2OZ                   2214
##  2 POSS MARIJ &lt; 2OZ    -&lt; 4OZ            1
##  3 POSS MARIJ &lt; 2OZ   -&lt;4OZ              1
##  4 POSS MARIJ &lt; 2OZ - POM                1
##  5 POSS MARIJ &lt; 2OZ - POSS MARIJUANA     1
##  6 POSS MARIJ &lt; 2OZ -BY WEIGHT           1
##  7 POSS MARIJ &lt; 2OZ UNDER 4 OUNCES       1
##  8 POSS MARIJ &lt; 2OZ&gt;4                    1
##  9 POSS MARIJ &lt;2OZ                    1963
## 10 POSS MARIJ &lt;2OZ   .3OZ                1
## # … with 20 more rows</code></pre>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="cleaning.html#cb220-1" aria-hidden="true" tabindex="-1"></a>data_nofs <span class="sc">%&gt;%</span> </span>
<span id="cb220-2"><a href="cleaning.html#cb220-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(</span>
<span id="cb220-3"><a href="cleaning.html#cb220-3" aria-hidden="true" tabindex="-1"></a>    <span class="sc">!</span><span class="fu">str_detect</span>(arrest_charge, mb_list)</span>
<span id="cb220-4"><a href="cleaning.html#cb220-4" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb220-5"><a href="cleaning.html#cb220-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(arrest_charge)</span></code></pre></div>
<pre><code>## # A tibble: 28 × 2
##    arrest_charge               n
##    &lt;chr&gt;                   &lt;int&gt;
##  1 POM                         1
##  2 POSS MARIJ                199
##  3 POSS MARIJ  - LT 2 OZ       1
##  4 POSS MARIJ (MB)             1
##  5 POSS MARIJ &lt; 4OZ            2
##  6 POSS MARIJ &lt;= 4OZ &gt; 2OZ    52
##  7 POSS MARIJ &lt;1OZ             1
##  8 POSS MARIJ &lt;4OZ            21
##  9 POSS MARIJ &gt; 2OZ            1
## 10 POSS MARIJ &gt;2OZ             1
## # … with 18 more rows</code></pre>
</div>
<div id="export-your-updated-data-frame" class="section level2" number="14.8">
<h2><span class="header-section-number">14.8</span> Export your updated data frame</h2>
<blockquote>
<p>Export into data-processed</p>
</blockquote>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="review---data-wrangling.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="sped-import.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/31-pot-cleaning.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>

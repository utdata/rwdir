<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Plotting for answers | Reporting with Data in R</title>
  <meta name="description" content="Chapter 10 Plotting for answers | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism and Media, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  <meta name="generator" content="bookdown 0.23 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Plotting for answers | Reporting with Data in R" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Chapter 10 Plotting for answers | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism and Media, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  <meta name="github-repo" content="utdata/rwdir" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Plotting for answers | Reporting with Data in R" />
  
  <meta name="twitter:description" content="Chapter 10 Plotting for answers | Reporting with Data in R is a series of lessons and instructions used in courses in the School of Journalism and Media, Moody College of Communication at the University of Texas at Austin. It is taught by Christian McDonald, assistant professor of practice." />
  

<meta name="author" content="Christian McDonald" />


<meta name="date" content="2021-10-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tidy-data.html"/>
<link rel="next" href="census-intro.html"/>
<script src="libs/header-attrs-2.10/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.19/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<script src="libs/plotly-binding-4.10.0/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.5.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.5.1/plotly-latest.min.js"></script>
<style type="text/css">
  p.caption {
    color: #777;
    margin-top: 10px;
  }
  p code, pre, pre code, li code {
    background-color: #DCDCDC !important;
  }
  detail {
    margin-bottom: 30px;
  }
</style>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Reporting with Data in R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About this book</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-my-philosphy"><i class="fa fa-check"></i>About my philosphy</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#tips-on-my-writing-style"><i class="fa fa-check"></i>Tips on my writing style</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#things-to-do"><i class="fa fa-check"></i>Things to do</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#notes-some-important"><i class="fa fa-check"></i>Notes, some important</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#copy-code-blocks"><i class="fa fa-check"></i>Copy code blocks</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#about-the-author"><i class="fa fa-check"></i>About the author</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#license"><i class="fa fa-check"></i>License</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#other-resources"><i class="fa fa-check"></i>Other resources</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="install.html"><a href="install.html"><i class="fa fa-check"></i><b>1</b> Install Party</a>
<ul>
<li class="chapter" data-level="1.1" data-path="install.html"><a href="install.html#mac-vs-pc"><i class="fa fa-check"></i><b>1.1</b> Mac vs PC</a></li>
<li class="chapter" data-level="1.2" data-path="install.html"><a href="install.html#installing-r"><i class="fa fa-check"></i><b>1.2</b> Installing R</a></li>
<li class="chapter" data-level="1.3" data-path="install.html"><a href="install.html#installing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Installing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="install.html"><a href="install.html#class-project-folder"><i class="fa fa-check"></i><b>1.4</b> Class project folder</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#rstudio-tour"><i class="fa fa-check"></i><b>2.1</b> RStudio tour</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#updating-preferences"><i class="fa fa-check"></i><b>2.2</b> Updating preferences</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#starting-a-new-project"><i class="fa fa-check"></i><b>2.3</b> Starting a new Project</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#using-r-notebooks"><i class="fa fa-check"></i><b>2.4</b> Using R Notebooks</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="intro.html"><a href="intro.html#create-your-first-notebook"><i class="fa fa-check"></i><b>2.4.1</b> Create your first notebook</a></li>
<li class="chapter" data-level="2.4.2" data-path="intro.html"><a href="intro.html#save-the-.rmd-file"><i class="fa fa-check"></i><b>2.4.2</b> Save the .Rmd file</a></li>
<li class="chapter" data-level="2.4.3" data-path="intro.html"><a href="intro.html#run-the-notebook"><i class="fa fa-check"></i><b>2.4.3</b> Run the notebook</a></li>
<li class="chapter" data-level="2.4.4" data-path="intro.html"><a href="intro.html#a-note-about-rmarkdown"><i class="fa fa-check"></i><b>2.4.4</b> A note about RMarkdown</a></li>
<li class="chapter" data-level="2.4.5" data-path="intro.html"><a href="intro.html#adding-new-code-chunks"><i class="fa fa-check"></i><b>2.4.5</b> Adding new code chunks</a></li>
<li class="chapter" data-level="2.4.6" data-path="intro.html"><a href="intro.html#practice-adding-code-chunks"><i class="fa fa-check"></i><b>2.4.6</b> Practice adding code chunks</a></li>
<li class="chapter" data-level="2.4.7" data-path="intro.html"><a href="intro.html#preview-the-report"><i class="fa fa-check"></i><b>2.4.7</b> Preview the report</a></li>
<li class="chapter" data-level="2.4.8" data-path="intro.html"><a href="intro.html#the-toolbar"><i class="fa fa-check"></i><b>2.4.8</b> The toolbar</a></li>
<li class="chapter" data-level="2.4.9" data-path="intro.html"><a href="intro.html#knit-the-final-workbook"><i class="fa fa-check"></i><b>2.4.9</b> Knit the final workbook</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="intro.html"><a href="intro.html#turning-in-our-projects"><i class="fa fa-check"></i><b>2.5</b> Turning in our projects</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="counts-import.html"><a href="counts-import.html"><i class="fa fa-check"></i><b>3</b> Summarize with count - import</a>
<ul>
<li class="chapter" data-level="3.1" data-path="counts-import.html"><a href="counts-import.html#learning-goals-of-this-lesson"><i class="fa fa-check"></i><b>3.1</b> Learning goals of this lesson</a></li>
<li class="chapter" data-level="3.2" data-path="counts-import.html"><a href="counts-import.html#basic-steps-of-this-lesson"><i class="fa fa-check"></i><b>3.2</b> Basic steps of this lesson</a></li>
<li class="chapter" data-level="3.3" data-path="counts-import.html"><a href="counts-import.html#create-a-new-project"><i class="fa fa-check"></i><b>3.3</b> Create a new project</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="counts-import.html"><a href="counts-import.html#describe-the-goals-of-the-notebook"><i class="fa fa-check"></i><b>3.3.1</b> Describe the goals of the notebook</a></li>
<li class="chapter" data-level="3.3.2" data-path="counts-import.html"><a href="counts-import.html#the-r-package-environment"><i class="fa fa-check"></i><b>3.3.2</b> The R Package environment</a></li>
<li class="chapter" data-level="3.3.3" data-path="counts-import.html"><a href="counts-import.html#installing-and-using-packages"><i class="fa fa-check"></i><b>3.3.3</b> Installing and using packages</a></li>
<li class="chapter" data-level="3.3.4" data-path="counts-import.html"><a href="counts-import.html#load-the-libraries"><i class="fa fa-check"></i><b>3.3.4</b> Load the libraries</a></li>
<li class="chapter" data-level="3.3.5" data-path="counts-import.html"><a href="counts-import.html#create-a-directory-for-your-data"><i class="fa fa-check"></i><b>3.3.5</b> Create a directory for your data</a></li>
<li class="chapter" data-level="3.3.6" data-path="counts-import.html"><a href="counts-import.html#lets-get-our-data"><i class="fa fa-check"></i><b>3.3.6</b> Let’s get our data</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="counts-import.html"><a href="counts-import.html#about-data-sources"><i class="fa fa-check"></i><b>3.4</b> About data sources</a></li>
<li class="chapter" data-level="3.5" data-path="counts-import.html"><a href="counts-import.html#our-project-data"><i class="fa fa-check"></i><b>3.5</b> Our project data</a></li>
<li class="chapter" data-level="3.6" data-path="counts-import.html"><a href="counts-import.html#data-dictionary"><i class="fa fa-check"></i><b>3.6</b> Data dictionary</a></li>
<li class="chapter" data-level="3.7" data-path="counts-import.html"><a href="counts-import.html#import-the-data"><i class="fa fa-check"></i><b>3.7</b> Import the data</a></li>
<li class="chapter" data-level="3.8" data-path="counts-import.html"><a href="counts-import.html#assign-our-import-to-a-tibble"><i class="fa fa-check"></i><b>3.8</b> Assign our import to a tibble</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="counts-import.html"><a href="counts-import.html#print-a-peek-to-the-screen"><i class="fa fa-check"></i><b>3.8.1</b> Print a peek to the screen</a></li>
<li class="chapter" data-level="3.8.2" data-path="counts-import.html"><a href="counts-import.html#glimpse-the-data"><i class="fa fa-check"></i><b>3.8.2</b> Glimpse the data</a></li>
<li class="chapter" data-level="3.8.3" data-path="counts-import.html"><a href="counts-import.html#about-the-pipe"><i class="fa fa-check"></i><b>3.8.3</b> About the pipe %&gt;%</a></li>
<li class="chapter" data-level="3.8.4" data-path="counts-import.html"><a href="counts-import.html#what-is-clean-data"><i class="fa fa-check"></i><b>3.8.4</b> What is clean data</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="counts-import.html"><a href="counts-import.html#cleaning-column-names"><i class="fa fa-check"></i><b>3.9</b> Cleaning column names</a></li>
<li class="chapter" data-level="3.10" data-path="counts-import.html"><a href="counts-import.html#fixing-the-date"><i class="fa fa-check"></i><b>3.10</b> Fixing the date</a>
<ul>
<li class="chapter" data-level="3.10.1" data-path="counts-import.html"><a href="counts-import.html#working-with-mutate"><i class="fa fa-check"></i><b>3.10.1</b> Working with mutate()</a></li>
</ul></li>
<li class="chapter" data-level="3.11" data-path="counts-import.html"><a href="counts-import.html#arrange-the-data"><i class="fa fa-check"></i><b>3.11</b> Arrange the data</a></li>
<li class="chapter" data-level="3.12" data-path="counts-import.html"><a href="counts-import.html#selecting-columns"><i class="fa fa-check"></i><b>3.12</b> Selecting columns</a></li>
<li class="chapter" data-level="3.13" data-path="counts-import.html"><a href="counts-import.html#exporting-data"><i class="fa fa-check"></i><b>3.13</b> Exporting data</a>
<ul>
<li class="chapter" data-level="3.13.1" data-path="counts-import.html"><a href="counts-import.html#single-notebook-philosophy"><i class="fa fa-check"></i><b>3.13.1</b> Single-notebook philosophy</a></li>
<li class="chapter" data-level="3.13.2" data-path="counts-import.html"><a href="counts-import.html#exporting-as-rds"><i class="fa fa-check"></i><b>3.13.2</b> Exporting as rds</a></li>
</ul></li>
<li class="chapter" data-level="3.14" data-path="counts-import.html"><a href="counts-import.html#naming-chunks"><i class="fa fa-check"></i><b>3.14</b> Naming chunks</a></li>
<li class="chapter" data-level="3.15" data-path="counts-import.html"><a href="counts-import.html#knit-your-page"><i class="fa fa-check"></i><b>3.15</b> Knit your page</a></li>
<li class="chapter" data-level="3.16" data-path="counts-import.html"><a href="counts-import.html#review-of-what-weve-learned-so-far"><i class="fa fa-check"></i><b>3.16</b> Review of what we’ve learned so far</a></li>
<li class="chapter" data-level="3.17" data-path="counts-import.html"><a href="counts-import.html#whats-next"><i class="fa fa-check"></i><b>3.17</b> What’s next</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="count-analysis.html"><a href="count-analysis.html"><i class="fa fa-check"></i><b>4</b> Summarize with count - analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="count-analysis.html"><a href="count-analysis.html#goals-of-this-lesson"><i class="fa fa-check"></i><b>4.1</b> Goals of this lesson</a></li>
<li class="chapter" data-level="4.2" data-path="count-analysis.html"><a href="count-analysis.html#the-questions-well-answer"><i class="fa fa-check"></i><b>4.2</b> The questions we’ll answer</a></li>
<li class="chapter" data-level="4.3" data-path="count-analysis.html"><a href="count-analysis.html#setting-up-an-analysis-notebook"><i class="fa fa-check"></i><b>4.3</b> Setting up an analysis notebook</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="count-analysis.html"><a href="count-analysis.html#import-the-data-on-your-own"><i class="fa fa-check"></i><b>4.3.1</b> Import the data on your own</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="count-analysis.html"><a href="count-analysis.html#introducing-dplyr"><i class="fa fa-check"></i><b>4.4</b> Introducing dplyr</a></li>
<li class="chapter" data-level="4.5" data-path="count-analysis.html"><a href="count-analysis.html#most-appearances"><i class="fa fa-check"></i><b>4.5</b> Most appearances</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="count-analysis.html"><a href="count-analysis.html#group-aggregate"><i class="fa fa-check"></i><b>4.5.1</b> Group &amp; Aggregate</a></li>
<li class="chapter" data-level="4.5.2" data-path="count-analysis.html"><a href="count-analysis.html#summarize"><i class="fa fa-check"></i><b>4.5.2</b> Summarize</a></li>
<li class="chapter" data-level="4.5.3" data-path="count-analysis.html"><a href="count-analysis.html#group-by"><i class="fa fa-check"></i><b>4.5.3</b> Group by</a></li>
<li class="chapter" data-level="4.5.4" data-path="count-analysis.html"><a href="count-analysis.html#arrange-the-results"><i class="fa fa-check"></i><b>4.5.4</b> Arrange the results</a></li>
<li class="chapter" data-level="4.5.5" data-path="count-analysis.html"><a href="count-analysis.html#get-the-top-of-the-list"><i class="fa fa-check"></i><b>4.5.5</b> Get the top of the list</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="count-analysis.html"><a href="count-analysis.html#performersong-with-most-appearances"><i class="fa fa-check"></i><b>4.6</b> Performer/song with most appearances</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="count-analysis.html"><a href="count-analysis.html#introducing-filter"><i class="fa fa-check"></i><b>4.6.1</b> Introducing filter()</a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="count-analysis.html"><a href="count-analysis.html#songperformer-with-most-weeks-at-no.-1"><i class="fa fa-check"></i><b>4.7</b> Song/Performer with most weeks at No. 1</a></li>
<li class="chapter" data-level="4.8" data-path="count-analysis.html"><a href="count-analysis.html#performer-with-most-songs-to-reach-no.-1"><i class="fa fa-check"></i><b>4.8</b> Performer with most songs to reach No. 1</a>
<ul>
<li class="chapter" data-level="4.8.1" data-path="count-analysis.html"><a href="count-analysis.html#using-distinct"><i class="fa fa-check"></i><b>4.8.1</b> Using distinct()</a></li>
<li class="chapter" data-level="4.8.2" data-path="count-analysis.html"><a href="count-analysis.html#summarize-the-performers"><i class="fa fa-check"></i><b>4.8.2</b> Summarize the performers</a></li>
<li class="chapter" data-level="4.8.3" data-path="count-analysis.html"><a href="count-analysis.html#filter-for-a-good-cutoff"><i class="fa fa-check"></i><b>4.8.3</b> Filter for a good cutoff</a></li>
</ul></li>
<li class="chapter" data-level="4.9" data-path="count-analysis.html"><a href="count-analysis.html#no.-1-hits-in-last-five-years"><i class="fa fa-check"></i><b>4.9</b> No. 1 hits in last five years</a></li>
<li class="chapter" data-level="4.10" data-path="count-analysis.html"><a href="count-analysis.html#top-10-hits-overall"><i class="fa fa-check"></i><b>4.10</b> Top 10 hits overall</a>
<ul>
<li class="chapter" data-level="4.10.1" data-path="count-analysis.html"><a href="count-analysis.html#a-shortcut-count"><i class="fa fa-check"></i><b>4.10.1</b> A shortcut: count()</a></li>
<li class="chapter" data-level="4.10.2" data-path="count-analysis.html"><a href="count-analysis.html#complex-filters"><i class="fa fa-check"></i><b>4.10.2</b> Complex filters</a></li>
</ul></li>
<li class="chapter" data-level="4.11" data-path="count-analysis.html"><a href="count-analysis.html#review-of-what-weve-learned"><i class="fa fa-check"></i><b>4.11</b> Review of what we’ve learned</a></li>
<li class="chapter" data-level="4.12" data-path="count-analysis.html"><a href="count-analysis.html#turn-in-your-project"><i class="fa fa-check"></i><b>4.12</b> Turn in your project</a></li>
<li class="chapter" data-level="4.13" data-path="count-analysis.html"><a href="count-analysis.html#soundtrack-for-this-assignment"><i class="fa fa-check"></i><b>4.13</b> Soundtrack for this assignment</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="sums-import.html"><a href="sums-import.html"><i class="fa fa-check"></i><b>5</b> Summarize with math - import</a>
<ul>
<li class="chapter" data-level="5.1" data-path="sums-import.html"><a href="sums-import.html#about-the-story-military-surplus-transfers"><i class="fa fa-check"></i><b>5.1</b> About the story: Military surplus transfers</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="sums-import.html"><a href="sums-import.html#the-leso-program"><i class="fa fa-check"></i><b>5.1.1</b> The LESO program</a></li>
<li class="chapter" data-level="5.1.2" data-path="sums-import.html"><a href="sums-import.html#about-the-data"><i class="fa fa-check"></i><b>5.1.2</b> About the data</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="sums-import.html"><a href="sums-import.html#the-questions-we-will-answer"><i class="fa fa-check"></i><b>5.2</b> The questions we will answer</a></li>
<li class="chapter" data-level="5.3" data-path="sums-import.html"><a href="sums-import.html#create-your-project"><i class="fa fa-check"></i><b>5.3</b> Create your project</a></li>
<li class="chapter" data-level="5.4" data-path="sums-import.html"><a href="sums-import.html#importcleaning-notebook"><i class="fa fa-check"></i><b>5.4</b> Import/cleaning notebook</a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="sums-import.html"><a href="sums-import.html#add-the-goals-of-the-notebook"><i class="fa fa-check"></i><b>5.4.1</b> Add the goals of the notebook</a></li>
<li class="chapter" data-level="5.4.2" data-path="sums-import.html"><a href="sums-import.html#add-a-setup-section"><i class="fa fa-check"></i><b>5.4.2</b> Add a setup section</a></li>
<li class="chapter" data-level="5.4.3" data-path="sums-import.html"><a href="sums-import.html#download-the-data"><i class="fa fa-check"></i><b>5.4.3</b> Download the data</a></li>
<li class="chapter" data-level="5.4.4" data-path="sums-import.html"><a href="sums-import.html#import-the-data-1"><i class="fa fa-check"></i><b>5.4.4</b> Import the data</a></li>
<li class="chapter" data-level="5.4.5" data-path="sums-import.html"><a href="sums-import.html#glimpse-the-data-1"><i class="fa fa-check"></i><b>5.4.5</b> Glimpse the data</a></li>
<li class="chapter" data-level="5.4.6" data-path="sums-import.html"><a href="sums-import.html#remove-unnecessary-columns"><i class="fa fa-check"></i><b>5.4.6</b> Remove unnecessary columns</a></li>
<li class="chapter" data-level="5.4.7" data-path="sums-import.html"><a href="sums-import.html#create-a-total_value-column"><i class="fa fa-check"></i><b>5.4.7</b> Create a total_value column</a></li>
<li class="chapter" data-level="5.4.8" data-path="sums-import.html"><a href="sums-import.html#filtering-our-data"><i class="fa fa-check"></i><b>5.4.8</b> Filtering our data</a></li>
<li class="chapter" data-level="5.4.9" data-path="sums-import.html"><a href="sums-import.html#export-cleaned-data"><i class="fa fa-check"></i><b>5.4.9</b> Export cleaned data</a></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="sums-import.html"><a href="sums-import.html#things-we-learned-in-this-lesson"><i class="fa fa-check"></i><b>5.5</b> Things we learned in this lesson</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="sums-analyze.html"><a href="sums-analyze.html"><i class="fa fa-check"></i><b>6</b> Summarize with math - analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="sums-analyze.html"><a href="sums-analyze.html#learning-goals-of-this-lesson-1"><i class="fa fa-check"></i><b>6.1</b> Learning goals of this lesson</a></li>
<li class="chapter" data-level="6.2" data-path="sums-analyze.html"><a href="sums-analyze.html#questions-to-answer"><i class="fa fa-check"></i><b>6.2</b> Questions to answer</a></li>
<li class="chapter" data-level="6.3" data-path="sums-analyze.html"><a href="sums-analyze.html#set-up-the-analysis-notebook"><i class="fa fa-check"></i><b>6.3</b> Set up the analysis notebook</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="sums-analyze.html"><a href="sums-analyze.html#load-the-data-into-a-tibble"><i class="fa fa-check"></i><b>6.3.1</b> Load the data into a tibble</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="sums-analyze.html"><a href="sums-analyze.html#how-to-tackle-summaries"><i class="fa fa-check"></i><b>6.4</b> How to tackle summaries</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="sums-analyze.html"><a href="sums-analyze.html#summaries-with-math"><i class="fa fa-check"></i><b>6.4.1</b> Summaries with math</a></li>
<li class="chapter" data-level="6.4.2" data-path="sums-analyze.html"><a href="sums-analyze.html#add-the-total_value"><i class="fa fa-check"></i><b>6.4.2</b> Add the total_value</a></li>
<li class="chapter" data-level="6.4.3" data-path="sums-analyze.html"><a href="sums-analyze.html#arrange-the-results-1"><i class="fa fa-check"></i><b>6.4.3</b> Arrange the results</a></li>
<li class="chapter" data-level="6.4.4" data-path="sums-analyze.html"><a href="sums-analyze.html#consider-the-results"><i class="fa fa-check"></i><b>6.4.4</b> Consider the results</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="sums-analyze.html"><a href="sums-analyze.html#looking-a-local-agencies"><i class="fa fa-check"></i><b>6.5</b> Looking a local agencies</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="sums-analyze.html"><a href="sums-analyze.html#filtering-within-a-vector"><i class="fa fa-check"></i><b>6.5.1</b> Filtering within a vector</a></li>
<li class="chapter" data-level="6.5.2" data-path="sums-analyze.html"><a href="sums-analyze.html#use-the-vector-to-build-this-filter"><i class="fa fa-check"></i><b>6.5.2</b> Use the vector to build this filter</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="sums-analyze.html"><a href="sums-analyze.html#item-quantities-totals-for-local-agencies"><i class="fa fa-check"></i><b>6.6</b> Item quantities, totals for local agencies</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="sums-analyze.html"><a href="sums-analyze.html#build-the-lists-for-other-agencies"><i class="fa fa-check"></i><b>6.6.1</b> Build the lists for other agencies</a></li>
<li class="chapter" data-level="6.6.2" data-path="sums-analyze.html"><a href="sums-analyze.html#google-some-interesting-items"><i class="fa fa-check"></i><b>6.6.2</b> Google some interesting items</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="sums-analyze.html"><a href="sums-analyze.html#write-a-data-drop"><i class="fa fa-check"></i><b>6.7</b> Write a data drop</a></li>
<li class="chapter" data-level="6.8" data-path="sums-analyze.html"><a href="sums-analyze.html#what-we-learned-in-this-chapter"><i class="fa fa-check"></i><b>6.8</b> What we learned in this chapter</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="ggplot-intro.html"><a href="ggplot-intro.html"><i class="fa fa-check"></i><b>7</b> Intro to ggplot</a>
<ul>
<li class="chapter" data-level="7.1" data-path="ggplot-intro.html"><a href="ggplot-intro.html#goals-for-this-section"><i class="fa fa-check"></i><b>7.1</b> Goals for this section</a></li>
<li class="chapter" data-level="7.2" data-path="ggplot-intro.html"><a href="ggplot-intro.html#introduction-to-ggplot"><i class="fa fa-check"></i><b>7.2</b> Introduction to ggplot</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="ggplot-intro.html"><a href="ggplot-intro.html#what-i-likedislike-about-ggplot"><i class="fa fa-check"></i><b>7.2.1</b> What I like/dislike about ggplot</a></li>
<li class="chapter" data-level="7.2.2" data-path="ggplot-intro.html"><a href="ggplot-intro.html#the-grammar-of-graphics"><i class="fa fa-check"></i><b>7.2.2</b> The Grammar of Graphics</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="ggplot-intro.html"><a href="ggplot-intro.html#start-a-new-project"><i class="fa fa-check"></i><b>7.3</b> Start a new project</a></li>
<li class="chapter" data-level="7.4" data-path="ggplot-intro.html"><a href="ggplot-intro.html#the-layers-of-ggplot"><i class="fa fa-check"></i><b>7.4</b> The layers of ggplot</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="ggplot-intro.html"><a href="ggplot-intro.html#build-the-base-layer"><i class="fa fa-check"></i><b>7.4.1</b> Build the base layer</a></li>
<li class="chapter" data-level="7.4.2" data-path="ggplot-intro.html"><a href="ggplot-intro.html#layers-can-we-add-to-our-plots"><i class="fa fa-check"></i><b>7.4.2</b> Layers can we add to our plots</a></li>
<li class="chapter" data-level="7.4.3" data-path="ggplot-intro.html"><a href="ggplot-intro.html#add-geom_points"><i class="fa fa-check"></i><b>7.4.3</b> Add geom_points</a></li>
<li class="chapter" data-level="7.4.4" data-path="ggplot-intro.html"><a href="ggplot-intro.html#adding-other-mappings"><i class="fa fa-check"></i><b>7.4.4</b> Adding other mappings</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="ggplot-intro.html"><a href="ggplot-intro.html#lets-build-a-bar-chart"><i class="fa fa-check"></i><b>7.5</b> Let’s build a bar chart</a>
<ul>
<li class="chapter" data-level="7.5.1" data-path="ggplot-intro.html"><a href="ggplot-intro.html#prepare-the-data"><i class="fa fa-check"></i><b>7.5.1</b> Prepare the data</a></li>
<li class="chapter" data-level="7.5.2" data-path="ggplot-intro.html"><a href="ggplot-intro.html#build-our-plot-with-geom_col"><i class="fa fa-check"></i><b>7.5.2</b> Build our plot with geom_col</a></li>
<li class="chapter" data-level="7.5.3" data-path="ggplot-intro.html"><a href="ggplot-intro.html#add-the-geom_col-layer"><i class="fa fa-check"></i><b>7.5.3</b> Add the geom_col layer</a></li>
<li class="chapter" data-level="7.5.4" data-path="ggplot-intro.html"><a href="ggplot-intro.html#flip-the-axis"><i class="fa fa-check"></i><b>7.5.4</b> Flip the axis</a></li>
<li class="chapter" data-level="7.5.5" data-path="ggplot-intro.html"><a href="ggplot-intro.html#reorder-the-bars"><i class="fa fa-check"></i><b>7.5.5</b> Reorder the bars</a></li>
<li class="chapter" data-level="7.5.6" data-path="ggplot-intro.html"><a href="ggplot-intro.html#add-some-titles-labels"><i class="fa fa-check"></i><b>7.5.6</b> Add some titles, labels</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="ggplot-intro.html"><a href="ggplot-intro.html#on-your-own-ice-cream"><i class="fa fa-check"></i><b>7.6</b> On your own: Ice cream!</a></li>
<li class="chapter" data-level="7.7" data-path="ggplot-intro.html"><a href="ggplot-intro.html#what-weve-learned"><i class="fa fa-check"></i><b>7.7</b> What we’ve learned</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="ggplot-more.html"><a href="ggplot-more.html"><i class="fa fa-check"></i><b>8</b> Deeper into ggplot</a>
<ul>
<li class="chapter" data-level="8.1" data-path="ggplot-more.html"><a href="ggplot-more.html#references"><i class="fa fa-check"></i><b>8.1</b> References</a></li>
<li class="chapter" data-level="8.2" data-path="ggplot-more.html"><a href="ggplot-more.html#learning-goals-for-this-chapter"><i class="fa fa-check"></i><b>8.2</b> Learning goals for this chapter</a></li>
<li class="chapter" data-level="8.3" data-path="ggplot-more.html"><a href="ggplot-more.html#set-up-your-notebook"><i class="fa fa-check"></i><b>8.3</b> Set up your notebook</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="ggplot-more.html"><a href="ggplot-more.html#lets-get-the-data"><i class="fa fa-check"></i><b>8.3.1</b> Let’s get the data</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="ggplot-more.html"><a href="ggplot-more.html#make-a-line-chart-of-the-texas-data"><i class="fa fa-check"></i><b>8.4</b> Make a line chart of the Texas data</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="ggplot-more.html"><a href="ggplot-more.html#prepare-the-data-1"><i class="fa fa-check"></i><b>8.4.1</b> Prepare the data</a></li>
<li class="chapter" data-level="8.4.2" data-path="ggplot-more.html"><a href="ggplot-more.html#plot-the-chart"><i class="fa fa-check"></i><b>8.4.2</b> Plot the chart</a></li>
<li class="chapter" data-level="8.4.3" data-path="ggplot-more.html"><a href="ggplot-more.html#saving-plots-as-an-object"><i class="fa fa-check"></i><b>8.4.3</b> Saving plots as an object</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="ggplot-more.html"><a href="ggplot-more.html#themes"><i class="fa fa-check"></i><b>8.5</b> Themes</a>
<ul>
<li class="chapter" data-level="8.5.1" data-path="ggplot-more.html"><a href="ggplot-more.html#more-with-ggthemes"><i class="fa fa-check"></i><b>8.5.1</b> More with ggthemes</a></li>
<li class="chapter" data-level="8.5.2" data-path="ggplot-more.html"><a href="ggplot-more.html#there-is-more-to-themes"><i class="fa fa-check"></i><b>8.5.2</b> There is more to themes</a></li>
</ul></li>
<li class="chapter" data-level="8.6" data-path="ggplot-more.html"><a href="ggplot-more.html#adding-more-information"><i class="fa fa-check"></i><b>8.6</b> Adding more information</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="ggplot-more.html"><a href="ggplot-more.html#prepare-the-data-2"><i class="fa fa-check"></i><b>8.6.1</b> Prepare the data</a></li>
<li class="chapter" data-level="8.6.2" data-path="ggplot-more.html"><a href="ggplot-more.html#plot-multiple-line-chart"><i class="fa fa-check"></i><b>8.6.2</b> Plot multiple line chart</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="ggplot-more.html"><a href="ggplot-more.html#on-your-own-line-chart"><i class="fa fa-check"></i><b>8.7</b> On your own: Line chart</a></li>
<li class="chapter" data-level="8.8" data-path="ggplot-more.html"><a href="ggplot-more.html#tour-of-some-other-adjustments"><i class="fa fa-check"></i><b>8.8</b> Tour of some other adjustments</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="ggplot-more.html"><a href="ggplot-more.html#line-width"><i class="fa fa-check"></i><b>8.8.1</b> Line width</a></li>
<li class="chapter" data-level="8.8.2" data-path="ggplot-more.html"><a href="ggplot-more.html#line-type"><i class="fa fa-check"></i><b>8.8.2</b> Line type</a></li>
<li class="chapter" data-level="8.8.3" data-path="ggplot-more.html"><a href="ggplot-more.html#adjust-axis"><i class="fa fa-check"></i><b>8.8.3</b> Adjust axis</a></li>
</ul></li>
<li class="chapter" data-level="8.9" data-path="ggplot-more.html"><a href="ggplot-more.html#facets"><i class="fa fa-check"></i><b>8.9</b> Facets</a>
<ul>
<li class="chapter" data-level="8.9.1" data-path="ggplot-more.html"><a href="ggplot-more.html#facet-wrap"><i class="fa fa-check"></i><b>8.9.1</b> Facet wrap</a></li>
<li class="chapter" data-level="8.9.2" data-path="ggplot-more.html"><a href="ggplot-more.html#facet-grids"><i class="fa fa-check"></i><b>8.9.2</b> Facet grids</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="ggplot-more.html"><a href="ggplot-more.html#on-your-own-facet-wrap"><i class="fa fa-check"></i><b>8.10</b> On your own: Facet wrap</a></li>
<li class="chapter" data-level="8.11" data-path="ggplot-more.html"><a href="ggplot-more.html#saving-plots"><i class="fa fa-check"></i><b>8.11</b> Saving plots</a></li>
<li class="chapter" data-level="8.12" data-path="ggplot-more.html"><a href="ggplot-more.html#interactive-plots"><i class="fa fa-check"></i><b>8.12</b> Interactive plots</a></li>
<li class="chapter" data-level="8.13" data-path="ggplot-more.html"><a href="ggplot-more.html#what-we-learned"><i class="fa fa-check"></i><b>8.13</b> What we learned</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="tidy-data.html"><a href="tidy-data.html"><i class="fa fa-check"></i><b>9</b> Tidy data</a>
<ul>
<li class="chapter" data-level="9.1" data-path="tidy-data.html"><a href="tidy-data.html#goals-for-this-section-1"><i class="fa fa-check"></i><b>9.1</b> Goals for this section</a></li>
<li class="chapter" data-level="9.2" data-path="tidy-data.html"><a href="tidy-data.html#the-questions-well-answer-1"><i class="fa fa-check"></i><b>9.2</b> The questions we’ll answer</a></li>
<li class="chapter" data-level="9.3" data-path="tidy-data.html"><a href="tidy-data.html#what-is-tidy-data"><i class="fa fa-check"></i><b>9.3</b> What is tidy data</a></li>
<li class="chapter" data-level="9.4" data-path="tidy-data.html"><a href="tidy-data.html#tidyr-package"><i class="fa fa-check"></i><b>9.4</b> Tidyr package</a></li>
<li class="chapter" data-level="9.5" data-path="tidy-data.html"><a href="tidy-data.html#the-tidyr-verbs"><i class="fa fa-check"></i><b>9.5</b> The tidyr verbs</a></li>
<li class="chapter" data-level="9.6" data-path="tidy-data.html"><a href="tidy-data.html#prepare-our-skittles-project"><i class="fa fa-check"></i><b>9.6</b> Prepare our Skittles project</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="tidy-data.html"><a href="tidy-data.html#get-the-data"><i class="fa fa-check"></i><b>9.6.1</b> Get the data</a></li>
<li class="chapter" data-level="9.6.2" data-path="tidy-data.html"><a href="tidy-data.html#fix-the-date"><i class="fa fa-check"></i><b>9.6.2</b> Fix the date</a></li>
<li class="chapter" data-level="9.6.3" data-path="tidy-data.html"><a href="tidy-data.html#peek-at-the-wide-table"><i class="fa fa-check"></i><b>9.6.3</b> Peek at the wide table</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="tidy-data.html"><a href="tidy-data.html#pivot-longer"><i class="fa fa-check"></i><b>9.7</b> Pivot longer</a>
<ul>
<li class="chapter" data-level="9.7.1" data-path="tidy-data.html"><a href="tidy-data.html#average-candies-per-color"><i class="fa fa-check"></i><b>9.7.1</b> Average candies per color</a></li>
<li class="chapter" data-level="9.7.2" data-path="tidy-data.html"><a href="tidy-data.html#round-the-averages"><i class="fa fa-check"></i><b>9.7.2</b> Round the averages</a></li>
<li class="chapter" data-level="9.7.3" data-path="tidy-data.html"><a href="tidy-data.html#on-your-own-plot-the-averages"><i class="fa fa-check"></i><b>9.7.3</b> On your own: Plot the averages</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="tidy-data.html"><a href="tidy-data.html#using-datawrapper"><i class="fa fa-check"></i><b>9.8</b> Using Datawrapper</a>
<ul>
<li class="chapter" data-level="9.8.1" data-path="tidy-data.html"><a href="tidy-data.html#review-how-to-make-a-bar-chart"><i class="fa fa-check"></i><b>9.8.1</b> Review how to make a bar chart</a></li>
<li class="chapter" data-level="9.8.2" data-path="tidy-data.html"><a href="tidy-data.html#start-a-chart"><i class="fa fa-check"></i><b>9.8.2</b> Start a chart</a></li>
<li class="chapter" data-level="9.8.3" data-path="tidy-data.html"><a href="tidy-data.html#get-your-candies-data"><i class="fa fa-check"></i><b>9.8.3</b> Get your candies data</a></li>
<li class="chapter" data-level="9.8.4" data-path="tidy-data.html"><a href="tidy-data.html#build-the-datawrapper-graphic"><i class="fa fa-check"></i><b>9.8.4</b> Build the datawrapper graphic</a></li>
</ul></li>
<li class="chapter" data-level="9.9" data-path="tidy-data.html"><a href="tidy-data.html#bonus-questions"><i class="fa fa-check"></i><b>9.9</b> Bonus questions</a>
<ul>
<li class="chapter" data-level="9.9.1" data-path="tidy-data.html"><a href="tidy-data.html#mostleast-candies"><i class="fa fa-check"></i><b>9.9.1</b> Most/least candies</a></li>
<li class="chapter" data-level="9.9.2" data-path="tidy-data.html"><a href="tidy-data.html#average-total-candies-in-a-bag"><i class="fa fa-check"></i><b>9.9.2</b> Average total candies in a bag</a></li>
</ul></li>
<li class="chapter" data-level="9.10" data-path="tidy-data.html"><a href="tidy-data.html#turn-in-your-work"><i class="fa fa-check"></i><b>9.10</b> Turn in your work</a></li>
<li class="chapter" data-level="9.11" data-path="tidy-data.html"><a href="tidy-data.html#what-we-learned-1"><i class="fa fa-check"></i><b>9.11</b> What we learned</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="plot-aac.html"><a href="plot-aac.html"><i class="fa fa-check"></i><b>10</b> Plotting for answers</a>
<ul>
<li class="chapter" data-level="10.1" data-path="plot-aac.html"><a href="plot-aac.html#goals-of-this-lesson-1"><i class="fa fa-check"></i><b>10.1</b> Goals of this lesson</a></li>
<li class="chapter" data-level="10.2" data-path="plot-aac.html"><a href="plot-aac.html#questions-we-will-answer"><i class="fa fa-check"></i><b>10.2</b> Questions we will answer</a></li>
<li class="chapter" data-level="10.3" data-path="plot-aac.html"><a href="plot-aac.html#create-your-project-1"><i class="fa fa-check"></i><b>10.3</b> Create your project</a></li>
<li class="chapter" data-level="10.4" data-path="plot-aac.html"><a href="plot-aac.html#download-the-data-1"><i class="fa fa-check"></i><b>10.4</b> Download the data</a></li>
<li class="chapter" data-level="10.5" data-path="plot-aac.html"><a href="plot-aac.html#import-your-data"><i class="fa fa-check"></i><b>10.5</b> Import your data</a></li>
<li class="chapter" data-level="10.6" data-path="plot-aac.html"><a href="plot-aac.html#fix-the-dates"><i class="fa fa-check"></i><b>10.6</b> Fix the dates</a>
<ul>
<li class="chapter" data-level="10.6.1" data-path="plot-aac.html"><a href="plot-aac.html#edit-to-convert-to-a-real-date"><i class="fa fa-check"></i><b>10.6.1</b> Edit to convert to a real date</a></li>
</ul></li>
<li class="chapter" data-level="10.7" data-path="plot-aac.html"><a href="plot-aac.html#parse-the-date-into-helpful-variables"><i class="fa fa-check"></i><b>10.7</b> Parse the date into helpful variables</a>
<ul>
<li class="chapter" data-level="10.7.1" data-path="plot-aac.html"><a href="plot-aac.html#extract-the-year"><i class="fa fa-check"></i><b>10.7.1</b> Extract the year</a></li>
<li class="chapter" data-level="10.7.2" data-path="plot-aac.html"><a href="plot-aac.html#extract-the-month-name"><i class="fa fa-check"></i><b>10.7.2</b> Extract the month name</a></li>
<li class="chapter" data-level="10.7.3" data-path="plot-aac.html"><a href="plot-aac.html#extract-yyyy-mm-format"><i class="fa fa-check"></i><b>10.7.3</b> Extract YYYY-MM format</a></li>
<li class="chapter" data-level="10.7.4" data-path="plot-aac.html"><a href="plot-aac.html#reorder-and-drop-columns"><i class="fa fa-check"></i><b>10.7.4</b> Reorder and drop columns</a></li>
</ul></li>
<li class="chapter" data-level="10.8" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-filter-dates"><i class="fa fa-check"></i><b>10.8</b> On your own: Filter dates</a></li>
<li class="chapter" data-level="10.9" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-export-your-data"><i class="fa fa-check"></i><b>10.9</b> On your own: Export your data</a></li>
<li class="chapter" data-level="10.10" data-path="plot-aac.html"><a href="plot-aac.html#set-up-your-analysis-notebook"><i class="fa fa-check"></i><b>10.10</b> Set up your analysis notebook</a></li>
<li class="chapter" data-level="10.11" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-import-your-cleaned-data"><i class="fa fa-check"></i><b>10.11</b> On your own: Import your cleaned data</a></li>
<li class="chapter" data-level="10.12" data-path="plot-aac.html"><a href="plot-aac.html#question-1-intakes-by-year"><i class="fa fa-check"></i><b>10.12</b> Question 1: Intakes by year</a>
<ul>
<li class="chapter" data-level="10.12.1" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-column-chart-of-intakes-by-year"><i class="fa fa-check"></i><b>10.12.1</b> On your own: Column chart of intakes by year</a></li>
<li class="chapter" data-level="10.12.2" data-path="plot-aac.html"><a href="plot-aac.html#getting-commas-on-numbers"><i class="fa fa-check"></i><b>10.12.2</b> Getting commas on numbers</a></li>
</ul></li>
<li class="chapter" data-level="10.13" data-path="plot-aac.html"><a href="plot-aac.html#question-2-intakes-by-month"><i class="fa fa-check"></i><b>10.13</b> Question 2: Intakes by month</a>
<ul>
<li class="chapter" data-level="10.13.1" data-path="plot-aac.html"><a href="plot-aac.html#intakes-by-month-as-a-line"><i class="fa fa-check"></i><b>10.13.1</b> Intakes by month as a line</a></li>
<li class="chapter" data-level="10.13.2" data-path="plot-aac.html"><a href="plot-aac.html#make-the-chart-wider"><i class="fa fa-check"></i><b>10.13.2</b> Make the chart wider</a></li>
<li class="chapter" data-level="10.13.3" data-path="plot-aac.html"><a href="plot-aac.html#so-what-of-this"><i class="fa fa-check"></i><b>10.13.3</b> So, what of this</a></li>
</ul></li>
<li class="chapter" data-level="10.14" data-path="plot-aac.html"><a href="plot-aac.html#question-3-intakes-by-month-split-by-year"><i class="fa fa-check"></i><b>10.14</b> Question 3: Intakes by month, split by year</a>
<ul>
<li class="chapter" data-level="10.14.1" data-path="plot-aac.html"><a href="plot-aac.html#prepare-the-data-with-mo-and-yr"><i class="fa fa-check"></i><b>10.14.1</b> Prepare the data with mo and yr</a></li>
<li class="chapter" data-level="10.14.2" data-path="plot-aac.html"><a href="plot-aac.html#plot-by-month-split-by-year"><i class="fa fa-check"></i><b>10.14.2</b> Plot by month, split by year</a></li>
<li class="chapter" data-level="10.14.3" data-path="plot-aac.html"><a href="plot-aac.html#adjust-the-yr-value-to-a-character"><i class="fa fa-check"></i><b>10.14.3</b> Adjust the yr value to a character</a></li>
<li class="chapter" data-level="10.14.4" data-path="plot-aac.html"><a href="plot-aac.html#clean-up-your-intakes-by-month-split-by-year-chart"><i class="fa fa-check"></i><b>10.14.4</b> Clean up your intakes by month, split by year chart</a></li>
</ul></li>
<li class="chapter" data-level="10.15" data-path="plot-aac.html"><a href="plot-aac.html#question-4-animal-types-by-month"><i class="fa fa-check"></i><b>10.15</b> Question 4: Animal types by month</a>
<ul>
<li class="chapter" data-level="10.15.1" data-path="plot-aac.html"><a href="plot-aac.html#recode-animal-types"><i class="fa fa-check"></i><b>10.15.1</b> Recode animal types</a></li>
<li class="chapter" data-level="10.15.2" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-count-animal-types-by-month"><i class="fa fa-check"></i><b>10.15.2</b> On your own: Count animal types by month</a></li>
<li class="chapter" data-level="10.15.3" data-path="plot-aac.html"><a href="plot-aac.html#on-your-own-plot-animal-types-by-month"><i class="fa fa-check"></i><b>10.15.3</b> On your own: Plot animal types by month</a></li>
</ul></li>
<li class="chapter" data-level="10.16" data-path="plot-aac.html"><a href="plot-aac.html#what-we-learned-2"><i class="fa fa-check"></i><b>10.16</b> What we learned</a></li>
<li class="chapter" data-level="10.17" data-path="plot-aac.html"><a href="plot-aac.html#turn-in-your-work-1"><i class="fa fa-check"></i><b>10.17</b> Turn in your work</a></li>
<li class="chapter" data-level="10.18" data-path="plot-aac.html"><a href="plot-aac.html#whats-next-1"><i class="fa fa-check"></i><b>10.18</b> What’s next</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="census-intro.html"><a href="census-intro.html"><i class="fa fa-check"></i><b>11</b> Census introduction</a>
<ul>
<li class="chapter" data-level="11.1" data-path="census-intro.html"><a href="census-intro.html#goals-of-this-chapter"><i class="fa fa-check"></i><b>11.1</b> Goals of this chapter</a></li>
<li class="chapter" data-level="11.2" data-path="census-intro.html"><a href="census-intro.html#start-a-tidycensus-project"><i class="fa fa-check"></i><b>11.2</b> Start a tidycensus project</a></li>
<li class="chapter" data-level="11.3" data-path="census-intro.html"><a href="census-intro.html#census-data-portal-and-api"><i class="fa fa-check"></i><b>11.3</b> Census data portal and API</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="census-intro.html"><a href="census-intro.html#request-a-key"><i class="fa fa-check"></i><b>11.3.1</b> Request a key</a></li>
<li class="chapter" data-level="11.3.2" data-path="census-intro.html"><a href="census-intro.html#install-a-key"><i class="fa fa-check"></i><b>11.3.2</b> Install a key</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="census-intro.html"><a href="census-intro.html#about-the-tidycensus-package"><i class="fa fa-check"></i><b>11.4</b> About the tidycensus package</a>
<ul>
<li class="chapter" data-level="11.4.1" data-path="census-intro.html"><a href="census-intro.html#finding-the-data-you-want"><i class="fa fa-check"></i><b>11.4.1</b> Finding the data you want</a></li>
</ul></li>
<li class="chapter" data-level="11.5" data-path="census-intro.html"><a href="census-intro.html#broadband-access-by-county-in-texas"><i class="fa fa-check"></i><b>11.5</b> Broadband access by county in Texas</a></li>
<li class="chapter" data-level="11.6" data-path="census-intro.html"><a href="census-intro.html#using-the-tidycensus-load_variable-function"><i class="fa fa-check"></i><b>11.6</b> Using the tidycensus load_variable() function</a></li>
<li class="chapter" data-level="11.7" data-path="census-intro.html"><a href="census-intro.html#use-tidycensus-to-fetch-our-data"><i class="fa fa-check"></i><b>11.7</b> Use tidycensus to fetch our data</a>
<ul>
<li class="chapter" data-level="11.7.1" data-path="census-intro.html"><a href="census-intro.html#get-broadband-rates-by-county-in-texas"><i class="fa fa-check"></i><b>11.7.1</b> Get broadband rates by county in Texas</a></li>
<li class="chapter" data-level="11.7.2" data-path="census-intro.html"><a href="census-intro.html#on-your-own-arrange-to-get-lowesthighest-values"><i class="fa fa-check"></i><b>11.7.2</b> On your own: Arrange to get lowest/highest values</a></li>
<li class="chapter" data-level="11.7.3" data-path="census-intro.html"><a href="census-intro.html#what-you-have-here"><i class="fa fa-check"></i><b>11.7.3</b> What you have here</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="census-intro.html"><a href="census-intro.html#map-broadband-access-by-counties-in-texas"><i class="fa fa-check"></i><b>11.8</b> Map broadband access by counties in Texas</a>
<ul>
<li class="chapter" data-level="11.8.1" data-path="census-intro.html"><a href="census-intro.html#plot-the-broadband-map"><i class="fa fa-check"></i><b>11.8.1</b> Plot the broadband map</a></li>
<li class="chapter" data-level="11.8.2" data-path="census-intro.html"><a href="census-intro.html#you-did-it"><i class="fa fa-check"></i><b>11.8.2</b> You did it!</a></li>
</ul></li>
<li class="chapter" data-level="11.9" data-path="census-intro.html"><a href="census-intro.html#keep-this-project"><i class="fa fa-check"></i><b>11.9</b> Keep this project</a></li>
<li class="chapter" data-level="11.10" data-path="census-intro.html"><a href="census-intro.html#what-weve-learned-1"><i class="fa fa-check"></i><b>11.10</b> What we’ve learned</a></li>
<li class="chapter" data-level="11.11" data-path="census-intro.html"><a href="census-intro.html#other-useful-census-related-packages"><i class="fa fa-check"></i><b>11.11</b> Other useful census-related packages</a>
<ul>
<li class="chapter" data-level="11.11.1" data-path="census-intro.html"><a href="census-intro.html#the-censusapi-package"><i class="fa fa-check"></i><b>11.11.1</b> The censusapi package</a></li>
</ul></li>
<li class="chapter" data-level="11.12" data-path="census-intro.html"><a href="census-intro.html#interactive-maps-with-leaflet"><i class="fa fa-check"></i><b>11.12</b> Interactive maps with leaflet</a></li>
<li class="chapter" data-level="11.13" data-path="census-intro.html"><a href="census-intro.html#more-resources-and-examples"><i class="fa fa-check"></i><b>11.13</b> More resources and examples</a></li>
<li class="chapter" data-level="11.14" data-path="census-intro.html"><a href="census-intro.html#using-the-data-portal-to-download-data"><i class="fa fa-check"></i><b>11.14</b> Using the data portal to download data</a>
<ul>
<li class="chapter" data-level="11.14.1" data-path="census-intro.html"><a href="census-intro.html#importing-downloaded-data"><i class="fa fa-check"></i><b>11.14.1</b> Importing downloaded data</a></li>
<li class="chapter" data-level="11.14.2" data-path="census-intro.html"><a href="census-intro.html#fields-made-to-join-with-other-data"><i class="fa fa-check"></i><b>11.14.2</b> Fields made to join with other data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="census-more.html"><a href="census-more.html"><i class="fa fa-check"></i><b>12</b> Joining census data</a>
<ul>
<li class="chapter" data-level="12.1" data-path="census-more.html"><a href="census-more.html#goals-of-the-chapter"><i class="fa fa-check"></i><b>12.1</b> Goals of the chapter</a></li>
<li class="chapter" data-level="12.2" data-path="census-more.html"><a href="census-more.html#questions-well-answer"><i class="fa fa-check"></i><b>12.2</b> Questions we’ll answer</a></li>
<li class="chapter" data-level="12.3" data-path="census-more.html"><a href="census-more.html#set-up-your-notebook-1"><i class="fa fa-check"></i><b>12.3</b> Set up your notebook</a></li>
<li class="chapter" data-level="12.4" data-path="census-more.html"><a href="census-more.html#new-york-times-covid-data"><i class="fa fa-check"></i><b>12.4</b> New York Times COVID data</a>
<ul>
<li class="chapter" data-level="12.4.1" data-path="census-more.html"><a href="census-more.html#on-your-own-import-the-nyt-data"><i class="fa fa-check"></i><b>12.4.1</b> On your own: Import the NYT data</a></li>
<li class="chapter" data-level="12.4.2" data-path="census-more.html"><a href="census-more.html#slice-the-most-recent-data"><i class="fa fa-check"></i><b>12.4.2</b> Slice the most recent data</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="census-more.html"><a href="census-more.html#get-county-populations-using-tidycensus"><i class="fa fa-check"></i><b>12.5</b> Get county populations using tidycensus</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="census-more.html"><a href="census-more.html#find-the-data-on-data.census.gov"><i class="fa fa-check"></i><b>12.5.1</b> Find the data on data.census.gov</a></li>
<li class="chapter" data-level="12.5.2" data-path="census-more.html"><a href="census-more.html#find-the-variable-name"><i class="fa fa-check"></i><b>12.5.2</b> Find the variable name</a></li>
<li class="chapter" data-level="12.5.3" data-path="census-more.html"><a href="census-more.html#fetch-the-population-data"><i class="fa fa-check"></i><b>12.5.3</b> Fetch the population data</a></li>
<li class="chapter" data-level="12.5.4" data-path="census-more.html"><a href="census-more.html#get-data-for-texas-counties"><i class="fa fa-check"></i><b>12.5.4</b> Get data for Texas counties</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="census-more.html"><a href="census-more.html#about-joins"><i class="fa fa-check"></i><b>12.6</b> About joins</a>
<ul>
<li class="chapter" data-level="12.6.1" data-path="census-more.html"><a href="census-more.html#join-our-data-together"><i class="fa fa-check"></i><b>12.6.1</b> Join our data together</a></li>
<li class="chapter" data-level="12.6.2" data-path="census-more.html"><a href="census-more.html#clean-up-column-names-etc."><i class="fa fa-check"></i><b>12.6.2</b> Clean up column names, etc.</a></li>
</ul></li>
<li class="chapter" data-level="12.7" data-path="census-more.html"><a href="census-more.html#create-our-rate-columns"><i class="fa fa-check"></i><b>12.7</b> Create our rate columns</a>
<ul>
<li class="chapter" data-level="12.7.1" data-path="census-more.html"><a href="census-more.html#on-your-own-get-a-deaths-rate-per-1000"><i class="fa fa-check"></i><b>12.7.1</b> On your own: Get a deaths rate per 1,000</a></li>
<li class="chapter" data-level="12.7.2" data-path="census-more.html"><a href="census-more.html#on-your-own-find-counties-with-highest-rates"><i class="fa fa-check"></i><b>12.7.2</b> On your own: Find counties with highest rates</a></li>
</ul></li>
<li class="chapter" data-level="12.8" data-path="census-more.html"><a href="census-more.html#mapping-the-rates-for-texas-counties"><i class="fa fa-check"></i><b>12.8</b> Mapping the rates for Texas counties</a></li>
<li class="chapter" data-level="12.9" data-path="census-more.html"><a href="census-more.html#on-your-own-map-the-deaths-per-1000"><i class="fa fa-check"></i><b>12.9</b> On your own: Map the deaths per 1,000</a></li>
<li class="chapter" data-level="12.10" data-path="census-more.html"><a href="census-more.html#what-weve-learned-2"><i class="fa fa-check"></i><b>12.10</b> What we’ve learned</a></li>
<li class="chapter" data-level="12.11" data-path="census-more.html"><a href="census-more.html#turn-in-your-work-2"><i class="fa fa-check"></i><b>12.11</b> Turn in your work</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html"><i class="fa fa-check"></i><b>13</b> How to tackle a new dataset</a>
<ul>
<li class="chapter" data-level="13.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#start-by-listing-questions"><i class="fa fa-check"></i><b>13.1</b> Start by listing questions</a></li>
<li class="chapter" data-level="13.2" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#understand-your-data"><i class="fa fa-check"></i><b>13.2</b> Understand your data</a></li>
<li class="chapter" data-level="13.3" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#counting-and-aggregation"><i class="fa fa-check"></i><b>13.3</b> Counting and aggregation</a>
<ul>
<li class="chapter" data-level="13.3.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#counting-rows-based-on-a-column"><i class="fa fa-check"></i><b>13.3.1</b> Counting rows based on a column</a></li>
<li class="chapter" data-level="13.3.2" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#sum-mean-and-other-aggregations"><i class="fa fa-check"></i><b>13.3.2</b> Sum, mean and other aggregations</a></li>
<li class="chapter" data-level="13.3.3" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#creating-columns-to-show-difference"><i class="fa fa-check"></i><b>13.3.3</b> Creating columns to show difference</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#cleaning-up-categorical-data"><i class="fa fa-check"></i><b>13.4</b> Cleaning up categorical data</a></li>
<li class="chapter" data-level="13.5" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#time-as-a-variable"><i class="fa fa-check"></i><b>13.5</b> Time as a variable</a></li>
<li class="chapter" data-level="13.6" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#explore-the-distributions-in-your-data"><i class="fa fa-check"></i><b>13.6</b> Explore the distributions in your data</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="how-to-tackle-a-new-dataset.html"><a href="how-to-tackle-a-new-dataset.html#more-on-histograms"><i class="fa fa-check"></i><b>13.6.1</b> More on histograms</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="14" data-path="verbs.html"><a href="verbs.html"><i class="fa fa-check"></i><b>14</b> Verbs</a>
<ul>
<li class="chapter" data-level="14.1" data-path="verbs.html"><a href="verbs.html#importexport"><i class="fa fa-check"></i><b>14.1</b> Import/Export</a></li>
<li class="chapter" data-level="14.2" data-path="verbs.html"><a href="verbs.html#data-manipulation"><i class="fa fa-check"></i><b>14.2</b> Data manipulation</a></li>
<li class="chapter" data-level="14.3" data-path="verbs.html"><a href="verbs.html#aggregation"><i class="fa fa-check"></i><b>14.3</b> Aggregation</a></li>
<li class="chapter" data-level="14.4" data-path="verbs.html"><a href="verbs.html#math"><i class="fa fa-check"></i><b>14.4</b> Math</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="chart-examples.html"><a href="chart-examples.html"><i class="fa fa-check"></i><b>15</b> Chart examples</a>
<ul>
<li class="chapter" data-level="15.1" data-path="chart-examples.html"><a href="chart-examples.html#bar-charts"><i class="fa fa-check"></i><b>15.1</b> Bar charts</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="chart-examples.html"><a href="chart-examples.html#explanaton"><i class="fa fa-check"></i><b>15.1.1</b> Explanaton</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="chart-examples.html"><a href="chart-examples.html#column-chart"><i class="fa fa-check"></i><b>15.2</b> Column chart</a></li>
<li class="chapter" data-level="15.3" data-path="chart-examples.html"><a href="chart-examples.html#a-line-chart"><i class="fa fa-check"></i><b>15.3</b> A line chart</a>
<ul>
<li class="chapter" data-level="15.3.1" data-path="chart-examples.html"><a href="chart-examples.html#explanation"><i class="fa fa-check"></i><b>15.3.1</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="chart-examples.html"><a href="chart-examples.html#scatterplot"><i class="fa fa-check"></i><b>15.4</b> Scatterplot</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="chart-examples.html"><a href="chart-examples.html#explanation-1"><i class="fa fa-check"></i><b>15.4.1</b> Explanation</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="chart-examples.html"><a href="chart-examples.html#histogram"><i class="fa fa-check"></i><b>15.5</b> Histogram</a></li>
<li class="chapter" data-level="15.6" data-path="chart-examples.html"><a href="chart-examples.html#titles-labels-and-other-cleanup"><i class="fa fa-check"></i><b>15.6</b> Titles, labels and other cleanup</a>
<ul>
<li class="chapter" data-level="15.6.1" data-path="chart-examples.html"><a href="chart-examples.html#title-and-axis-labels"><i class="fa fa-check"></i><b>15.6.1</b> Title and axis labels</a></li>
<li class="chapter" data-level="15.6.2" data-path="chart-examples.html"><a href="chart-examples.html#flip-the-graphic"><i class="fa fa-check"></i><b>15.6.2</b> Flip the graphic</a></li>
<li class="chapter" data-level="15.6.3" data-path="chart-examples.html"><a href="chart-examples.html#fix-exponential-numbers-on-an-axis"><i class="fa fa-check"></i><b>15.6.3</b> Fix exponential numbers on an axis</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="chart-examples.html"><a href="chart-examples.html#interactivity-with-plotly"><i class="fa fa-check"></i><b>15.7</b> Interactivity with plotly</a></li>
<li class="chapter" data-level="15.8" data-path="chart-examples.html"><a href="chart-examples.html#resources"><i class="fa fa-check"></i><b>15.8</b> Resources</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html"><i class="fa fa-check"></i><b>16</b> Publishing your findings</a>
<ul>
<li class="chapter" data-level="16.1" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#examples"><i class="fa fa-check"></i><b>16.1</b> Examples</a></li>
<li class="chapter" data-level="16.2" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#how-to-publish-your-projects"><i class="fa fa-check"></i><b>16.2</b> How to publish your projects</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#using-github-pages"><i class="fa fa-check"></i><b>16.2.1</b> Using Github Pages</a></li>
</ul></li>
<li class="chapter" data-level="16.3" data-path="publishing-your-findings.html"><a href="publishing-your-findings.html#making-branded-graphics"><i class="fa fa-check"></i><b>16.3</b> Making branded graphics</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Reporting with Data in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="plot-aac" class="section level1" number="10">
<h1><span class="header-section-number">Chapter 10</span> Plotting for answers</h1>
<p>For this chapter, we will use some data from the City of Austin data portal on animal intakes to the Austin Animal Center. You’ll use that portal to download the data, prepare it for R, then answer some questions and make plots to show the answers.</p>
<p>Along the way we’ll learn some stuff.</p>
<div id="goals-of-this-lesson-1" class="section level2" number="10.1">
<h2><span class="header-section-number">10.1</span> Goals of this lesson</h2>
<ul>
<li>We’ll use some string and date function to clean and parse some dates.</li>
<li>We’ll use <code>count()</code> to make some summaries. All of our “answers” are counting operations, so we’ll practice using that shortcut instead of “GSA.”</li>
<li>We’ll learn how to add commas to axis names in ggplot with the <a href="https://scales.r-lib.org/">scales</a> package.</li>
<li>We’ll use <code>recode()</code> to update some values in our data.</li>
</ul>
</div>
<div id="questions-we-will-answer" class="section level2" number="10.2">
<h2><span class="header-section-number">10.2</span> Questions we will answer</h2>
<p>We’ll tackle these after we clean our data, but so you know where we are going:</p>
<ul>
<li>Are animal intakes increasing or decreasing each year since 2016? Plot a column chart of intakes by year. Don’t include 2021 since it is not a full year.</li>
<li>Are there seasonal monthly trends in overall animal intakes? Plot intakes by year/month from 2016 to current, including 2021. (One long line or column chart.)</li>
<li>Plot that same monthly trend, except with month as the x axis, with a new line for each year.</li>
<li>Do certain types of animals drive seasonal trends? Use five full years of data (not 2021) to summarize intakes by animal type and month. Plot with month on the x axis with a line for each animal type.</li>
</ul>
</div>
<div id="create-your-project-1" class="section level2" number="10.3">
<h2><span class="header-section-number">10.3</span> Create your project</h2>
<p>We’ll be starting a new R project with our typical folder structure.</p>
<ol style="list-style-type: decimal">
<li>Create a new project. Call it <code>yourname-aac</code>.</li>
<li>Create your <code>data-raw</code> and <code>data-processed</code> folders.</li>
<li>Create a new R Notebook, title it “AAC Import/clean” and name the file <code>01-import.Rmd</code></li>
<li>Add your setup section with the following libraries:</li>
</ol>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="plot-aac.html#cb194-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb194-2"><a href="plot-aac.html#cb194-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(janitor)</span>
<span id="cb194-3"><a href="plot-aac.html#cb194-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span></code></pre></div>
<p>As always, create good Markdown sections, descriptions, add notes and name your R chunks so you have good bookmarks to work with.</p>
</div>
<div id="download-the-data-1" class="section level2" number="10.4">
<h2><span class="header-section-number">10.4</span> Download the data</h2>
<p>This time you have to go get your data online and then put the file into your <code>data-raw</code> folder yourself.</p>
<ol style="list-style-type: decimal">
<li>Go to <a href="https://data.austintexas.gov/" class="uri">https://data.austintexas.gov/</a></li>
<li>Search for “animal intakes.” Find the link “Austin Animal Center Intakes” and click on it. (It may not be the first return, so be careful to get the right one.)</li>
</ol>
<p>This page tells you about the data at the top. Note that records go back to October 2013. Further down the page there is a list of the “Columns in this Dataset” that kinda describes them, and you can see an example of the data at the bottom. Review those.</p>
<ol style="list-style-type: decimal">
<li>At the top-right of the page is an <strong>Export</strong> button. Click on that and choose <strong>CSV</strong>. This will save the file called <code>Austin_Animal_Center_Intakes.csv</code> to your computer’s Downloads folder.</li>
<li>Find your Downloads folder and the file on your computer, and them move the csv file into your <code>data-raw</code> folder in your project folder.</li>
</ol>
<p>Note that when you source this data in stories or charts, it comes from the Austin Animal Center, not the city’s data portal. The portal is just the delivery method.</p>
</div>
<div id="import-your-data" class="section level2" number="10.5">
<h2><span class="header-section-number">10.5</span> Import your data</h2>
<p>Go back into RStudio in your <code>01-import.Rmd</code> file and import the data. You’ve done this many times now and should be able to do it on your own.</p>
<ol style="list-style-type: decimal">
<li>Don’t forget to create a section with a headline, etc.</li>
<li>Work one line at a time. Use <code>read_csv()</code> to find your data and load it onto the screen.</li>
<li>Once that is using, add a <code>%&gt;%</code> and use the <code>clean_names()</code> function to fix the column names.</li>
<li>Once that is all good, edit the chunk to save the imported data into a new tibble called <code>raw_data</code>.</li>
</ol>
<details>
<summary>
You shouldn’t need this.
</summary>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="plot-aac.html#cb195-1" aria-hidden="true" tabindex="-1"></a>raw_data <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data-raw/Austin_Animal_Center_Intakes.csv&quot;</span>) <span class="sc">%&gt;%</span> <span class="fu">clean_names</span>()</span>
<span id="cb195-2"><a href="plot-aac.html#cb195-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb195-3"><a href="plot-aac.html#cb195-3" aria-hidden="true" tabindex="-1"></a><span class="co"># peek at the data</span></span>
<span id="cb195-4"><a href="plot-aac.html#cb195-4" aria-hidden="true" tabindex="-1"></a>raw_data</span></code></pre></div>
<pre><code>## # A tibble: 132,214 × 12
##    animal_id name    date_time              month_year found_location intake_type
##    &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;                  &lt;chr&gt;      &lt;chr&gt;          &lt;chr&gt;      
##  1 A786884   *Brock  01/03/2019 04:19:00 PM 01/03/201… 2501 Magin Me… Stray      
##  2 A706918   Belle   07/05/2015 12:59:00 PM 07/05/201… 9409 Bluegras… Stray      
##  3 A724273   Runster 04/14/2016 06:43:00 PM 04/14/201… 2818 Palomino… Stray      
##  4 A665644   &lt;NA&gt;    10/21/2013 07:59:00 AM 10/21/201… Austin (TX)    Stray      
##  5 A682524   Rio     06/29/2014 10:38:00 AM 06/29/201… 800 Grove Blv… Stray      
##  6 A743852   Odin    02/18/2017 12:46:00 PM 02/18/201… Austin (TX)    Owner Surr…
##  7 A635072   Beowulf 04/16/2019 09:53:00 AM 04/16/201… 415 East Mary… Public Ass…
##  8 A708452   Mumble  07/30/2015 02:37:00 PM 07/30/201… Austin (TX)    Public Ass…
##  9 A818975   &lt;NA&gt;    06/18/2020 02:53:00 PM 06/18/202… Braker Lane A… Stray      
## 10 A774147   &lt;NA&gt;    06/11/2018 07:45:00 AM 06/11/201… 6600 Elm Cree… Stray      
## # … with 132,204 more rows, and 6 more variables: intake_condition &lt;chr&gt;,
## #   animal_type &lt;chr&gt;, sex_upon_intake &lt;chr&gt;, age_upon_intake &lt;chr&gt;,
## #   breed &lt;chr&gt;, color &lt;chr&gt;</code></pre>
</details>
</div>
<div id="fix-the-dates" class="section level2" number="10.6">
<h2><span class="header-section-number">10.6</span> Fix the dates</h2>
<p>Take a look at the <code>date_time</code> and <code>month_year</code> columns. They are both <strong>timestamps</strong> that include both the date and time. They imported as a <strong>character</strong> datatype <code>&lt;chr&gt;</code> and are in this format:</p>
<pre class="text"><code>01/03/2019 04:19:00 PM</code></pre>
<p>We won’t be using the time for this exercise, so all we really need is the date. Lubridate doesn’t have a conversion for this exact format (at least that I could find.) That’s ok, we’ll use some <a href="https://stringr.tidyverse.org/">stringr</a> functions to whip this into shape.</p>
<p>We can use a function called <code>str_sub()</code> to pluck out the date from this string. We’ll create a new column using <code>mutate()</code> to do this. You’ve used mutate before.</p>
<p><code>str_sub()</code> allows you to pluck any number of characters out of a string. We want the first 10 characters: “01/03/2019.”</p>
<p>It takes three arguments:</p>
<ul>
<li>The column you are looking at? For us, this is the <code>date_time</code> column.</li>
<li>What position do you want to start at? For us, we start at “1,” the first character.</li>
<li>How many characters do you want? For us, we want “10.”</li>
</ul>
<p>We use this inside a <code>mutate()</code> function to create a new column with the results of the <code>str_sub()</code> function.</p>
<ol style="list-style-type: decimal">
<li>Create a new section and note we are fixing the date.</li>
<li>Create a chunk, call your <code>raw_data</code> and pipe that into a <code>mutate()</code> function.</li>
<li>Inside your mutate, name your new column <code>intake_date</code>.</li>
<li>Set <code>intake_date</code> to <code>=</code> to <code>str_sub(date_time, 1, 10)</code>.</li>
</ol>
<p>Try it, and then check the last column of the data that comes back to make sure you actually have a 10-character string like “01/03/2019.”</p>
<details>
<summary>
Part of the answer
</summary>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="plot-aac.html#cb198-1" aria-hidden="true" tabindex="-1"></a>raw_data <span class="sc">%&gt;%</span> </span>
<span id="cb198-2"><a href="plot-aac.html#cb198-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb198-3"><a href="plot-aac.html#cb198-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">intake_date =</span> <span class="fu">str_sub</span>(date_time, <span class="dv">1</span>, <span class="dv">10</span>)</span>
<span id="cb198-4"><a href="plot-aac.html#cb198-4" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 132,214 × 13
##    animal_id name    date_time              month_year found_location intake_type
##    &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;                  &lt;chr&gt;      &lt;chr&gt;          &lt;chr&gt;      
##  1 A786884   *Brock  01/03/2019 04:19:00 PM 01/03/201… 2501 Magin Me… Stray      
##  2 A706918   Belle   07/05/2015 12:59:00 PM 07/05/201… 9409 Bluegras… Stray      
##  3 A724273   Runster 04/14/2016 06:43:00 PM 04/14/201… 2818 Palomino… Stray      
##  4 A665644   &lt;NA&gt;    10/21/2013 07:59:00 AM 10/21/201… Austin (TX)    Stray      
##  5 A682524   Rio     06/29/2014 10:38:00 AM 06/29/201… 800 Grove Blv… Stray      
##  6 A743852   Odin    02/18/2017 12:46:00 PM 02/18/201… Austin (TX)    Owner Surr…
##  7 A635072   Beowulf 04/16/2019 09:53:00 AM 04/16/201… 415 East Mary… Public Ass…
##  8 A708452   Mumble  07/30/2015 02:37:00 PM 07/30/201… Austin (TX)    Public Ass…
##  9 A818975   &lt;NA&gt;    06/18/2020 02:53:00 PM 06/18/202… Braker Lane A… Stray      
## 10 A774147   &lt;NA&gt;    06/11/2018 07:45:00 AM 06/11/201… 6600 Elm Cree… Stray      
## # … with 132,204 more rows, and 7 more variables: intake_condition &lt;chr&gt;,
## #   animal_type &lt;chr&gt;, sex_upon_intake &lt;chr&gt;, age_upon_intake &lt;chr&gt;,
## #   breed &lt;chr&gt;, color &lt;chr&gt;, intake_date &lt;chr&gt;</code></pre>
</details>
<div id="edit-to-convert-to-a-real-date" class="section level3" number="10.6.1">
<h3><span class="header-section-number">10.6.1</span> Edit to convert to a real date</h3>
<p>If you did the above correctly, you should have a column called <code>intake_date</code> as the last column, but it isn’t actually a <strong>date</strong> yet, it is just characters that look like a date. We’ll fix that now.</p>
<ol style="list-style-type: decimal">
<li>Edit your date-fix chunk to add another rule INSIDE your mutate.</li>
<li>The new column will still be <code>intake_date =</code> but now you’ll set that to <code>mdy(intake_date)</code></li>
<li>Run the chunk and make sure that your same last column <code>intake_date</code> says <code>&lt;date&gt;</code> right below the name. The order should now be <code>2019-01-03</code>.</li>
<li>Now that this all works, assign all this using <code>&lt;-</code> into a tibble called <code>date_fix</code>.</li>
<li>Add a <code>glimpse()</code> of the date_fix tibble in the same chunk so you can eyeball the results.</li>
</ol>
<details>
<summary>
this was simlar to converting the date in billboard
</summary>
<div class="sourceCode" id="cb200"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb200-1"><a href="plot-aac.html#cb200-1" aria-hidden="true" tabindex="-1"></a>date_fix <span class="ot">&lt;-</span> raw_data <span class="sc">%&gt;%</span> </span>
<span id="cb200-2"><a href="plot-aac.html#cb200-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb200-3"><a href="plot-aac.html#cb200-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">intake_date =</span> <span class="fu">str_sub</span>(date_time, <span class="dv">1</span>, <span class="dv">10</span>),</span>
<span id="cb200-4"><a href="plot-aac.html#cb200-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">intake_date =</span> <span class="fu">mdy</span>(intake_date)</span>
<span id="cb200-5"><a href="plot-aac.html#cb200-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb200-6"><a href="plot-aac.html#cb200-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb200-7"><a href="plot-aac.html#cb200-7" aria-hidden="true" tabindex="-1"></a>date_fix <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 132,214
## Columns: 13
## $ animal_id        &lt;chr&gt; &quot;A786884&quot;, &quot;A706918&quot;, &quot;A724273&quot;, &quot;A665644&quot;, &quot;A682524&quot;…
## $ name             &lt;chr&gt; &quot;*Brock&quot;, &quot;Belle&quot;, &quot;Runster&quot;, NA, &quot;Rio&quot;, &quot;Odin&quot;, &quot;Beo…
## $ date_time        &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ month_year       &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ found_location   &lt;chr&gt; &quot;2501 Magin Meadow Dr in Austin (TX)&quot;, &quot;9409 Bluegras…
## $ intake_type      &lt;chr&gt; &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Owner S…
## $ intake_condition &lt;chr&gt; &quot;Normal&quot;, &quot;Normal&quot;, &quot;Normal&quot;, &quot;Sick&quot;, &quot;Normal&quot;, &quot;Norm…
## $ animal_type      &lt;chr&gt; &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Cat&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog…
## $ sex_upon_intake  &lt;chr&gt; &quot;Neutered Male&quot;, &quot;Spayed Female&quot;, &quot;Intact Male&quot;, &quot;Int…
## $ age_upon_intake  &lt;chr&gt; &quot;2 years&quot;, &quot;8 years&quot;, &quot;11 months&quot;, &quot;4 weeks&quot;, &quot;4 year…
## $ breed            &lt;chr&gt; &quot;Beagle Mix&quot;, &quot;English Springer Spaniel&quot;, &quot;Basenji Mi…
## $ color            &lt;chr&gt; &quot;Tricolor&quot;, &quot;White/Liver&quot;, &quot;Sable/White&quot;, &quot;Calico&quot;, &quot;…
## $ intake_date      &lt;date&gt; 2019-01-03, 2015-07-05, 2016-04-14, 2013-10-21, 2014…</code></pre>
</details>
<p>Now that you can see the <code>date_time</code> and <code>intake_date</code> columns at once, check to make sure they converted correctly and you don’t have any problems. Doublecheck the datatype for <code>intake_date</code>, which should be <code>&lt;date&gt;</code>.</p>
</div>
</div>
<div id="parse-the-date-into-helpful-variables" class="section level2" number="10.7">
<h2><span class="header-section-number">10.7</span> Parse the date into helpful variables</h2>
<p>Now that we have a good date to work with, we can use other <a href="https://lubridate.tidyverse.org/">lubridate</a> functions to create some versions of the date that will help us down the road when we do summaries and plots.</p>
<blockquote>
<p>TBH, just diving into the data at this point you might not <em>know</em> you need these date parts yet until you try to create summaries and plots. If you find later that you need helpful columns like this, you can always come back to your import notebook, create and re-run it to get updated data. In the interest of time I’m front-loading the need based on experience.</p>
</blockquote>
<p>We are going to create three variations of the date to help us later:</p>
<ul>
<li>A <code>yr</code> column with just the year, like <code>2019</code>.</li>
<li>A <code>mo</code> column with the month, but using the name, like <code>Jan</code>.</li>
<li>A <code>yrmo</code> column like <code>2019-01</code></li>
</ul>
<p>We’ll do this in the same <code>mutate()</code> function, but we’ll use different methods to do each one, which is a useful learning experience. We’ll also use <code>select()</code> to reorder our columns to put these all at front of the tibble so we can see them.</p>
<p>We’ll work through this out in the open so I can explain as we go along.</p>
<div id="extract-the-year" class="section level3" number="10.7.1">
<h3><span class="header-section-number">10.7.1</span> Extract the year</h3>
<p>We can use <code>year()</code> from lubridate to pluck the YYYY value from <code>intake_date</code>. We’ll use this to build our mutate.</p>
<ol style="list-style-type: decimal">
<li>Create a new section and note we are creating helpful date parts.</li>
<li>Add the following chunk so we can get started.</li>
</ol>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="plot-aac.html#cb202-1" aria-hidden="true" tabindex="-1"></a>date_parts <span class="ot">&lt;-</span> date_fix <span class="sc">%&gt;%</span> </span>
<span id="cb202-2"><a href="plot-aac.html#cb202-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb202-3"><a href="plot-aac.html#cb202-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">yr =</span> <span class="fu">year</span>(intake_date) <span class="co"># creates yr and fills it with YYYY</span></span>
<span id="cb202-4"><a href="plot-aac.html#cb202-4" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb202-5"><a href="plot-aac.html#cb202-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb202-6"><a href="plot-aac.html#cb202-6" aria-hidden="true" tabindex="-1"></a><span class="co"># peek</span></span>
<span id="cb202-7"><a href="plot-aac.html#cb202-7" aria-hidden="true" tabindex="-1"></a>date_parts <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 132,214
## Columns: 14
## $ animal_id        &lt;chr&gt; &quot;A786884&quot;, &quot;A706918&quot;, &quot;A724273&quot;, &quot;A665644&quot;, &quot;A682524&quot;…
## $ name             &lt;chr&gt; &quot;*Brock&quot;, &quot;Belle&quot;, &quot;Runster&quot;, NA, &quot;Rio&quot;, &quot;Odin&quot;, &quot;Beo…
## $ date_time        &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ month_year       &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ found_location   &lt;chr&gt; &quot;2501 Magin Meadow Dr in Austin (TX)&quot;, &quot;9409 Bluegras…
## $ intake_type      &lt;chr&gt; &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Owner S…
## $ intake_condition &lt;chr&gt; &quot;Normal&quot;, &quot;Normal&quot;, &quot;Normal&quot;, &quot;Sick&quot;, &quot;Normal&quot;, &quot;Norm…
## $ animal_type      &lt;chr&gt; &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Cat&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog…
## $ sex_upon_intake  &lt;chr&gt; &quot;Neutered Male&quot;, &quot;Spayed Female&quot;, &quot;Intact Male&quot;, &quot;Int…
## $ age_upon_intake  &lt;chr&gt; &quot;2 years&quot;, &quot;8 years&quot;, &quot;11 months&quot;, &quot;4 weeks&quot;, &quot;4 year…
## $ breed            &lt;chr&gt; &quot;Beagle Mix&quot;, &quot;English Springer Spaniel&quot;, &quot;Basenji Mi…
## $ color            &lt;chr&gt; &quot;Tricolor&quot;, &quot;White/Liver&quot;, &quot;Sable/White&quot;, &quot;Calico&quot;, &quot;…
## $ intake_date      &lt;date&gt; 2019-01-03, 2015-07-05, 2016-04-14, 2013-10-21, 2014…
## $ yr               &lt;dbl&gt; 2019, 2015, 2016, 2013, 2014, 2017, 2019, 2015, 2020,…</code></pre>
<p>Look how I set up this chunk to work with it. I know that I’m going to be adding columns and checking values and it is a pain click to the end of the tibble each time to see the results. So what I’ve done is set this up to go into a new tibble called <code>date_parts</code> and then I glimpse that at the end so I can peek at the results. This allows me to look at the first couple of values in the glimpse to make sure I’ve done the work right. <strong>I’ll still be working one line at a time</strong> as I edit the chunk further, but at least I can <em>see</em> what I’m doing.</p>
<p>Now, note we have a new column <code>yr</code> at that starts with “2019,” which matches what is in <code>intake_date</code> (and even <code>date_time</code>). This is good.</p>
<p>Can you see how our mutate created the new <code>yr</code> column?</p>
<ul>
<li>We name the new column <code>yr</code></li>
<li>We fill that column with <code>year(intake_date)</code>, which plucks the year from that column.</li>
</ul>
</div>
<div id="extract-the-month-name" class="section level3" number="10.7.2">
<h3><span class="header-section-number">10.7.2</span> Extract the month name</h3>
<p>We’ll edit the <strong>same chunk</strong> to do a similar action to get the name of the month in a new column. You’ll see in a minute how we can choose to get the <em>name</em> of the month instead of the number.</p>
<ol style="list-style-type: decimal">
<li>Edit your chunk to add a new line to the mutate function. Don’t forget the comma after the existing rule.</li>
<li>Add the new line as indicated below, then run it to see the results.</li>
</ol>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="plot-aac.html#cb204-1" aria-hidden="true" tabindex="-1"></a>date_parts <span class="ot">&lt;-</span> date_fix <span class="sc">%&gt;%</span> </span>
<span id="cb204-2"><a href="plot-aac.html#cb204-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb204-3"><a href="plot-aac.html#cb204-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">yr =</span> <span class="fu">year</span>(intake_date), <span class="co"># don&#39;t forget the comma</span></span>
<span id="cb204-4"><a href="plot-aac.html#cb204-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mo =</span> <span class="fu">month</span>(intake_date) <span class="co"># the new mutate rule to get month</span></span>
<span id="cb204-5"><a href="plot-aac.html#cb204-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb204-6"><a href="plot-aac.html#cb204-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb204-7"><a href="plot-aac.html#cb204-7" aria-hidden="true" tabindex="-1"></a><span class="co"># peek</span></span>
<span id="cb204-8"><a href="plot-aac.html#cb204-8" aria-hidden="true" tabindex="-1"></a>date_parts <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 132,214
## Columns: 15
## $ animal_id        &lt;chr&gt; &quot;A786884&quot;, &quot;A706918&quot;, &quot;A724273&quot;, &quot;A665644&quot;, &quot;A682524&quot;…
## $ name             &lt;chr&gt; &quot;*Brock&quot;, &quot;Belle&quot;, &quot;Runster&quot;, NA, &quot;Rio&quot;, &quot;Odin&quot;, &quot;Beo…
## $ date_time        &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ month_year       &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ found_location   &lt;chr&gt; &quot;2501 Magin Meadow Dr in Austin (TX)&quot;, &quot;9409 Bluegras…
## $ intake_type      &lt;chr&gt; &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Owner S…
## $ intake_condition &lt;chr&gt; &quot;Normal&quot;, &quot;Normal&quot;, &quot;Normal&quot;, &quot;Sick&quot;, &quot;Normal&quot;, &quot;Norm…
## $ animal_type      &lt;chr&gt; &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Cat&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog…
## $ sex_upon_intake  &lt;chr&gt; &quot;Neutered Male&quot;, &quot;Spayed Female&quot;, &quot;Intact Male&quot;, &quot;Int…
## $ age_upon_intake  &lt;chr&gt; &quot;2 years&quot;, &quot;8 years&quot;, &quot;11 months&quot;, &quot;4 weeks&quot;, &quot;4 year…
## $ breed            &lt;chr&gt; &quot;Beagle Mix&quot;, &quot;English Springer Spaniel&quot;, &quot;Basenji Mi…
## $ color            &lt;chr&gt; &quot;Tricolor&quot;, &quot;White/Liver&quot;, &quot;Sable/White&quot;, &quot;Calico&quot;, &quot;…
## $ intake_date      &lt;date&gt; 2019-01-03, 2015-07-05, 2016-04-14, 2013-10-21, 2014…
## $ yr               &lt;dbl&gt; 2019, 2015, 2016, 2013, 2014, 2017, 2019, 2015, 2020,…
## $ mo               &lt;dbl&gt; 1, 7, 4, 10, 6, 2, 4, 7, 6, 6, 8, 10, 7, 2, 3, 2, 11,…</code></pre>
<p>What we get in return here is the <em>number</em> of the month: A “1” for January; a “7” for July, etc. What we really want is the <em>names</em> of the month to help us with plotting later.</p>
<ol style="list-style-type: decimal">
<li>Edit the mutate to add <code>, label = TRUE</code> within the <code>month()</code>.</li>
</ol>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="plot-aac.html#cb206-1" aria-hidden="true" tabindex="-1"></a>date_parts <span class="ot">&lt;-</span> date_fix <span class="sc">%&gt;%</span> </span>
<span id="cb206-2"><a href="plot-aac.html#cb206-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb206-3"><a href="plot-aac.html#cb206-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">yr =</span> <span class="fu">year</span>(intake_date),</span>
<span id="cb206-4"><a href="plot-aac.html#cb206-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mo =</span> <span class="fu">month</span>(intake_date, <span class="at">label =</span> <span class="cn">TRUE</span>) <span class="co"># add the label argument</span></span>
<span id="cb206-5"><a href="plot-aac.html#cb206-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb206-6"><a href="plot-aac.html#cb206-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb206-7"><a href="plot-aac.html#cb206-7" aria-hidden="true" tabindex="-1"></a><span class="co"># peek</span></span>
<span id="cb206-8"><a href="plot-aac.html#cb206-8" aria-hidden="true" tabindex="-1"></a>date_parts <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 132,214
## Columns: 15
## $ animal_id        &lt;chr&gt; &quot;A786884&quot;, &quot;A706918&quot;, &quot;A724273&quot;, &quot;A665644&quot;, &quot;A682524&quot;…
## $ name             &lt;chr&gt; &quot;*Brock&quot;, &quot;Belle&quot;, &quot;Runster&quot;, NA, &quot;Rio&quot;, &quot;Odin&quot;, &quot;Beo…
## $ date_time        &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ month_year       &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ found_location   &lt;chr&gt; &quot;2501 Magin Meadow Dr in Austin (TX)&quot;, &quot;9409 Bluegras…
## $ intake_type      &lt;chr&gt; &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Owner S…
## $ intake_condition &lt;chr&gt; &quot;Normal&quot;, &quot;Normal&quot;, &quot;Normal&quot;, &quot;Sick&quot;, &quot;Normal&quot;, &quot;Norm…
## $ animal_type      &lt;chr&gt; &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Cat&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog…
## $ sex_upon_intake  &lt;chr&gt; &quot;Neutered Male&quot;, &quot;Spayed Female&quot;, &quot;Intact Male&quot;, &quot;Int…
## $ age_upon_intake  &lt;chr&gt; &quot;2 years&quot;, &quot;8 years&quot;, &quot;11 months&quot;, &quot;4 weeks&quot;, &quot;4 year…
## $ breed            &lt;chr&gt; &quot;Beagle Mix&quot;, &quot;English Springer Spaniel&quot;, &quot;Basenji Mi…
## $ color            &lt;chr&gt; &quot;Tricolor&quot;, &quot;White/Liver&quot;, &quot;Sable/White&quot;, &quot;Calico&quot;, &quot;…
## $ intake_date      &lt;date&gt; 2019-01-03, 2015-07-05, 2016-04-14, 2013-10-21, 2014…
## $ yr               &lt;dbl&gt; 2019, 2015, 2016, 2013, 2014, 2017, 2019, 2015, 2020,…
## $ mo               &lt;ord&gt; Jan, Jul, Apr, Oct, Jun, Feb, Apr, Jul, Jun, Jun, Aug…</code></pre>
<p>How did I know to do that? I Googled <a href="https://www.google.com/search?q=get+month+name+in+lubridate">get month name in lubridate</a>. The first result took me to a <a href="https://lubridate.tidyverse.org/reference/month.html">lubridate.tidyverse.org page</a> that explained how to do it. TBH, I was lucky to find the answer in the first result, but I do usually try official tidyverse pages first. I’m also used to reading their documentation.</p>
<p>You’ll see there the default label for months is to abbreviate the month. If you wanted the long names you would also add and argument <code>abbr = FALSE</code>. You still need the <code>label</code> argument, too. We’ll stick with the short names.</p>
</div>
<div id="extract-yyyy-mm-format" class="section level3" number="10.7.3">
<h3><span class="header-section-number">10.7.3</span> Extract YYYY-MM format</h3>
<p>For our next challenge, we want to create a <code>yr_mo</code> column that has both the year and month of our date in YYYY-MM format.</p>
<p>TBH (I have a lot of those today), we could use <code>str_sub()</code> to do this, but then I wouldn’t get to show you how to format dates in different ways.</p>
<p>For this one, I think we’ll add the line first and then I’ll explain it afterward.</p>
<ol style="list-style-type: decimal">
<li>Edit your mutate function to add yet another rule (don’t forget the comma!)</li>
<li>Add the rule below, run it, then read about it below.</li>
<li>Check out the last row of your glimpse to make sure the column was created and in YYYY-MM format.</li>
</ol>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="plot-aac.html#cb208-1" aria-hidden="true" tabindex="-1"></a>date_parts <span class="ot">&lt;-</span> date_fix <span class="sc">%&gt;%</span> </span>
<span id="cb208-2"><a href="plot-aac.html#cb208-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb208-3"><a href="plot-aac.html#cb208-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">yr =</span> <span class="fu">year</span>(intake_date),</span>
<span id="cb208-4"><a href="plot-aac.html#cb208-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mo =</span> <span class="fu">month</span>(intake_date, <span class="at">label =</span> <span class="cn">TRUE</span>),</span>
<span id="cb208-5"><a href="plot-aac.html#cb208-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">yr_mo =</span> <span class="fu">format</span>(intake_date, <span class="st">&quot;%Y-%m&quot;</span>) <span class="co"># new rule to make YYYY-MM</span></span>
<span id="cb208-6"><a href="plot-aac.html#cb208-6" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb208-7"><a href="plot-aac.html#cb208-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb208-8"><a href="plot-aac.html#cb208-8" aria-hidden="true" tabindex="-1"></a><span class="co"># peek</span></span>
<span id="cb208-9"><a href="plot-aac.html#cb208-9" aria-hidden="true" tabindex="-1"></a>date_parts <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 132,214
## Columns: 16
## $ animal_id        &lt;chr&gt; &quot;A786884&quot;, &quot;A706918&quot;, &quot;A724273&quot;, &quot;A665644&quot;, &quot;A682524&quot;…
## $ name             &lt;chr&gt; &quot;*Brock&quot;, &quot;Belle&quot;, &quot;Runster&quot;, NA, &quot;Rio&quot;, &quot;Odin&quot;, &quot;Beo…
## $ date_time        &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ month_year       &lt;chr&gt; &quot;01/03/2019 04:19:00 PM&quot;, &quot;07/05/2015 12:59:00 PM&quot;, &quot;…
## $ found_location   &lt;chr&gt; &quot;2501 Magin Meadow Dr in Austin (TX)&quot;, &quot;9409 Bluegras…
## $ intake_type      &lt;chr&gt; &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Owner S…
## $ intake_condition &lt;chr&gt; &quot;Normal&quot;, &quot;Normal&quot;, &quot;Normal&quot;, &quot;Sick&quot;, &quot;Normal&quot;, &quot;Norm…
## $ animal_type      &lt;chr&gt; &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Cat&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog…
## $ sex_upon_intake  &lt;chr&gt; &quot;Neutered Male&quot;, &quot;Spayed Female&quot;, &quot;Intact Male&quot;, &quot;Int…
## $ age_upon_intake  &lt;chr&gt; &quot;2 years&quot;, &quot;8 years&quot;, &quot;11 months&quot;, &quot;4 weeks&quot;, &quot;4 year…
## $ breed            &lt;chr&gt; &quot;Beagle Mix&quot;, &quot;English Springer Spaniel&quot;, &quot;Basenji Mi…
## $ color            &lt;chr&gt; &quot;Tricolor&quot;, &quot;White/Liver&quot;, &quot;Sable/White&quot;, &quot;Calico&quot;, &quot;…
## $ intake_date      &lt;date&gt; 2019-01-03, 2015-07-05, 2016-04-14, 2013-10-21, 2014…
## $ yr               &lt;dbl&gt; 2019, 2015, 2016, 2013, 2014, 2017, 2019, 2015, 2020,…
## $ mo               &lt;ord&gt; Jan, Jul, Apr, Oct, Jun, Feb, Apr, Jul, Jun, Jun, Aug…
## $ yr_mo            &lt;chr&gt; &quot;2019-01&quot;, &quot;2015-07&quot;, &quot;2016-04&quot;, &quot;2013-10&quot;, &quot;2014-06&quot;…</code></pre>
<p>OK, for this mutate we used the <code>format()</code> function, which takes two arguments:</p>
<ul>
<li>The column we are pulling from: <code>intake_date</code> in our case.</li>
<li>The format that we want that date in: <code>"%Y-%m"</code>.</li>
</ul>
<p>How did I know to do that? I Googled it. Sound familiar? I don’t remember exactly the terms, but I found <a href="https://www.statmethods.net/input/dates.html">this page</a> that gave me enough to figure it out. I didn’t need the <code>as.Date()</code> part because I was already working with a date column.</p>
<p>The funky <code>%Y</code> or whatever is really just a code. The link above has a list of the common ones you might use, though there are many more. Here are those common formats:</p>
<table>
<thead>
<tr class="header">
<th>Symbol</th>
<th>Meaning</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>%d</td>
<td>day as a number (01-31)</td>
<td>01-31</td>
</tr>
<tr class="even">
<td>%a</td>
<td>abbreviated weekday</td>
<td>Mon</td>
</tr>
<tr class="odd">
<td>%A</td>
<td>full weekday</td>
<td>Monday</td>
</tr>
<tr class="even">
<td>%m</td>
<td>month (01-12)</td>
<td>01-12</td>
</tr>
<tr class="odd">
<td>%b</td>
<td>abbreviated month</td>
<td>Jan</td>
</tr>
<tr class="even">
<td>%B</td>
<td>full month</td>
<td>January</td>
</tr>
<tr class="odd">
<td>%y</td>
<td>2-digit year</td>
<td>07</td>
</tr>
<tr class="even">
<td>%Y</td>
<td>4-digit year</td>
<td>2007</td>
</tr>
</tbody>
</table>
</div>
<div id="reorder-and-drop-columns" class="section level3" number="10.7.4">
<h3><span class="header-section-number">10.7.4</span> Reorder and drop columns</h3>
<p>OK, we have a mess of date columns all over our data now. We are done creating new ones, so let’s reorganize our data to put the date columns we want at the beginning and drop some we don’t need anymore.</p>
<ol style="list-style-type: decimal">
<li>Edit your chunk to pipe the equation we’ve been working into a <code>select()</code> statement.</li>
<li>Add that as indicated below. I’ll explain after.</li>
</ol>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="plot-aac.html#cb210-1" aria-hidden="true" tabindex="-1"></a>date_parts <span class="ot">&lt;-</span> date_fix <span class="sc">%&gt;%</span> </span>
<span id="cb210-2"><a href="plot-aac.html#cb210-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb210-3"><a href="plot-aac.html#cb210-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">yr =</span> <span class="fu">year</span>(intake_date),</span>
<span id="cb210-4"><a href="plot-aac.html#cb210-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">mo =</span> <span class="fu">month</span>(intake_date, <span class="at">label =</span> <span class="cn">TRUE</span>),</span>
<span id="cb210-5"><a href="plot-aac.html#cb210-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">yr_mo =</span> <span class="fu">format</span>(intake_date, <span class="st">&quot;%Y-%m&quot;</span>) <span class="co"># new rule to make YYYY-MM</span></span>
<span id="cb210-6"><a href="plot-aac.html#cb210-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb210-7"><a href="plot-aac.html#cb210-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(intake_date, yr, mo, yr_mo, <span class="fu">everything</span>(), <span class="sc">-</span>date_time, <span class="sc">-</span>month_year)</span>
<span id="cb210-8"><a href="plot-aac.html#cb210-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb210-9"><a href="plot-aac.html#cb210-9" aria-hidden="true" tabindex="-1"></a><span class="co"># peek</span></span>
<span id="cb210-10"><a href="plot-aac.html#cb210-10" aria-hidden="true" tabindex="-1"></a>date_parts <span class="sc">%&gt;%</span> <span class="fu">glimpse</span>()</span></code></pre></div>
<pre><code>## Rows: 132,214
## Columns: 14
## $ intake_date      &lt;date&gt; 2019-01-03, 2015-07-05, 2016-04-14, 2013-10-21, 2014…
## $ yr               &lt;dbl&gt; 2019, 2015, 2016, 2013, 2014, 2017, 2019, 2015, 2020,…
## $ mo               &lt;ord&gt; Jan, Jul, Apr, Oct, Jun, Feb, Apr, Jul, Jun, Jun, Aug…
## $ yr_mo            &lt;chr&gt; &quot;2019-01&quot;, &quot;2015-07&quot;, &quot;2016-04&quot;, &quot;2013-10&quot;, &quot;2014-06&quot;…
## $ animal_id        &lt;chr&gt; &quot;A786884&quot;, &quot;A706918&quot;, &quot;A724273&quot;, &quot;A665644&quot;, &quot;A682524&quot;…
## $ name             &lt;chr&gt; &quot;*Brock&quot;, &quot;Belle&quot;, &quot;Runster&quot;, NA, &quot;Rio&quot;, &quot;Odin&quot;, &quot;Beo…
## $ found_location   &lt;chr&gt; &quot;2501 Magin Meadow Dr in Austin (TX)&quot;, &quot;9409 Bluegras…
## $ intake_type      &lt;chr&gt; &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Stray&quot;, &quot;Owner S…
## $ intake_condition &lt;chr&gt; &quot;Normal&quot;, &quot;Normal&quot;, &quot;Normal&quot;, &quot;Sick&quot;, &quot;Normal&quot;, &quot;Norm…
## $ animal_type      &lt;chr&gt; &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Cat&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog&quot;, &quot;Dog…
## $ sex_upon_intake  &lt;chr&gt; &quot;Neutered Male&quot;, &quot;Spayed Female&quot;, &quot;Intact Male&quot;, &quot;Int…
## $ age_upon_intake  &lt;chr&gt; &quot;2 years&quot;, &quot;8 years&quot;, &quot;11 months&quot;, &quot;4 weeks&quot;, &quot;4 year…
## $ breed            &lt;chr&gt; &quot;Beagle Mix&quot;, &quot;English Springer Spaniel&quot;, &quot;Basenji Mi…
## $ color            &lt;chr&gt; &quot;Tricolor&quot;, &quot;White/Liver&quot;, &quot;Sable/White&quot;, &quot;Calico&quot;, &quot;…</code></pre>
<p>Alright, that is a helluva a <a href="https://dplyr.tidyverse.org/reference/select.html">select</a> statement. The only <em>new</em> thing there is <code>everything()</code>, which selects (you guessed it) everything not already named. The selects come in order, so it works like this:</p>
<ul>
<li>select the intake_date, yr, mo, yr_mo</li>
<li>select everything else</li>
<li>remove date_time and month_year, which we don’t need anymore</li>
</ul>
</div>
</div>
<div id="on-your-own-filter-dates" class="section level2" number="10.8">
<h2><span class="header-section-number">10.8</span> On your own: Filter dates</h2>
<p>You’ve filtered data by date several times before, so you can do this on your own. It will affect all your work later, so you’ll want to check your work. Here are the directions and some hints:</p>
<ol style="list-style-type: decimal">
<li>Our data goes back in time to 2013. We only want years 2016 and newer. Filter out the older data.</li>
<li>We don’t want the partial month of October 2021 as it is not a full month. Filter out that data.</li>
<li>Save your filtered data into a new tibble.</li>
<li>Check your data to make sure it is right using <code>summary()</code></li>
</ol>
</div>
<div id="on-your-own-export-your-data" class="section level2" number="10.9">
<h2><span class="header-section-number">10.9</span> On your own: Export your data</h2>
<p>We’re separating the import/cleaning from the rest of our analysis so we don’t have to rerun that code all the time. We did the same with Billboard and Military Surplus assignments.</p>
<p>As such, you can handle this one on your own as well, with this guidance:</p>
<ol style="list-style-type: decimal">
<li>Export your data as an <code>.rds</code> file into your <code>data-processed</code> folder.</li>
<li>Name the file starting with <code>01-</code> so you can tell later where it came from. The rest of the name is up to you, but make sure it is in the right place and remember the name so you can open it in the next notebook.</li>
</ol>
</div>
<div id="set-up-your-analysis-notebook" class="section level2" number="10.10">
<h2><span class="header-section-number">10.10</span> Set up your analysis notebook</h2>
<ol style="list-style-type: decimal">
<li>Set up a new notebook and call it <code>02-analysis.Rmd</code></li>
<li>Create a setup section and load the following libraries:</li>
</ol>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="plot-aac.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb212-2"><a href="plot-aac.html#cb212-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb212-3"><a href="plot-aac.html#cb212-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(scales)</span>
<span id="cb212-4"><a href="plot-aac.html#cb212-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(plotly)</span>
<span id="cb212-5"><a href="plot-aac.html#cb212-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(clipr)</span></code></pre></div>
<p>You <em>might</em> have to use <code>install.packages()</code> for the “scales” library, I’m not sure. You should have clipr from the last chapter.</p>
<p>For the love of your favorite deity (or none at all), please please please remember to run your libraries each time you open your notebook to work on it. That tripped up several folks over the past couple of weeks. <strong>Restart R and Run All Chunks</strong> is your friend.</p>
</div>
<div id="on-your-own-import-your-cleaned-data" class="section level2" number="10.11">
<h2><span class="header-section-number">10.11</span> On your own: Import your cleaned data</h2>
<ol style="list-style-type: decimal">
<li>Yep, set up a new section</li>
<li>Import your data from the last notebook. You should be using <code>read_rds()</code></li>
<li>Save the imported data into a tibble called <code>intakes</code> so we are all on the same page.</li>
</ol>
</div>
<div id="question-1-intakes-by-year" class="section level2" number="10.12">
<h2><span class="header-section-number">10.12</span> Question 1: Intakes by year</h2>
<p>Our question is: <strong>Are animal intakes increasing or decreasing each year since 2016? Plot a column chart of intakes by year. Don’t include 2021 since it is not a full year.</strong></p>
<p>Remember that we break these plots into two parts:</p>
<ul>
<li>Summarize your data</li>
<li>Plot your data</li>
</ul>
<p>While I have not problem with you using group_by/summarize/arrange for this, this assignment is all about counting rows, so I think it is worth revisiting the <code>count()</code> function. Take a quick review of the <a href="https://utdata.github.io/rwdir/count-analysis.html#a-shortcut-count">count function from Bilboard</a>.</p>
<p>With that in mind, write a summary that counts the number of rows for each year. Remember we have the <code>yr</code> column we created earlier.</p>
<ol style="list-style-type: decimal">
<li>Create a new section about “Intakes by year.”</li>
<li>Build a summarize table that counts rows by year. Name your counted column <code>count_animals</code>.</li>
<li>Filter out any results from 2021 since that is not a full year.</li>
<li>Save the result into a tibble called <code>intakes_yr_data</code>.</li>
</ol>
<details>
<summary>
Don’t overthink it
</summary>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="plot-aac.html#cb213-1" aria-hidden="true" tabindex="-1"></a>intakes_yr_data <span class="ot">&lt;-</span> intakes <span class="sc">%&gt;%</span> </span>
<span id="cb213-2"><a href="plot-aac.html#cb213-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(yr, <span class="at">name =</span> <span class="st">&quot;count_animals&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb213-3"><a href="plot-aac.html#cb213-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yr <span class="sc">&lt;</span> <span class="dv">2021</span>)</span>
<span id="cb213-4"><a href="plot-aac.html#cb213-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb213-5"><a href="plot-aac.html#cb213-5" aria-hidden="true" tabindex="-1"></a><span class="co"># peek at it</span></span>
<span id="cb213-6"><a href="plot-aac.html#cb213-6" aria-hidden="true" tabindex="-1"></a>intakes_yr_data</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##      yr count_animals
##   &lt;dbl&gt;         &lt;int&gt;
## 1  2016         17675
## 2  2017         17563
## 3  2018         16979
## 4  2019         19727
## 5  2020          9585</code></pre>
</details>
<div id="on-your-own-column-chart-of-intakes-by-year" class="section level3" number="10.12.1">
<h3><span class="header-section-number">10.12.1</span> On your own: Column chart of intakes by year</h3>
<p>You’ve built column charts before for princesses and ice cream. No need to flip the coordinates on this one. Here I want you to build a column chart based on the data you just made, and I want you to make it as complete as possible.</p>
<ol style="list-style-type: decimal">
<li>Plot a <code>geom_col</code> chart using <code>yr</code> on the x axis and <code>count_animals</code> on the y axis.</li>
<li>Include labs for title, subtitle, caption and good axis names</li>
<li>Again, no need to flip the axis. Year can stay along the bottom.</li>
</ol>
<p><img src="10-plots-answers_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<p>Once you’ve built the chart, what does it tell you? I’m sure you can guess what happened in 2020, but to be sure you would want to do some reporting and talk to the animal center to learn how they dealt with the pandemic.</p>
</div>
<div id="getting-commas-on-numbers" class="section level3" number="10.12.2">
<h3><span class="header-section-number">10.12.2</span> Getting commas on numbers</h3>
<p>One thing you might notice different about my example chart is I have commas in the values on the Y axis and within the text labels. It’s a common need and there is a solution, and why we’ve installed and loaded the “scales” library:</p>
<ol style="list-style-type: decimal">
<li>Add the following as a new layer on your chart, but don’t forget the <code>+</code> on the line above: <code>scale_y_continuous(labels = comma)</code></li>
<li>Run that and make sure it works.</li>
</ol>
<p>For the numbers as labels, in your <code>geom_text()</code> layer you can wrap your <code>aes(labels = count_animals)</code> in a comma() function.</p>
<ol style="list-style-type: decimal">
<li>In your geom_text() layer, edit the aes to this: <code>label = comma(count_animals)</code>.</li>
</ol>
</div>
</div>
<div id="question-2-intakes-by-month" class="section level2" number="10.13">
<h2><span class="header-section-number">10.13</span> Question 2: Intakes by month</h2>
<p><strong>Are there seasonal monthly trends in overall animal intakes? Plot intakes by month from 2016 to current, including 2021. (One long line or a column chart.)</strong></p>
<p>To find this answer we’ll plot as a single line chart and along the way we’ll learn how to rotate our x axis labels.</p>
<div id="intakes-by-month-as-a-line" class="section level3" number="10.13.1">
<h3><span class="header-section-number">10.13.1</span> Intakes by month as a line</h3>
<p>We need our data first. To show every month on one chart we have to know how many animals were brought in by both year and month. This is why we created the <code>yr_mo</code> column earlier. This time we can keep the data from 2021.</p>
<ol style="list-style-type: decimal">
<li>Create a new section noting you are plotting by month as a line.</li>
<li>Use <code>count()</code> to summarize the data by the <code>yr_mo</code> column. Name your new column <code>count_animals</code>.</li>
<li>Assign the result to a new oblject using <code>&lt;-</code> named <code>intakes_yrmo</code> so we are on the same page.</li>
</ol>
<details>
<summary>
I’m too nice
</summary>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="plot-aac.html#cb215-1" aria-hidden="true" tabindex="-1"></a>intakes_yrmo <span class="ot">&lt;-</span> intakes <span class="sc">%&gt;%</span> </span>
<span id="cb215-2"><a href="plot-aac.html#cb215-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(yr_mo, <span class="at">name =</span> <span class="st">&quot;count_animals&quot;</span>)</span>
<span id="cb215-3"><a href="plot-aac.html#cb215-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb215-4"><a href="plot-aac.html#cb215-4" aria-hidden="true" tabindex="-1"></a><span class="co"># peek</span></span>
<span id="cb215-5"><a href="plot-aac.html#cb215-5" aria-hidden="true" tabindex="-1"></a>intakes_yrmo</span></code></pre></div>
<pre><code>## # A tibble: 69 × 2
##    yr_mo   count_animals
##    &lt;chr&gt;           &lt;int&gt;
##  1 2016-01          1216
##  2 2016-02          1194
##  3 2016-03          1419
##  4 2016-04          1560
##  5 2016-05          2037
##  6 2016-06          1634
##  7 2016-07          1409
##  8 2016-08          1653
##  9 2016-09          1539
## 10 2016-10          1387
## # … with 59 more rows</code></pre>
</details>
<p>Now that you have the data, we’ll try to plot this as a line. You might end up with this error:</p>
<p>“geom_path: Each group consists of only one observation. Do you need to adjust the group aesthetic?”</p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="plot-aac.html#cb217-1" aria-hidden="true" tabindex="-1"></a>intakes_yrmo <span class="sc">%&gt;%</span> </span>
<span id="cb217-2"><a href="plot-aac.html#cb217-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> yr_mo, <span class="at">y =</span> count_animals)) <span class="sc">+</span></span>
<span id="cb217-3"><a href="plot-aac.html#cb217-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>()</span></code></pre></div>
<pre><code>## geom_path: Each group consists of only one observation. Do you need to adjust
## the group aesthetic?</code></pre>
<p><img src="10-plots-answers_files/figure-html/yrmo-plot-error-1.png" width="672" /></p>
<p>The <code>geom_line()</code> function expects you to have more than one line to plot, and when we don’t have that (and often when we do) we have to specify the “group” or value to split the lines. When we have only one line we need to specify that:</p>
<ol style="list-style-type: decimal">
<li>Edit your <code>geom_line()</code> function to add <code>group = 1</code> inside it.</li>
</ol>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="plot-aac.html#cb219-1" aria-hidden="true" tabindex="-1"></a>intakes_yrmo <span class="sc">%&gt;%</span> </span>
<span id="cb219-2"><a href="plot-aac.html#cb219-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> yr_mo, <span class="at">y =</span> count_animals)) <span class="sc">+</span></span>
<span id="cb219-3"><a href="plot-aac.html#cb219-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">group =</span> <span class="dv">1</span>) <span class="co"># group added here</span></span></code></pre></div>
<p><img src="10-plots-answers_files/figure-html/yrmo-plot-group-1.png" width="672" /></p>
<p>OK, but we can’t read the X axis names, and it wouldn’t make sense to flip the whole line chart, so intead we’ll flip the axis names. Remember that we can change just about <em>anything</em> in the theme, right?</p>
<ol style="list-style-type: decimal">
<li>Add the layer noted below to your plot. Don’t forget the <code>+</code> on the previous line.</li>
</ol>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="plot-aac.html#cb220-1" aria-hidden="true" tabindex="-1"></a>intakes_yrmo <span class="sc">%&gt;%</span> </span>
<span id="cb220-2"><a href="plot-aac.html#cb220-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> yr_mo, <span class="at">y =</span> count_animals)) <span class="sc">+</span></span>
<span id="cb220-3"><a href="plot-aac.html#cb220-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="at">group =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb220-4"><a href="plot-aac.html#cb220-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">angle =</span> <span class="dv">90</span>)) <span class="co"># flips the axis name</span></span></code></pre></div>
<p><img src="10-plots-answers_files/figure-html/yrmo-plot-axis-1.png" width="672" /></p>
<p>You can change the number there to get different angles, like <code>45</code> degrees.</p>
<p>How the heck did I know that? Can you guess? Yes, Google is your friend, searching for something like “rotate axis names in ggplot.” To be honest, in this case I used a different method: I phoned a friend for help and Jo Lukito <a href="https://datavizpyr.com/rotate-x-axis-text-labels-in-ggplot2/">found this</a>. She should’ve chided me with <a href="https://lmgtfy.app/#gsc.tab=0">Let me Google that for you</a>.</p>
<p>She also helped me with the next challenge.</p>
</div>
<div id="make-the-chart-wider" class="section level3" number="10.13.2">
<h3><span class="header-section-number">10.13.2</span> Make the chart wider</h3>
<p>Our chart is still too squished to read. For this one, the answer is in the R chunk settings so I can’t show you in code with this book.</p>
<ol style="list-style-type: decimal">
<li>In your R chunk where you name the chunk like this: <code>{r chunk-name}</code>, edit it to say <code>{r chunk-name, fig.width = 7}</code> and then run it. Hopefully you have a more descriptive name chunk than chunk-name, though.</li>
</ol>
<p>Unfortunately that change doesn’t really show in this published book but it does help you in your own R Notebook.</p>
</div>
<div id="so-what-of-this" class="section level3" number="10.13.3">
<h3><span class="header-section-number">10.13.3</span> So, what of this</h3>
<p>We could plot this same data as a <code>geom_col()</code> but it would have the same issues. That said, we’ve proven two things here:</p>
<ul>
<li>There is definitely a seasonal trend to animal intakes. There seem to be surges each spring and early summer, between March and June,</li>
<li>We’ve also proved this is a crappy way to see that. Let’s find another way.</li>
</ul>
<p>No need to clean up that line chart beyond what we’ve done, but keep it in your notebook.</p>
</div>
</div>
<div id="question-3-intakes-by-month-split-by-year" class="section level2" number="10.14">
<h2><span class="header-section-number">10.14</span> Question 3: Intakes by month, split by year</h2>
<p><strong>Plot that same monthly trend, except with month as the x axis, with a new line for each year.</strong></p>
<p>Let’s visualize success so we know what we are going after. This is the basic plot before being cleaned up.</p>
<p><img src="10-plots-answers_files/figure-html/example-chart-1.png" width="672" /></p>
<p>Here we can see each year by month all on the same scale and see that the lowest year by far was 2020, and 2021 is trending back up but doesn’t yet reach the level of previous years.</p>
<ul>
<li>To make this chart you need the <code>mo</code> column that we created earlier so we can plot our months across the X axis. The brilliant thing we did was build that month from a real date so it retains its factor order of Jan, Feb, etc., instead of being alphabetical.</li>
<li>But we also need the <code>yr</code> column so we can set the group and color of the lines by that year. So well be grouping by two values.</li>
<li>We’ll be counting rows as we have been and name them <code>count_animals</code>.</li>
</ul>
<p>We’ll do this one <em>together</em>, but you’ll have to build a similar chart in a bit so pay attention.</p>
<div id="prepare-the-data-with-mo-and-yr" class="section level3" number="10.14.1">
<h3><span class="header-section-number">10.14.1</span> Prepare the data with mo and yr</h3>
<ol style="list-style-type: decimal">
<li>Start a new section that you are plotting intakes by month, split by year</li>
<li>Add the R chunk below</li>
</ol>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="plot-aac.html#cb221-1" aria-hidden="true" tabindex="-1"></a>mo_yr_data <span class="ot">&lt;-</span> intakes <span class="sc">%&gt;%</span> </span>
<span id="cb221-2"><a href="plot-aac.html#cb221-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(mo, yr, <span class="at">name =</span> <span class="st">&quot;count_animals&quot;</span>)</span>
<span id="cb221-3"><a href="plot-aac.html#cb221-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb221-4"><a href="plot-aac.html#cb221-4" aria-hidden="true" tabindex="-1"></a><span class="co"># peek</span></span>
<span id="cb221-5"><a href="plot-aac.html#cb221-5" aria-hidden="true" tabindex="-1"></a>mo_yr_data</span></code></pre></div>
<pre><code>## # A tibble: 69 × 3
##    mo       yr count_animals
##    &lt;ord&gt; &lt;dbl&gt;         &lt;int&gt;
##  1 Jan    2016          1216
##  2 Jan    2017          1216
##  3 Jan    2018          1123
##  4 Jan    2019          1240
##  5 Jan    2020          1215
##  6 Jan    2021           567
##  7 Feb    2016          1194
##  8 Feb    2017          1202
##  9 Feb    2018          1044
## 10 Feb    2019          1131
## # … with 59 more rows</code></pre>
</div>
<div id="plot-by-month-split-by-year" class="section level3" number="10.14.2">
<h3><span class="header-section-number">10.14.2</span> Plot by month, split by year</h3>
<p>So we have this month name <code>mo</code> to plot along the X axis and the <code>count_animals</code> to plot along the Y axis. We have <code>yr_mo</code> to group our lines.</p>
<ol style="list-style-type: decimal">
<li>Note that you are plotting now</li>
<li>Add the base chart as noted below.</li>
</ol>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="plot-aac.html#cb223-1" aria-hidden="true" tabindex="-1"></a>mo_yr_data <span class="sc">%&gt;%</span> </span>
<span id="cb223-2"><a href="plot-aac.html#cb223-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> mo, <span class="at">y =</span> count_animals)) <span class="sc">+</span> <span class="co"># sets our x,y</span></span>
<span id="cb223-3"><a href="plot-aac.html#cb223-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> yr)) <span class="co"># separates the lines</span></span></code></pre></div>
<p><img src="10-plots-answers_files/figure-html/yr-mo-base-1.png" width="672" /></p>
<p>We are getting somewhere. We can see each year on the plot, but we can’t tell them apart.</p>
<ol style="list-style-type: decimal">
<li>Inside the <code>aes()</code> for <code>geom_line()</code>, add <code>color = yr</code>.</li>
</ol>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="plot-aac.html#cb224-1" aria-hidden="true" tabindex="-1"></a>mo_yr_data <span class="sc">%&gt;%</span> </span>
<span id="cb224-2"><a href="plot-aac.html#cb224-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> mo, <span class="at">y =</span> count_animals)) <span class="sc">+</span> <span class="co"># sets our x,y</span></span>
<span id="cb224-3"><a href="plot-aac.html#cb224-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> yr, <span class="at">color =</span> yr)) <span class="co"># adds color to lines based on yr</span></span></code></pre></div>
<p><img src="10-plots-answers_files/figure-html/yr-mo-color-1.png" width="672" /></p>
<p>Well, that is an interesting color choice for our years. Ggplot is using the <code>yr</code> value as a continuous number, and indeed if we look back up at our data we can see the column datatype is <code>&lt;dbl&gt;</code> which means it is a number. That happened way back when we created the <code>yr</code> column.</p>
<p>What to do? We could go back to the import/clean notebook and adjust that to make it a <strong>character</strong> datatype. Or we could go to our data prep step and mutate that column there. Or we could just fix it in the chart.</p>
<p>We’ll just fix it in the chart.</p>
</div>
<div id="adjust-the-yr-value-to-a-character" class="section level3" number="10.14.3">
<h3><span class="header-section-number">10.14.3</span> Adjust the yr value to a character</h3>
<ol style="list-style-type: decimal">
<li>In your plot code, find the <code>color = yr</code> part and change it to <code>color = as.character(yr)</code></li>
</ol>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="plot-aac.html#cb225-1" aria-hidden="true" tabindex="-1"></a>mo_yr_data <span class="sc">%&gt;%</span> </span>
<span id="cb225-2"><a href="plot-aac.html#cb225-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> mo, <span class="at">y =</span> count_animals)) <span class="sc">+</span></span>
<span id="cb225-3"><a href="plot-aac.html#cb225-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">group =</span> yr, <span class="at">color =</span> <span class="fu">as.character</span>(yr))) <span class="co"># color = yr updated</span></span></code></pre></div>
<p><img src="10-plots-answers_files/figure-html/unnamed-chunk-6-1.png" width="672" /></p>
<p>What we’ve done is used the <code>as.character()</code> function to change the yr value from a number to text. Now ggplot thinks it is a <strong>category</strong> instead of a <strong>continuous number</strong>. If this came up again, we might go back to the import notebook and fix it, but this works for now.</p>
<p>But do note that also changed the label for our legend. We needed to fix that anyway and we can do that with <code>labs()</code> the same way we edit our x and y axes labels. Just use <code>color = "Year"</code> or whatever you want call it.</p>
</div>
<div id="clean-up-your-intakes-by-month-split-by-year-chart" class="section level3" number="10.14.4">
<h3><span class="header-section-number">10.14.4</span> Clean up your intakes by month, split by year chart</h3>
<ol style="list-style-type: decimal">
<li>Edit your plot code to do the following:</li>
</ol>
<ul>
<li>Add a title and subtitle</li>
<li>Add the source of our data in the caption</li>
<li>Clean up your axis and color names</li>
</ul>
</div>
</div>
<div id="question-4-animal-types-by-month" class="section level2" number="10.15">
<h2><span class="header-section-number">10.15</span> Question 4: Animal types by month</h2>
<p><strong>Do certain types of animals drive seasonal trends? Use five full years of data (not 2021) to summarize intakes by animal type and month. Plot with month on the x axis with a line for each animal type.</strong></p>
<p>To envision success, just look at the chart you just made. Instead of having a line for each year, we want a line for each animal type.</p>
<p>Before we get there, let’s take a look at those animal types.</p>
<div id="recode-animal-types" class="section level3" number="10.15.1">
<h3><span class="header-section-number">10.15.1</span> Recode animal types</h3>
<ol style="list-style-type: decimal">
<li>Create a section that you are plotting animal types by month</li>
<li>Create a quick <code>count()</code> on the column <code>animal_type</code>. I’ll wait.</li>
</ol>
<p>You need to do the code in your notebook, but here is the output:</p>
<pre><code>## # A tibble: 5 × 2
##   animal_type     n
##   &lt;chr&gt;       &lt;int&gt;
## 1 Bird          513
## 2 Cat         34242
## 3 Dog         50662
## 4 Livestock      18
## 5 Other        4864</code></pre>
<p>Note that there are <em>way</em> more Dogs and Cats than other animal types. We will create a new tibble that renames each row with Bird or Livestock as Other so they will all be in the same category.</p>
<p>We do this with <code>recode()</code> within a <code>mutate()</code>. You can <a href="https://dplyr.tidyverse.org/reference/recode.html">read about recode here</a>. If you read that you’ll notice there is a weird thing in that it bucks the R trend of naming <em>new</em> things first and then filling them. Recode names the <em>old</em> thing first and then defines the new name. Oh, well. It’s what we got.</p>
<p>Our recode will happen inside a <code>mutate()</code> function but let’s talk about <code>recode()</code> first.</p>
<ul>
<li>The first argument is the column you are recoding: <code>recode(animal_type)</code></li>
<li>Next we give it a list of the values we want to change, then set it equal to the value we want it to be: <code>recode(animal_type, "Old Value" = "New Value")</code>. We can stack the changes inside recode.</li>
</ul>
<ol style="list-style-type: decimal">
<li>Write a markdown note that you are going to recode <code>animal_type</code>.</li>
<li>Add the code block below, run it, then read the explanation.</li>
</ol>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="plot-aac.html#cb227-1" aria-hidden="true" tabindex="-1"></a>intake_types <span class="ot">&lt;-</span> intakes <span class="sc">%&gt;%</span> </span>
<span id="cb227-2"><a href="plot-aac.html#cb227-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(yr <span class="sc">&lt;</span> <span class="dv">2021</span>) <span class="sc">%&gt;%</span> <span class="co"># removes 2021 because its partial yr </span></span>
<span id="cb227-3"><a href="plot-aac.html#cb227-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb227-4"><a href="plot-aac.html#cb227-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">animal_type =</span> <span class="fu">recode</span>(animal_type, <span class="co"># first arg is the column to look at</span></span>
<span id="cb227-5"><a href="plot-aac.html#cb227-5" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Bird&quot;</span> <span class="ot">=</span> <span class="st">&quot;Other&quot;</span>, <span class="co"># old name, then new name</span></span>
<span id="cb227-6"><a href="plot-aac.html#cb227-6" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;Livestock&quot;</span> <span class="ot">=</span> <span class="st">&quot;Other&quot;</span> <span class="co"># old name, then new name</span></span>
<span id="cb227-7"><a href="plot-aac.html#cb227-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb227-8"><a href="plot-aac.html#cb227-8" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb227-9"><a href="plot-aac.html#cb227-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb227-10"><a href="plot-aac.html#cb227-10" aria-hidden="true" tabindex="-1"></a>intake_types <span class="sc">%&gt;%</span> </span>
<span id="cb227-11"><a href="plot-aac.html#cb227-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(animal_type)</span></code></pre></div>
<pre><code>## # A tibble: 3 × 2
##   animal_type     n
##   &lt;chr&gt;       &lt;int&gt;
## 1 Cat         30474
## 2 Dog         46222
## 3 Other        4833</code></pre>
<p>Let’s break this down:</p>
<ul>
<li>At the top We started with our data and assigned it to a new tibble. We don’t want to change the original data.</li>
<li>We start a mutate. We set it to change the original <code>animal_type</code> column with our recoded values.</li>
<li>Within the <code>recode()</code> function we say with column we are chaning (<code>animal_type</code>) and then we note the old and new values, each in quotes.</li>
<li>At the bottom we take the new tibble and pipe it into a <code>count(animal_type)</code> so we can check the results. Note that the <em>changed</em> data is still row-level data for each animal. We just piped that result into <code>count()</code> so we could check the recode changes. We didn’t “save” that last count.</li>
</ul>
<p>Like I did with the date parts earlier, when I built this I went ahead and started by assigning the original data to a new tibble and then printing that new tibble before I worked on the rest line-by-line.</p>
<p>Recode is a valuable method to clean data, but you have to be careful that you aren’t overwritting your original data. I was comfortable doing so because we could easily eyeball the results to ake sure they were right, and we were saving the result into a new tibble anyway, so the original data is safe in <code>intakes</code>.</p>
</div>
<div id="on-your-own-count-animal-types-by-month" class="section level3" number="10.15.2">
<h3><span class="header-section-number">10.15.2</span> On your own: Count animal types by month</h3>
<p>Now it is time for you to prep this data for our plot. Here is the logic: You are counting the rows by both the month <code>mo</code> and the <code>animal_type</code>. Remember to start with the 1intake_types` tibble you just created.</p>
<ol style="list-style-type: decimal">
<li>Write notes that you are creating the animal type summary by month</li>
<li>Write code that counts the rows based on month and animal type. Name your new column something that makes sense.</li>
</ol>
<p>You should end up with a summary with three columns: mo, animal_type and whatever you named the count column.</p>
</div>
<div id="on-your-own-plot-animal-types-by-month" class="section level3" number="10.15.3">
<h3><span class="header-section-number">10.15.3</span> On your own: Plot animal types by month</h3>
<p>Remember this is very similar to your plot above where you made a line chart of counts split by year, but this time you are splitting by <code>animal_type</code>.</p>
<ol style="list-style-type: decimal">
<li>Write notes that you are plotting</li>
<li>Build the plot and include all the labs: title, subtitle, caption and fix the axis and color names.</li>
</ol>
<p>One thing about describing this chart in your subtitle: You have to describe in your own words that this chart combines counts by each month over five years: 2016-2020. It’s a nuance a reader needs to understand.</p>
<p>What did you learn about your plot? Is there a type of animal that drives that spring/summer surge? Tell me in text in your notebook how you might find out why that is so.</p>
</div>
</div>
<div id="what-we-learned-2" class="section level2" number="10.16">
<h2><span class="header-section-number">10.16</span> What we learned</h2>
<ul>
<li>We learned how to download data from the City of Austin’s data portal. We just scratched the surface there.</li>
<li>We cleaned our date using <code>str_sub()</code> and extracted date parts with <code>year()</code> and <code>month()</code> and used <code>format()</code> to pull a date part in a specific way.</li>
<li>We used <code>count()</code> to make some summaries. Remember this is the shortcut for group_by/summarize/arrange (GSA) that can only count rows and not do any other math. But it is damned handy.</li>
<li>We prepped data and plotted to find answers to specific questions.</li>
<li>We learned how to add commas to axis names in ggplot with the <a href="https://scales.r-lib.org/">scales</a> package using.</li>
<li>We used <code>recode()</code> to update some values in our data.</li>
</ul>
</div>
<div id="turn-in-your-work-1" class="section level2" number="10.17">
<h2><span class="header-section-number">10.17</span> Turn in your work</h2>
<ol style="list-style-type: decimal">
<li>Make sure all your code runs fresh and knit it</li>
<li>Stuff the folder and submit it to canvas</li>
</ol>
</div>
<div id="whats-next-1" class="section level2" number="10.18">
<h2><span class="header-section-number">10.18</span> What’s next</h2>
<p>I had planned on adding some more Datawrapper practice with this data which requires some pivoting, so keep this project around. We may revisit it.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tidy-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="census-intro.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/10-plots-answers.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
